(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[58],{1437:function(e,t,c){"use strict";c.r(t);var a=c(14),s=c(1),n=c(4),r=c(22),i=c(13),l=c(139),d=c(7),o=c.n(d),j=c(2),b=c(5),m=c(96),u=c(16),f=function(e){var t=e.permissions,c=Object(j.useState)([]),a=Object(r.a)(c,2),s=a[0],n=a[1];return Object(j.useEffect)((function(){n([]),b.a.post("/modules/list").then((function(e){n(e.data.modules)})).catch((function(){}))}),[t]),Object(u.jsx)(j.Fragment,{children:Object(u.jsx)(m.l,{children:Object(u.jsx)(m.m,{className:"p-0",children:Object(u.jsx)(m.ib,{children:Object(u.jsxs)(m.B,{xs:12,children:[Object(u.jsx)("h4",{className:"mt-2 pt-50",children:"Role Permissions"}),Object(u.jsx)(m.mb,{className:"table-flush-spacing",responsive:!0,children:Object(u.jsx)("tbody",{children:s.map((function(e,c){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-nowrap fw-bolder",children:e.name}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(u.jsx)(m.K,{type:"checkbox",id:"read-".concat(e.slug),value:"".concat(e.slug,"-read"),defaultChecked:t.indexOf("".concat(e.slug,"-read"))>-1,disabled:!0}),Object(u.jsx)(m.N,{className:"form-check-label",for:"read-".concat(e.slug),children:"Read"})]}),Object(u.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(u.jsx)(m.K,{type:"checkbox",id:"write-".concat(e.slug),value:"".concat(e.slug,"-write"),defaultChecked:t.indexOf("".concat(e.slug,"-write"))>-1,disabled:!0}),Object(u.jsx)(m.N,{className:"form-check-label",for:"write-".concat(e.slug),children:"Write"})]}),Object(u.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(u.jsx)(m.K,{type:"checkbox",id:"delete-".concat(e.slug),value:"".concat(e.slug,"-delete"),defaultChecked:t.indexOf("".concat(e.slug,"-delete"))>-1,disabled:!0}),Object(u.jsx)(m.N,{className:"form-check-label",for:"delete-".concat(e.slug),children:"Delete"})]}),Object(u.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(u.jsx)(m.K,{type:"checkbox",id:"import-".concat(e.slug),value:"".concat(e.slug,"-import"),defaultChecked:t.indexOf("".concat(e.slug,"-import"))>-1,disabled:!0}),Object(u.jsx)(m.N,{className:"form-check-label",for:"import-".concat(e.slug),children:"import"})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)(m.K,{type:"checkbox",id:"export-".concat(e.slug),value:"".concat(e.slug,"-export"),defaultChecked:t.indexOf("".concat(e.slug,"-export"))>-1,disabled:!0}),Object(u.jsx)(m.N,{className:"form-check-label",for:"export-".concat(e.slug),children:"Export"})]})]})})]},c)}))})})]})})})})})},O=c(536),x=c(533),h=c(539),N=c(540),p=c(159),g=(c(537),c(535),c(530),c(534),c(10)),v=c(39),I=c.n(v),k=c(140),y=c(526),w=c(527),B=Object(g.b)(),E=Object(g.d)(),C=function(){var e,t,c,d=Object(j.useState)(!1),g=Object(r.a)(d,2),v=g[0],C=g[1],q=function(){return Object(u.jsx)(j.Fragment,{children:Object(u.jsx)(w.a,{})})},S=Object(k.b)(),P=Object(i.f)(),K=Object(k.c)((function(e){return e.team})),z=h.d().shape({createdBy:h.f().default(E),organizationId:h.f().default(B),firstName:h.f().required("Please Enter a First Name"),lastName:h.f().required("Please Enter a Last Name"),name:h.f(),contactNo:h.f().required("Please Enter a Conatct No").max(10).min(10,"Invalid Contact No"),userTypeId:h.f().default(4),email:h.f().email("Please Enter valid Email").required("Please Enter valid Email"),designationId:h.f().required("Please Select Designation"),roleId:h.f().required("Please Select Role"),invitedAt:h.f().default(I()().unix()),recurringFlag:h.b().default(!0),expiryDate:h.f().default(I()().add(5,"days").unix()),departmentId:h.f().required("Please Select Department"),isRegistered:h.b().default(!1),invitedBy:h.f().default(E)}),R=Object(x.f)({resolver:Object(N.a)(z),defaultValues:z.cast()}),D=R.handleSubmit,F=R.control,V=R.formState.errors,L=R.setError,J=Object(j.useState)([]),_=Object(r.a)(J,2),A=_[0],T=_[1],W=Object(j.useState)([]),G=Object(r.a)(W,2),H=G[0],M=G[1],Q=Object(j.useState)([]),U=Object(r.a)(Q,2),X=U[0],Y=U[1],Z=Object(j.useState)([]),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ce=Object(j.useState)(""),ae=Object(r.a)(ce,2),se=ae[0],ne=ae[1];Object(j.useEffect)((function(){b.a.post("/designations/dropdown").then((function(e){M(e.data.designations)})).catch((function(){})),b.a.post("/departments/dropdown").then((function(e){T(e.data.departments)})).catch((function(){})),b.a.post("/roles/dropdown").then((function(e){Y(e.data.roles)})).catch((function(){}))}),[]),Object(j.useEffect)((function(){""!==se&&b.a.post("/rolepermissions/list",{roleId:se}).then((function(e){te(e.data.rolepermission.permissions.split(","))})).catch((function(){}))}),[se]);var re=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(Object(p.h)(t));case 2:P("/team/view/".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t){var c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),t.name="".concat(F._formValues.firstName," ").concat(F._formValues.lastName),e.next=4,S(Object(p.a)(t));case 4:void 0!==(c=e.sent).payload.id&&re(c.payload.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){null!==K.teamErrors&&(C(!1),Object.keys(K.teamErrors).map((function(e){L(e,{type:"custom",message:K.teamErrors[e][0]})})))}),[K.teamErrors]),Object(u.jsx)(y.a,{blocking:v,loader:Object(u.jsx)(q,{}),children:Object(u.jsxs)("form",{onSubmit:D(ie),children:[Object(u.jsxs)(m.l,{className:"invoice-preview-card",children:[Object(u.jsxs)(m.m,{className:"pb-0",children:[Object(u.jsxs)(m.ib,{children:[Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"firstName",children:"First Name"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{id:"firstName",name:"firstName",control:F,render:function(e){var t=e.field;return Object(u.jsx)(m.K,Object(a.a)({invalid:V.firstName&&!0},t))}}),V.firstName&&Object(u.jsx)(m.I,{children:V.firstName.message})]})]})}),Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"lastName",children:"Last Name"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{control:F,id:"lastName",name:"lastName",render:function(e){var t=e.field;return Object(u.jsx)(m.K,Object(a.a)({type:"text",invalid:V.lastName&&!0},t))}}),V.lastName&&Object(u.jsx)(m.I,{children:V.lastName.message})]})]})})]}),Object(u.jsxs)(m.ib,{children:[Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"contactNo",children:"Conatct No"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{id:"contactNo",name:"contactNo",control:F,render:function(e){var t=e.field;return Object(u.jsx)(m.K,Object(a.a)({invalid:V.contactNo&&!0},t))}}),V.contactNo&&Object(u.jsx)(m.I,{children:V.contactNo.message})]})]})}),Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"email",children:"Email"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{control:F,id:"email",name:"email",render:function(e){var t=e.field;return Object(u.jsx)(m.K,Object(a.a)({type:"email",invalid:V.email&&!0},t))}}),V.email&&Object(u.jsx)(m.I,{children:V.email.message})]})]})})]}),Object(u.jsxs)(m.ib,{children:[Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"designationId",children:"Designation"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{control:F,name:"designationId",id:"designationId",render:function(e){var t=e.field,c=e.value,s=e.ref;return Object(u.jsx)(O.a,Object(a.a)(Object(a.a)(Object(a.a)({},t),{},{inputRef:s,className:o()("react-select",{"is-invalid":V.designationId})},t),{},{classNamePrefix:"select",options:H,value:H.find((function(e){return e.id===c})),onChange:function(e){return t.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),V.designationId&&Object(u.jsx)(m.I,{className:"text-danger",children:null===(e=V.designationId)||void 0===e?void 0:e.message})]})]})}),Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"roleId",children:"Role"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{control:F,name:"roleId",id:"roleId",render:function(e){var t=e.field,c=e.value,s=e.ref;return Object(u.jsx)(O.a,Object(a.a)(Object(a.a)(Object(a.a)({},t),{},{inputRef:s,className:o()("react-select",{"is-invalid":V.roleId})},t),{},{classNamePrefix:"select",options:X,value:X.find((function(e){return e.id===c})),onChange:function(e){t.onChange(e.id),ne(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),V.roleId&&Object(u.jsx)(m.I,{className:"text-danger",children:null===(t=V.roleId)||void 0===t?void 0:t.message})]})]})})]}),Object(u.jsx)(m.ib,{children:Object(u.jsx)(m.B,{md:"6",className:"mb-1",children:Object(u.jsxs)(m.ib,{className:"mb-1",children:[Object(u.jsx)(m.N,{sm:"3",size:"lg",className:"form-label required",for:"departmentId",children:"Department"}),Object(u.jsxs)(m.B,{sm:"9",children:[Object(u.jsx)(x.a,{control:F,name:"departmentId",id:"departmentId",render:function(e){var t=e.field,c=e.value,s=e.ref;return Object(u.jsx)(O.a,Object(a.a)(Object(a.a)(Object(a.a)({},t),{},{inputRef:s,className:o()("react-select",{"is-invalid":V.departmentId})},t),{},{classNamePrefix:"select",options:A,value:A.find((function(e){return e.id===c})),onChange:function(e){return t.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),V.departmentId&&Object(u.jsx)(m.I,{className:"text-danger",children:null===(c=V.departmentId)||void 0===c?void 0:c.message})]})]})})})]}),ee.length>0&&Object(u.jsx)(m.m,{className:"invoice-padding",children:Object(u.jsx)(f,{permissions:ee})})]}),Object(u.jsx)(m.l,{children:Object(u.jsx)(m.m,{children:Object(u.jsxs)("div",{className:"modal-footer border-0",children:[Object(u.jsx)(m.i,{color:"warning",outline:!0,tag:l.b,to:"/team/list",children:"Cancel"}),Object(u.jsx)(m.i,{color:"primary",type:"submit",children:"Save"})]})})})]})})};t.default=function(){return Object(u.jsx)("div",{className:"invoice-add-wrapper",children:Object(u.jsx)(m.ib,{className:"invoice-add",children:Object(u.jsx)(m.B,{xl:12,md:12,sm:12,children:Object(u.jsx)(C,{})})})})}},526:function(e,t,c){"use strict";var a=c(14),s=c(34),n=c(2),r=c(7),i=c.n(r),l=c(96),d=(c(529),c(16)),o=function(e){var t,c=e.children,r=e.blocking,l=e.loader,o=e.className,j=e.tag,b=e.overlayColor,m=j;return Object(d.jsxs)(m,{className:i()("ui-loader",(t={},Object(s.a)(t,o,o),Object(s.a)(t,"show",r),t)),children:[c,r?Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)("div",Object(a.a)({className:"overlay"},r&&b?{style:{backgroundColor:b}}:{})),Object(d.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=o,o.defaultProps={tag:"div",blocking:!1,loader:Object(d.jsx)(l.jb,{color:"primary"})}},527:function(e,t,c){"use strict";var a=c(16);t.a=function(){return Object(a.jsx)("div",{className:"fallback-spinner",children:Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("div",{className:"effect-1 effects"}),Object(a.jsx)("div",{className:"effect-2 effects"}),Object(a.jsx)("div",{className:"effect-3 effects"})]})})}},529:function(e,t,c){},530:function(e,t,c){},534:function(e,t,c){},537:function(e,t,c){}}]);
//# sourceMappingURL=58.350c60a2.chunk.js.map