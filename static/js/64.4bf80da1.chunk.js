(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[64],{1663:function(e,t,n){"use strict";n.r(t);var c=n(15),i=n(134),s=n(5),a=n(16),r=n(2),l=n.n(r),o=n(1),d=n(9),m=n(131),b=n(4),j=n.n(b),u=n(132),O=n(144),f=n(10),h=n(806),p=n(813),x=n(493),g=n(490),v=n(515),N=n(516),y=n(90),_=(n(503),n(494),n(491),n(496),n(11)),B=function(){var e,t=/^[0-9\- ]{10,10}$/,n=Object(d.f)({}),r=Object(u.b)(),b=Object(o.useState)([]),B=Object(a.a)(b,2),S=B[0],E=B[1],P=Object(o.useState)([]),w=Object(a.a)(P,2),C=w[0],T=w[1],q=Object(o.useState)([]),k=Object(a.a)(q,2),A=k[0],I=k[1],z=Object(o.useState)([]),K=Object(a.a)(z,2),L=K[0],Z=K[1],G=Object(o.useState)([]),R=Object(a.a)(G,2),D=R[0],J=R[1],M=Object(o.useState)(2),U=Object(a.a)(M,2),V=U[0],$=U[1],F=Object(o.useState)([]),H=Object(a.a)(F,2),Q=H[0],W=H[1],X=Object(o.useState)(null),Y=Object(a.a)(X,2),ee=Y[0],te=Y[1],ne=Object(o.useState)({}),ce=Object(a.a)(ne,2),ie=ce[0],se=ce[1],ae=v.e().shape({clientType:v.d(),uniqueIdentity:v.g().required("Please Enter Unique Identity"),contactPersonName:v.g().required("Please Enter a Contact Person Name"),name:v.g().when(["clientType"],{is:function(e){return 2===e},then:v.g().required("Please Enter Business Name.")}),contactNumber:v.g().matches(t,{message:"Phone number is not valid",excludeEmptyString:!0}),email:v.g().email("Please Enter valid Email").required("Please Enter valid Email"),businessEntity:v.g().when(["clientType"],{is:function(e){return 2===e},then:v.g().required("Please Select Business Enity.")}),gstRegistrationType:v.g().required("Please select a GST Type"),gstin:v.g().required("Please Enter GSTIN No"),placeOfSupply:v.g().required("Please select Place Of Supply"),currency:v.g(),billingAddressZip:v.g().matches(/^[0-9\- ]{6,6}$/,{message:"Zip Code is not valid",excludeEmptyString:!0}),contact_info:v.a().of(v.e().shape({firstName:v.g().required("Please Enter A Name"),email:v.g().email().required("Please Enter valid Email"),contactNumber:v.g().matches(t,{message:"Phone number is not valid",excludeEmptyString:!0})})).min(1,"Please Enter atleast one contact Info")}),re=Object(g.f)({resolver:Object(N.a)(ae),defaultValues:ae.cast()}),le=re.register,oe=re.handleSubmit,de=re.reset,me=re.control,be=re.formState.errors,je=Object(d.g)().id,ue=Object(g.e)({name:"contact_info",control:me}),Oe=ue.fields,fe=ue.append,he=function(){var e=Object(s.a)(l.a.mark((function e(t){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.contact_info,W((function(e){return[].concat(Object(i.a)(e),Object(i.a)(c))})),delete t.contact_info,s=ie.id,e.next=6,r(Object(O.h)({data:t,id:s}));case 6:Q.length>0&&(r(Object(O.b)(Q)),n("/client/view/".concat(ee)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){fe({firstName:"",email:"",contactNumber:"",designation:"",is_primary:""})},xe=function(e){e.preventDefault(),e.target.closest(".repeater-wrapper").remove()},ge=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(O.f)(ee));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(O.e)(je));case 2:t=e.sent,se(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Object.keys(ie).length>0&&(de({clientType:1,uniqueIdentity:ie.uniqueidentity,contactPersonName:ie.contactpersonname,organization:ie.organizationid,name:ie.name,contactNumber:ie.contactnumber,businessEntity:ie.businessentityid,email:ie.email,gstRegistrationType:ie.gstregistrationtypeid,gstin:ie.gstin,placeOfSupply:ie.placeofsupplyid,currency:ie.currencyid,billingAddressLine1:ie.billingaddressline1,billingAddressLine2:ie.billingaddressline2,billingAddressCountry:ie.billingaddresscountry,billingAddressState:ie.billingaddressstate,billingAddressZip:ie.billingaddresszip,billingAddressCity:ie.billingaddresscity}),te(ie.id),pe()),null!==ee&&ge()}),[ee,ie]),Object(o.useEffect)((function(){f.a.post("/businessentities/list").then((function(e){var t=e.data;E(t.businessentities)})),f.a.post("/countries/list").then((function(e){var t=e.data;I(t.countries)})),f.a.post("/currencies/list").then((function(e){var t=e.data;Z(t.currencies)})),f.a.post("/gstregistrationtypes/list").then((function(e){var t=e.data;J(t.gstregistrationtypes)})),f.a.post("/states/list").then((function(e){var t=e.data;T(t.states)})),ve(),pe()}),[]);var Ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(_.jsxs)(y.ib,{className:"mb-1",children:[Object(_.jsx)(y.N,{sm:"3",size:"lg",className:j()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(_.jsxs)(y.B,{sm:"9",children:[Object(_.jsx)(g.a,{id:t,name:t,control:me,render:function(e){var n=e.field;return Object(_.jsx)(y.K,Object(c.a)({invalid:be[t]&&!0},n))}}),be[t]&&Object(_.jsx)(y.I,{children:be[t].message})]})]})},ye=function(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(_.jsxs)(y.ib,{className:"mb-1",children:[Object(_.jsx)(y.N,{sm:"3",size:"lg",className:j()("form-label ".concat(s?"required":"")),for:t,children:e}),Object(_.jsxs)(y.B,{sm:"9",children:[Object(_.jsx)(g.a,{control:me,name:t,id:t,render:function(e){var i=e.field,s=e.ref;return Object(_.jsx)(x.a,Object(c.a)(Object(c.a)({inputRef:s,className:j()("react-select",{"is-invalid":be[t]})},i),{},{classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===i.value})),onChange:function(e){return i.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),be[t]&&Object(_.jsx)(y.I,{className:"text-danger",children:null===(i=be[t])||void 0===i?void 0:i.message})]})]})};return Object(_.jsxs)("form",{onSubmit:oe(he),children:[Object(_.jsxs)(y.l,{className:"invoice-preview-card",children:[Object(_.jsxs)(y.m,{className:"pb-0",children:[Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Object(_.jsxs)(y.ib,{className:"mb-1",children:[Object(_.jsx)(y.N,{sm:"3",size:"lg",className:"form-label required",for:"contactPersonName",children:"Client Type"}),Object(_.jsxs)(y.B,{sm:"9",children:[Object(_.jsxs)("div",{className:"form-check form-check-primary form-check-inline",children:[Object(_.jsx)(g.a,{name:"clientType",control:me,render:function(e){var t=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({type:"radio",id:"clientType_1",defaultChecked:!0,value:2},t),{},{onChange:function(){return $(2)}}))}}),Object(_.jsx)(y.N,{className:"form-check-label",for:"clientType_1",children:"Business"})]}),Object(_.jsxs)("div",{className:"form-check form-check-primary form-check-inline",children:[Object(_.jsx)(g.a,{name:"clientType",control:me,render:function(e){var t=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({id:"clientType_2",type:"radio",value:1},t),{},{onChange:function(){return $(1)}}))}}),Object(_.jsx)(y.N,{className:"form-check-label",for:"clientType_2",children:"Individual"})]})]})]})}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Unique No","uniqueIdentity",!0)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Contact Person Name","contactPersonName",!0)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Business Name","name",!0)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Mobile Number","contactNumber")}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Email ID","email",!0)})]}),2===V&&Object(_.jsx)(y.ib,{children:Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:ye("Business Entity","businessEntity",S,!0)})})]}),Object(_.jsx)("hr",{className:"invoice-spacing"}),be.contact_info&&Object(_.jsx)("p",{className:"text-danger ms-2",children:null===(e=be.contact_info)||void 0===e?void 0:e.message}),Object(_.jsxs)(y.m,{className:"invoice-padding invoice-product-details",children:[Oe.map((function(e,t){var n,i,s,a,r,l,o,d,m,b,j,u,O,f,p,x;return Object(_.jsx)("div",{className:"repeater-wrapper",children:Object(_.jsx)(y.ib,{children:Object(_.jsxs)(y.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(_.jsxs)(y.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(_.jsxs)(y.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"First Name"}),Object(_.jsx)(g.a,{control:me,id:"contact_info_firstName",name:"contact_info.".concat(t,".name"),render:function(e){var n,i,s=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({type:"text"},le("contact_info.".concat(t,".name"))),{},{invalid:(null===(n=be.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&!0},s))}}),(null===(n=be.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&Object(_.jsx)(y.I,{children:null===(s=be.contact_info)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.name.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-2 mb-0 ",children:"Email"}),Object(_.jsx)(g.a,{control:me,id:"contact_info_email",name:"contact_info.".concat(t,".email"),render:function(e){var n,i,s=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({type:"email"},le("contact_info.".concat(t,".email"))),{},{invalid:(null===(n=be.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.email)&&!0},s))}}),(null===(r=be.contact_info)||void 0===r||null===(l=r[t])||void 0===l?void 0:l.email)&&Object(_.jsx)(y.I,{children:null===(o=be.contact_info)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-2 mb-0",children:"Mobile"}),Object(_.jsx)(g.a,{control:me,id:"contact_info_contactNumber",name:"contact_info.".concat(t,".contactNumber"),render:function(e){var n,i,s=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({type:"number"},le("contact_info.".concat(t,".contactNumber"))),{},{invalid:(null===(n=be.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.contactNumber)&&!0},s))}}),(null===(m=be.contact_info)||void 0===m||null===(b=m[t])||void 0===b?void 0:b.contactNumber)&&Object(_.jsx)(y.I,{children:null===(j=be.contact_info)||void 0===j||null===(u=j[t])||void 0===u?void 0:u.contactNumber.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"Designation"}),Object(_.jsx)(g.a,{control:me,id:"contact_info_designation",name:"contact_info.".concat(t,".designation"),render:function(e){var n,i,s=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({type:"text",invalid:(null===(n=be.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.designation)&&!0},le("contact_info.".concat(t,".designation"))),s))}}),(null===(O=be.contact_info)||void 0===O||null===(f=O[t])||void 0===f?void 0:f.designation)&&Object(_.jsx)(y.I,{children:null===(p=be.contact_info)||void 0===p||null===(x=p[t])||void 0===x?void 0:x.designation.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"Primary"}),Object(_.jsx)("div",{className:"form-switch form-check-primary",children:Object(_.jsx)(g.a,{control:me,id:"contact_info_primaryStatus",name:"contact_info.".concat(t,".primaryStatus"),render:function(e){var n=e.field;return Object(_.jsx)(y.K,Object(c.a)(Object(c.a)({type:"switch"},le("contact_info.".concat(t,".primaryStatus"))),n))}})})]})]}),Object(_.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(_.jsx)(h.a,{size:18,className:"cursor-pointer",onClick:xe})})]})})},t)})),Object(_.jsx)(y.ib,{className:"mt-1",children:Object(_.jsx)(y.B,{sm:"12",className:"px-0",children:Object(_.jsxs)(y.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return pe()},children:[Object(_.jsx)(p.a,{size:14,className:"me-25"})," ",Object(_.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(_.jsx)("hr",{className:"invoice-spacing"}),Object(_.jsxs)(y.m,{children:[Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:ye("GST Type","gstRegistrationType",D,!0)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:ye("Place of Supply","placeOfSupply",C,!0)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("GSTIN","gstin",!0)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:ye("Currency","currency",L,!0)})]})]}),Object(_.jsxs)(y.m,{className:"",children:[Object(_.jsx)("h4",{className:"text-primary",children:"Billing Address"}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Address Line1","billingAddressLine1")}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Address Line2","billingAddressLine2")})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("City","billingAddressCity")}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:ye("State","billingAddressState",C)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:ye("Country","billingAddressCountry",A)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Zip Code","billingAddressZip")})]})]})]}),Object(_.jsx)(y.l,{children:Object(_.jsx)(y.m,{children:Object(_.jsxs)("div",{className:"modal-footer border-0",children:[Object(_.jsx)(y.i,{color:"warning",outline:!0,tag:m.b,to:"/client/list",children:"Cancel"}),Object(_.jsx)(y.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(_.jsx)("div",{className:"invoice-add-wrapper",children:Object(_.jsx)(y.ib,{className:"invoice-add",children:Object(_.jsx)(y.B,{xl:12,md:12,sm:12,children:Object(_.jsx)(B,{})})})})}},491:function(e,t,n){},496:function(e,t,n){},503:function(e,t,n){}}]);
//# sourceMappingURL=64.4bf80da1.chunk.js.map