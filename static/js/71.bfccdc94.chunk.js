(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[71],{1688:function(e,t,c){"use strict";c.r(t);var a=c(17),n=c(4),s=c(18),r=c(2),i=c.n(r),l=c(506),d=c(10),o=c(132),j=c(133),b=c(504),u=c(518),m=c(519),x=c(148),O=c(5),f=c(6),h=c.n(f),p=c(91),v=(c(520),c(507),c(505),c(510),c(1)),g=c(15),N=c(12),y=Object(g.b)(),S=Object(g.d)(),B=function(){var e=Object(d.f)({}),t=Object(j.b)(),c=Object(v.useState)([]),r=Object(s.a)(c,2),f=r[0],g=r[1],B=Object(v.useState)(!0),I=Object(s.a)(B,2),w=I[0],C=I[1],P=Object(v.useState)([]),q=Object(s.a)(P,2),R=q[0],A=q[1],T=Object(v.useState)([]),E=Object(s.a)(T,2),z=E[0],k=E[1],G=u.d().shape({createdBy:u.f().default(S),categoryId:u.f().required("Please select a Category"),categoryType:u.c().default(1),name:u.f().required("Please Enter Service Name"),organizationId:u.c().default(y),taxGroupId:u.f().required("Please Select Tax Rate"),sellingPrice:u.f().required("Please Enter Professional Fee"),isTaxApplicable:u.b().default(!0),exemptionReasonId:u.c().when(["isTaxApplicable"],{is:function(e){return!e},then:u.c().required("Please Select Exemption Reason")}).nullable(),sacCode:u.f().required("Please Enter SAC Code")}),L=Object(b.f)({resolver:Object(m.a)(G),defaultValues:G.cast()}),V=L.handleSubmit,F=L.control,J=L.formState.errors,D=L.setValue;Object(v.useEffect)((function(){O.a.post("/taxgroups/dropdown").then((function(e){var t=e.data;A(t.taxgroups)})),O.a.post("/categories/list").then((function(e){var t=e.data;g(t.categories)})),O.a.post("/exemptionreasons/dropdown").then((function(e){var t=e.data;k(t.exemptionreasons)}))}),[]);var H=function(){var c=Object(n.a)(i.a.mark((function c(a){var n,s;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t(Object(x.a)(a));case 2:n=c.sent,s=n.payload.id,e("/service/view/".concat(s));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),K=function(e){e.nontaxableflag?(C(!1),D("isTaxApplicable",!1)):(C(!0),D("exemptionReasonId",null),D("isTaxApplicable",!0))},M=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(N.jsxs)(p.jb,{className:"mb-1",children:[Object(N.jsx)(p.O,{sm:"3",size:"lg",className:h()("form-label ".concat(c?"required":"")),for:t,children:e}),Object(N.jsxs)(p.B,{sm:"9",children:[Object(N.jsx)(b.a,{id:t,name:t,control:F,render:function(e){var c=e.field;return Object(N.jsx)(p.L,Object(a.a)({invalid:J[t]&&!0},c))}}),J[t]&&Object(N.jsx)(p.I,{children:J[t].message})]})]})},Q=function(e,t,c){var n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(N.jsxs)(p.jb,{className:"mb-1",children:[Object(N.jsx)(p.O,{sm:"3",size:"lg",className:h()("form-label ".concat(s?"required":"")),for:t,children:e}),Object(N.jsxs)(p.B,{sm:"9",children:[Object(N.jsx)(b.a,{control:F,name:t,id:t,render:function(e){var n=e.field,s=e.ref;return Object(N.jsx)(l.a,Object(a.a)(Object(a.a)({inputRef:s,className:h()("react-select",{"is-invalid":J[t]})},n),{},{classNamePrefix:"select",options:c,value:c.find((function(e){return e.id===n.value})),onChange:function(e){n.onChange(e.id),"taxGroupId"===t&&K(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),J[t]&&Object(N.jsx)(p.I,{className:"text-danger",children:null===(n=J[t])||void 0===n?void 0:n.message})]})]})};return Object(N.jsxs)("form",{onSubmit:V(H),children:[Object(N.jsxs)(p.l,{className:"invoice-preview-card",children:[Object(N.jsx)(p.p,{children:Object(N.jsx)(p.v,{children:" Add Service"})}),Object(N.jsxs)(p.m,{className:"pb-0",children:[Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:Q("Category","categoryId",f,!0)})}),Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:M("Name","name",!0)})}),Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:M("SAC Code","sacCode",!0)})}),Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:M("Professional Fee","sellingPrice",!0)})}),Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:Q("Tax Rate","taxGroupId",R,!0)})}),!w&&Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:Q("Exemption Reason","exemptionReasonId",z,!0)})}),Object(N.jsx)(p.jb,{children:Object(N.jsx)(p.B,{md:"6",className:"mb-1",children:Object(N.jsxs)(p.jb,{className:"mb-1",children:[Object(N.jsx)(p.O,{sm:"3",size:"lg",className:"form-label required",for:"description",children:"Description"}),Object(N.jsxs)(p.B,{sm:"9",children:[Object(N.jsx)(b.a,{id:"description",name:"description",control:F,render:function(e){var t=e.field;return Object(N.jsx)(p.L,Object(a.a)({type:"textarea",invalid:J.description&&!0},t))}}),J.description&&Object(N.jsx)(p.I,{children:J.description.message})]})]})})})]})]}),Object(N.jsx)(p.l,{children:Object(N.jsx)(p.m,{children:Object(N.jsxs)("div",{className:"modal-footer border-0",children:[Object(N.jsx)(p.i,{color:"warning",outline:!0,tag:o.b,to:"/service/list",children:"Cancel"}),Object(N.jsx)(p.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(N.jsx)("div",{className:"invoice-add-wrapper",children:Object(N.jsx)(p.jb,{className:"invoice-add",children:Object(N.jsx)(p.B,{xl:12,md:12,sm:12,children:Object(N.jsx)(B,{})})})})}},505:function(e,t,c){},510:function(e,t,c){},520:function(e,t,c){}}]);
//# sourceMappingURL=71.bfccdc94.chunk.js.map