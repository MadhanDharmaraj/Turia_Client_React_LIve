(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[66],{1664:function(e,c,t){"use strict";t.r(c);var a=t(15),s=t(5),r=t(16),n=t(2),i=t.n(n),l=t(492),d=t(9),o=t(131),j=t(132),b=t(489),m=t(514),u=t(515),O=t(147),x=t(14),f=t(3),g=t.n(f),h=t(90),p=(t(502),t(493),t(490),t(495),t(1)),v=t(10),N=function(){var e,c,t=Object(d.g)().id,n=Object(d.f)({}),f=Object(j.b)(),N=Object(p.useState)([]),y=Object(r.a)(N,2),C=y[0],P=y[1],I=Object(p.useState)([]),B=Object(r.a)(I,2),w=B[0],S=B[1],z=Object(p.useState)([]),k=Object(r.a)(z,2),q=k[0],E=k[1],K=m.e().shape({categoryId:m.g().required("Please select a Category"),name:m.g().required("Please Enter Service Name"),taxgroupid:m.g().required("Please Select Tax Rate"),sellingPrice:m.g().required("Please Enter Professional Fee"),sacCode:m.g().required("Please Enter SAC Code")}),R=Object(b.f)({resolver:Object(u.a)(K),defaultValues:{organizationId:1,categoryType:1,categoryId:"",name:"",sellingPrice:"",sacCode:"",taxgroupid:"",description:""}}),T=R.handleSubmit,V=R.control,A=R.reset,F=R.formState.errors,J=function(){var e=Object(s.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(Object(O.e)(t));case 2:c=e.sent,E(c.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){Object.keys(q).length>0&&A({categoryId:q.categoryid,name:q.name,organizationId:q.organizationid,sellingPrice:q.sellingprice,sacCode:q.saccode,taxgroupid:q.taxgroupid,description:q.description})}),[q]),Object(p.useEffect)((function(){x.a.post("/taxgroups/dropdown").then((function(e){var c=e.data;S(c.taxgroups)})),x.a.post("/categories/list").then((function(e){var c=e.data;P(c.categories)})),J()}),[]);var L=function(){var e=Object(s.a)(i.a.mark((function e(c){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(Object(O.f)({data:c,id:t}));case 2:a=e.sent,s=a.payload.services.id,n("/service/view/".concat(s));case 5:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:T(L),children:[Object(v.jsx)(h.l,{className:"invoice-preview-card",children:Object(v.jsxs)(h.m,{className:"pb-0",children:[Object(v.jsx)(h.ib,{children:Object(v.jsx)(h.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(h.ib,{className:"mb-1",children:[Object(v.jsx)(h.N,{sm:"3",size:"lg",className:"form-label",for:"categoryId",children:"Category"}),Object(v.jsxs)(h.B,{sm:"9",children:[Object(v.jsx)(b.a,{control:V,name:"categoryId",id:"categoryId",render:function(e){var c=e.field,t=e.value,s=e.ref;return Object(v.jsx)(l.a,Object(a.a)(Object(a.a)(Object(a.a)({},c),{},{inputRef:s,className:g()("react-select",{"is-invalid":F.categoryId})},c),{},{classNamePrefix:"select",options:C,value:C.find((function(e){return e.id===t})),onChange:function(e){return c.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),F.categoryId&&Object(v.jsx)(h.I,{className:"text-danger",children:null===(e=F.categoryId)||void 0===e?void 0:e.message})]})]})})}),Object(v.jsx)(h.ib,{children:Object(v.jsx)(h.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(h.ib,{className:"mb-1",children:[Object(v.jsx)(h.N,{sm:"3",size:"lg",className:"form-label",for:"name",children:"Name"}),Object(v.jsxs)(h.B,{sm:"9",children:[Object(v.jsx)(b.a,{id:"name",name:"name",control:V,render:function(e){var c=e.field;return Object(v.jsx)(h.K,Object(a.a)({invalid:F.name&&!0},c))}}),F.name&&Object(v.jsx)(h.I,{children:F.name.message})]})]})})}),Object(v.jsx)(h.ib,{children:Object(v.jsx)(h.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(h.ib,{className:"mb-1",children:[Object(v.jsx)(h.N,{sm:"3",size:"lg",className:"form-label",for:"sacCode",children:"SAC Code"}),Object(v.jsxs)(h.B,{sm:"9",children:[Object(v.jsx)(b.a,{id:"sacCode",name:"sacCode",control:V,render:function(e){var c=e.field;return Object(v.jsx)(h.K,Object(a.a)({invalid:F.sacCode&&!0},c))}}),F.sacCode&&Object(v.jsx)(h.I,{children:F.sacCode.message})]})]})})}),Object(v.jsx)(h.ib,{children:Object(v.jsx)(h.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(h.ib,{className:"mb-1",children:[Object(v.jsx)(h.N,{sm:"3",size:"lg",className:"form-label",for:"sellingPrice",children:"Professional Fee"}),Object(v.jsxs)(h.B,{sm:"9",children:[Object(v.jsx)(b.a,{id:"sellingPrice",name:"sellingPrice",control:V,render:function(e){var c=e.field;return Object(v.jsx)(h.K,Object(a.a)({invalid:F.sellingPrice&&!0},c))}}),F.sellingPrice&&Object(v.jsx)(h.I,{children:F.sellingPrice.message})]})]})})}),Object(v.jsx)(h.ib,{children:Object(v.jsx)(h.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(h.ib,{className:"mb-1",children:[Object(v.jsx)(h.N,{sm:"3",size:"lg",className:"form-label",for:"taxgroupid",children:"Tax Rate"}),Object(v.jsxs)(h.B,{sm:"9",children:[Object(v.jsx)(b.a,{control:V,name:"taxgroupid",id:"taxgroupid",render:function(e){var c=e.field,t=e.value,s=e.ref;return Object(v.jsx)(l.a,Object(a.a)(Object(a.a)(Object(a.a)({},c),{},{inputRef:s,className:g()("react-select",{"is-invalid":F.taxgroupid})},c),{},{classNamePrefix:"select",options:w,value:w.find((function(e){return e.id===t})),onChange:function(e){return c.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),F.taxgroupid&&Object(v.jsx)(h.I,{className:"text-danger",children:null===(c=F.taxgroupid)||void 0===c?void 0:c.message})]})]})})}),Object(v.jsx)(h.ib,{children:Object(v.jsx)(h.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(h.ib,{className:"mb-1",children:[Object(v.jsx)(h.N,{sm:"3",size:"lg",className:"form-label",for:"description",children:"Description"}),Object(v.jsxs)(h.B,{sm:"9",children:[Object(v.jsx)(b.a,{id:"description",name:"description",control:V,render:function(e){var c=e.field;return Object(v.jsx)(h.K,Object(a.a)({type:"textarea",invalid:F.description&&!0},c))}}),F.description&&Object(v.jsx)(h.I,{children:F.description.message})]})]})})})]})}),Object(v.jsx)(h.l,{children:Object(v.jsx)(h.m,{children:Object(v.jsxs)("div",{className:"modal-footer border-0",children:[Object(v.jsx)(h.i,{color:"warning",outline:!0,tag:o.b,to:"/service/list",children:"Cancel"}),Object(v.jsx)(h.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};c.default=function(){return Object(v.jsx)("div",{className:"invoice-add-wrapper",children:Object(v.jsx)(h.ib,{className:"invoice-add",children:Object(v.jsx)(h.B,{xl:12,md:12,sm:12,children:Object(v.jsx)(N,{})})})})}},490:function(e,c,t){},495:function(e,c,t){},502:function(e,c,t){}}]);
//# sourceMappingURL=66.ca2d0c5b.chunk.js.map