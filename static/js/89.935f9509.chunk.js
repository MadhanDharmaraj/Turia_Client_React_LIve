(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[89],{568:function(e,t,c){},609:function(e,t,c){"use strict";var s=c(4),a=c(18),n=c(1),i=c.n(n),r=c(91),l=c(909),j=c(910),o=c(12),u=c(507),d=c(153),b=c(2),O=c(133),m=c(514),h=c.n(m),x=c(13),f=Object(o.b)(),v=Object(o.e)(),p=Object(o.d)();t.a=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.dashboard})),c=Object(b.useState)(!1),n=Object(a.a)(c,2),o=n[0],m=n[1],g=Object(b.useState)(null),N=Object(a.a)(g,2),y=N[0],Y=N[1],k=Object(b.useState)(null),D=Object(a.a)(k,2),I=D[0],M=D[1],z=Object(b.useState)(null),S=Object(a.a)(z,2),w=S[0],H=S[1],B=Object(b.useState)(null),E=Object(a.a)(B,2),T=E[0],P=E[1],C=Object(b.useState)(null),J=Object(a.a)(C,2),R=J[0],q=J[1],A={color:"light-success",icon:Object(x.jsx)(l.a,{size:24})},W={color:"light-danger",icon:Object(x.jsx)(j.a,{size:24})},F=function(){var t=Object(s.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={organizationId:f,punchIn:h()().unix(),userId:v,createdBy:v},t.next=3,e(Object(d.c)(c));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(e){var t=e/1e3,c=parseInt(t/3600);t%=3600;var s=parseInt(t/60);return t%=60,"".concat(c," Hrs : ").concat(s," Mins")},K=function(){var t=Object(s.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={organizationId:f,punchOut:h()().unix(),userId:v,id:y.id,updatedBy:v},t.next=3,e(Object(d.d)(c));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.useEffect)((function(){if(void 0!==w&&null!==w){var e=h()(),t=h()(e,"DD/MM/YYYY HH:mm:ss").diff(h()(w,"DD/MM/YYYY HH:mm:ss"));P(G(t))}}),[w]),Object(b.useEffect)((function(){var e=JSON.parse(localStorage.getItem("loggedIn"));if(null===e)m(!1);else{m(!0),q(e.punchout),Y(e),M(h.a.unix(e.punchin).format("h:m a"));var t=h.a.unix(e.punchin).format("DD/MM/YYYY HH:mm:ss");H(t),e.punchout&&(m(!1),q(h.a.unix(e.punchout).format("h:m a")))}}),[]),Object(b.useEffect)((function(){if(t&&t.data&&Object.keys(t.data).length>0){m(!0);var e=t.data;Y(e),localStorage.setItem("loggedIn",JSON.stringify(e)),M(h.a.unix(e.punchin).format("h:m a")),H(h.a.unix(e.punchin).format("DD/MM/YYYY HH:mm:ss")),e.punchout&&(m(!1),q(h.a.unix(e.punchout).format("h:m a"))),null===e.punchout&&setInterval((function(){!function(){if(void 0!==w&&null!==w){var e=h()(),t=h()(e,"DD/MM/YYYY HH:mm:ss").diff(h()(w,"DD/MM/YYYY HH:mm:ss"));P(G(t))}}()}),1e3)}else localStorage.removeItem("loggedIn"),Y(null),m(!1),q(null),M(null),H(null)}),[t.data]),Object(b.useEffect)(Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(d.b)({userId:v}));case 2:case"end":return t.stop()}}),t)}))),[]),Object(x.jsx)(r.l,{className:"card-congratulations-medal",children:Object(x.jsxs)(r.m,{className:"flex",children:[Object(x.jsxs)("h5",{children:["Welcome \ud83c\udf89 ",p.name,"!"]}),o?Object(x.jsx)(r.i,{color:"danger",onClick:function(){return K()},children:"Punch Out"}):Object(x.jsx)(r.i,{color:"success",onClick:function(){return F()},children:"Punch In"}),Object(x.jsxs)(r.jb,{className:"mt-2",children:[Object(x.jsxs)(r.B,{className:"d-flex align-items-center",sm:12,lg:6,children:[Object(x.jsx)(u.a,{color:A.color,icon:A.icon,className:"me-2 p-1"}),Object(x.jsxs)(r.B,{children:[Object(x.jsx)("h6",{className:"fw-bolder mb-0",children:"Punch In"}),Object(x.jsx)(r.u,{className:"font-small-3 mb-0",children:null===I?"00:00:00":I})]})]}),Object(x.jsxs)(r.B,{className:"d-flex align-items-center",sm:12,lg:6,children:[Object(x.jsx)(u.a,{color:W.color,icon:W.icon,className:"me-2 p-1"}),Object(x.jsxs)(r.B,{children:[Object(x.jsx)("h6",{className:"fw-bolder mb-0",children:"Punch Out"}),Object(x.jsx)(r.u,{className:"font-small-3 mb-0",children:null===R?T:R})]})]})]})]})})}},610:function(e,t,c){"use strict";var s=c(17),a=c(31),n=c(18),i=c(6),r=c.n(i),l=c(955),j=c(507),o=c(5),u=c(91),d=c(2),b=c(13),O=[{status:1,title:"0",subtitle:"Assigned",color:"light-primary",icon:Object(b.jsx)(l.a,{size:24})},{status:2,title:"0",subtitle:"Inprogress",color:"light-primary",icon:Object(b.jsx)(l.a,{size:24})},{status:3,title:"0",subtitle:"Completed",color:"light-primary",icon:Object(b.jsx)(l.a,{size:24})},{status:6,title:"0",subtitle:"Pending Review",color:"light-primary",icon:Object(b.jsx)(l.a,{size:24})},{status:7,title:"0",subtitle:"Request Changes",color:"light-primary",icon:Object(b.jsx)(l.a,{size:24})}];t.a=function(e){var t=e.cols,c=Object(d.useState)([]),i=Object(n.a)(c,2),l=i[0],m=i[1];Object(d.useEffect)((function(){o.a.post("tasks/taskcountbystatus").then((function(e){O.forEach((function(t,c){var s=e.data.tasks.findIndex((function(e){return parseInt(e.taskstatus)===t.status}));s>-1&&(O[c].title=e.data.tasks[s].count)})),m(O)})).catch((function(e){console.log(e)}))}),[]);return Object(b.jsxs)(u.l,{className:"card-statistics",children:[Object(b.jsx)(u.p,{children:Object(b.jsx)(u.v,{tag:"h4",children:"Statistics"})}),Object(b.jsx)(u.m,{className:"statistics-body",children:Object(b.jsx)(u.jb,{children:l.map((function(e,c){var n=Object.keys(t),i=5===c?"sm":n[0];return Object(b.jsx)(u.B,Object(s.a)(Object(s.a)({},t),{},{className:r()(Object(a.a)({},"mb-2 mb-".concat(i,"-0"),c!==O.length-1)),children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)(j.a,{color:e.color,icon:e.icon,className:"me-2"}),Object(b.jsxs)("div",{className:"my-auto",children:[Object(b.jsx)("h6",{className:"fw-bolder mb-0",children:e.title}),Object(b.jsx)(u.u,{className:"font-small-3 mb-0",children:e.subtitle})]})]})}),c)}))})})]})}},640:function(e,t,c){},655:function(e,t,c){"use strict";c.r(t);var s=c(91),a=c(609),n=c(610),i=c(18),r=c(507),l=c(853),j=c(920),o=c(890),u=c(2),d=c(5),b=c(12),O=c(514),m=c.n(O),h=c(13),x=Object(b.e)(),f=function(){var e=Object(u.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],n=m()().startOf("day").unix();Object(u.useEffect)((function(){d.a.post("/tasks/dashboardmytasklist",{userId:x,endDate:n}).then((function(e){a(e.data.tasks)})).catch((function(e){console.log(e)}))}),[]);return Object(h.jsxs)(s.l,{className:"card-transaction",children:[Object(h.jsx)(s.p,{children:Object(h.jsxs)(s.v,{tag:"h4",children:[Object(h.jsx)(j.a,{size:18}),"My Tasks"]})}),Object(h.jsxs)(s.m,{children:[c.length>0&&c.map((function(e,t){if(t<5)return Object(h.jsxs)("div",{className:"transaction-item",children:[Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)(r.a,{className:"rounded",size:12,color:"priamry",icon:Object(h.jsx)(l.a,{size:12})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{className:"transaction-title",children:e.servicename}),Object(h.jsx)("small",{children:e.clientname})]})]}),Object(h.jsx)("div",{className:"fw-bolder text-success",children:(c=e.enddate,m.a.unix(c).format("MMM DD, YYYY"))})]},e.servicename);var c})),0===c.length&&Object(h.jsxs)(s.jb,{children:[Object(h.jsx)(o.a,{}),Object(h.jsx)("p",{className:"text-center mt-2",children:"You Dont have any tasks Today"})]})]})]})},v=Object(b.e)(),p=function(){var e=m()().startOf("day").unix(),t=Object(u.useState)([]),c=Object(i.a)(t,2),a=c[0],n=c[1];Object(u.useEffect)((function(){d.a.post("/tasks/dashboardmytasklisttoday",{userId:v,endDate:e}).then((function(e){n(e.data.tasks)})).catch((function(e){console.log(e)}))}),[]);return Object(h.jsxs)(s.l,{className:"card-transaction",children:[Object(h.jsx)(s.p,{children:Object(h.jsxs)(s.v,{tag:"h4",children:[Object(h.jsx)(j.a,{size:18}),"My Task Dues Today "]})}),Object(h.jsxs)(s.m,{children:[a.length>0&&a.map((function(e,t){if(t<5)return Object(h.jsxs)("div",{className:"transaction-item",children:[Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)(r.a,{className:"rounded",size:12,color:"priamry",icon:Object(h.jsx)(l.a,{size:12})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{className:"transaction-title",children:e.servicename}),Object(h.jsx)("small",{children:e.clientname})]})]}),Object(h.jsx)("div",{className:"fw-bolder text-danger",children:(c=e.enddate,m.a.unix(c).format("MMM DD, YYYY"))})]},e.servicename);var c})),0===a.length&&Object(h.jsxs)(s.jb,{children:[Object(h.jsx)(o.a,{}),Object(h.jsx)("p",{className:"text-center mt-2",children:"You Dont have any tasks dues Today"})]})]})]})},g=Object(b.e)(),N=function(){var e=m()().startOf("day").unix(),t=function(e){var t=m()();return m()(e).diff(t,"days")},c=Object(u.useState)([]),a=Object(i.a)(c,2),n=a[0],b=a[1];Object(u.useEffect)((function(){d.a.post("/tasks/dashboardmytaskoverdues",{userId:g,endDate:e}).then((function(e){b(e.data.tasks)})).catch((function(e){console.log(e)}))}),[]);return Object(h.jsxs)(s.l,{className:"card-transaction",children:[Object(h.jsx)(s.p,{children:Object(h.jsxs)(s.v,{tag:"h4",children:[Object(h.jsx)(j.a,{size:18}),"My OverDue Tasks"]})}),Object(h.jsxs)(s.m,{children:[n.length>0&&n.map((function(e,c){if(c<5)return Object(h.jsxs)("div",{className:"transaction-item",children:[Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)(r.a,{className:"rounded",size:12,color:"priamry",icon:Object(h.jsx)(l.a,{size:12})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{className:"transaction-title",children:e.servicename}),Object(h.jsx)("small",{children:e.clientname})]})]}),Object(h.jsx)("div",{className:"fw-bolder text-danger",children:t(e.enddate)})]},e.servicename)})),0===n.length&&Object(h.jsxs)(s.jb,{children:[Object(h.jsx)(o.a,{}),Object(h.jsx)("p",{className:"text-center mt-2",children:"You Dont have any Overdue tasks."})]})]})]})};c(568),c(640),t.default=function(){return Object(h.jsxs)("div",{id:"dashboard-ecommerce",children:[Object(h.jsxs)(s.jb,{className:"match-height",children:[Object(h.jsx)(s.B,{xl:"4",md:"6",xs:"12",children:Object(h.jsx)(a.a,{})}),Object(h.jsx)(s.B,{xl:"8",md:"6",xs:"12",children:Object(h.jsx)(n.a,{cols:{xl:"3",sm:"6"}})})]}),Object(h.jsxs)(s.jb,{className:"match-height",children:[Object(h.jsx)(s.B,{xl:"4",md:"6",xs:"12",children:Object(h.jsx)(f,{})}),Object(h.jsx)(s.B,{xl:"4",md:"6",xs:"12",children:Object(h.jsx)(p,{cols:{xl:"2",sm:"6"}})}),Object(h.jsx)(s.B,{xl:"4",md:"6",xs:"12",children:Object(h.jsx)(N,{cols:{xl:"2",sm:"6"}})})]})]})}}}]);
//# sourceMappingURL=89.935f9509.chunk.js.map