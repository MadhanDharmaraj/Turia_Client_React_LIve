{"version":3,"sources":["views/apps/invoice/preview/PreviewCard.js","views/apps/invoice/preview/PreviewActions.js","views/apps/invoice/preview/InvoicePayment/EditPayment.js","views/apps/invoice/preview/InvoicePayment/index.js","views/apps/invoice/preview/InvoicePayment/AddPayment.js","views/apps/invoice/preview/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","@core/components/sidebar/index.js","../node_modules/react-select/dist/useCreatable-00a6568c.esm.js","../node_modules/react-select/creatable/dist/react-select.esm.js","views/apps/invoice/helper/hepler.js","views/apps/invoice/shared-sidebar/SidebarSendInvoice.js"],"names":["activeOrg","activeOrganization","PreviewCard","amount","data","id","useParams","dispatch","useDispatch","useState","invoiceItems","setInvoiceItems","invoiceTaxes","setInvoiceTaxes","dateFormat","value","length","moment","format","unix","a","b","paymentstatusObj","name","color","renderStatus","val","find","o","parseInt","inWords","num","undefined","toString","n","substr","match","str","Number","isNaN","replace","txt","charAt","toUpperCase","toLowerCase","useEffect","parser","calculatetaxes","getInvoiceItems","res","payload","className","paymentstatus","imageid","Math","floor","random","content","renderOrg","height","width","src","alt","addressline1","addressline2","city","pinzipcode","statename","gstin","uniqueno","invoicedate","paymentdue","md","contactname","billingaddressline1","billingaddressline2","billingaddresscity","billingaddresszipcode","billingaddressstate","dueamount","bankaccountbankname","bankaccountholdername","bankaccountbranchname","bankaccountifsccode","xl","placeofsupplyname","billingcurrencyshortname","isrcmapplicable","responsive","map","item","ind","servicesName","description","sacCode","price","taxes","obj","k","taxName","tax_name","taxAmount","tax_amount_calculated","isTaxApplicable","taxGroupName","exemptionReasonName","subTotalAmount","order","lg","totalamount","split","subtotalamount","key","tax_percentage","tax_amount","sm","note","PreviewActions","setSendSidebarOpen","setAddPaymentOpen","invoice","participants","setParticipants","axios","post","invoiceId","then","taskinvoiceparticipants","catch","err","console","log","Can","I","block","onClick","outline","downloadLink","document","createElement","fileName","href","pdf","download","click","removeChild","window","print","tag","Link","to","user","taskid","uniqueidentity","activeOrgId","activeOrganizationid","userId","orgUserId","AddPayment","open","toggleSidebar","selectedPayment","taxDeducted","setTaxDeducted","accountOptions","setAccountOptions","amountErr","setAmountErr","schema","yup","shape","organizationId","default","updatedBy","contactId","isTaxDeducted","amountWithHeld","when","is","required","totalAmountPaid","paymentDate","referenceOfMainId","pendingAmountBeforeRecord","transactionAccountId","referenceNo","billingCurrency","billingAddress","notes","paymentConfirmation","useForm","resolver","yupResolver","defaultValues","cast","handleSubmit","control","errors","formState","reset","onSubmit","formData","payamount","parseFloat","_formValues","totalPaidamount","amountHeld","pendingamountbeforerecord","updateInvociePayments","datatemp","status","updateInvoicePayment","contactid","istaxdeducted","amountwithheld","totalamountpaid","paymentdate","referenceofmainid","transactionaccountid","referenceno","billingcurrency","billingaddress","getRow","fieldLabel","fieldName","reqflag","size","classnames","for","render","field","invalid","message","response","arr","transactionaccounts","title","headerClassName","contentClassName","billingcurrencysymbol","onChange","date","dateStr","options","altInput","altFormat","ref","inputRef","classNamePrefix","c","getOptionLabel","option","accountHolderName","getOptionValue","getSelectRow","type","onInput","defaultChecked","MySwal","withReactContent","Swal","InvoicePayments","tabId","store","useSelector","state","invoicepayment","payments","setPayments","setSelectedPayment","editPaymentOpen","setEditPaymentOpen","toggleEditSidebar","row","getData","invoicePayments","EditPayment","JSON","parse","currency_symbol","e","preventDefault","fire","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","deleteInvociePayments","totalAmount","deletefun","createdBy","bankaccountid","addInvoicePayments","InvoicePreview","sendSidebarOpen","addPaymentOpen","setData","active","setActive","getInvoice","taskinvoices","toggleTab","tab","pills","activeTab","InvoicePayment","UILoader","props","children","blocking","loader","overlayColor","Tag","style","backgroundColor","defaultProps","ComponentSpinner","Sidebar","closeBtn","bodyClassName","wrapperClassName","rest","renderCloseBtn","isOpen","toggle","modalClassName","String","close","wheelPropagation","_excluded","compareOption","arguments","accessors","candidate","optionValue","optionLabel","builtins","formatCreateLabel","inputValue","concat","isValidNewOption","selectValue","selectOptions","some","getNewOptionData","label","__isNew__","CreatableSelect","React","forwardRef","selectProps","_ref","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","propsOptions","propsOnChange","restSelectProps","_objectWithoutProperties","_restSelectProps$getO","getOptionValue$1","_restSelectProps$getO2","getOptionLabel$1","isLoading","isMulti","newOption","useMemo","cleanValue","_toConsumableArray","useCallback","newValue","actionMeta","action","valueArray","Array","isArray","newOptionData","newActionMeta","valueTernary","_objectSpread2","useCreatable","useStateManager","Select","_extends","calculateTax","taxRateInPercentage","TaxType","calculatedTax","userData","loggedInUser","SidebarSendInvoice","colourStyles","multiValue","styles","setBlock","Loader","thankyouNote","setThankyouNote","userOptions","setUserOptions","clientOptions","setClientOptions","toEmail","setToEmail","ccEmail","setCCEmail","getCoatctInfo","contactinformations","getThankyouNotes","slug","test","emailtemplates","taskinvoiceitemsservicename","contactperson","replaceAll","clientid","Object","keys","organizationusers","i","email","contentEditable","dangerouslySetInnerHTML","__html","subject","taskinvoiceId","toast","success","position","sendMail"],"mappings":"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","file":"static/js/37.0af1a0b3.chunk.js","sourcesContent":["// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nimport { parser } from '../helper/hepler'\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n  const [invoiceTaxes, setInvoiceTaxes] = useState([])\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n  const paymentstatusObj = [\n    { id: '', name: \"Select All\" },\n    { id: '5', name: \"Pending\", color: 'light-danger' },\n    { id: '6', name: \"Partially Paid\", color: 'light-warning' },\n    { id: '7', name: 'Paid', color: 'light-success' },\n    { id: '11', name: 'Sent', color: 'light-secondary' }\n  ]\n  const renderStatus = (val) => {\n    const obj = paymentstatusObj.find((o) => parseInt(o.id) === parseInt(val))\n    return obj\n  }\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n    n[1] = Number(n[1])\n    str += (Number(n[1]) !== 0) ? (`${a[Number(n[1])] || b[n[1][0]]} ${isNaN(Number(n[1][1])) ? '' : a[n[1][1]]} crore `) : ''\n    n[2] = Number(n[2])\n    str += (Number(n[2]) !== 0) ? (`${a[Number(n[2])] || b[n[2][0]]} ${isNaN(Number(n[2][1])) ? '' : a[n[2][1]]}lakh `) : ''\n    n[3] = Number(n[3])\n    str += (Number(n[3]) !== 0) ? (`${a[Number(n[3])] || b[n[3][0]]} ${isNaN(Number(n[3][1])) ? '' : a[n[3][1]]}thousand `) : ''\n    n[4] = Number(n[4])\n    str += (Number(n[4]) !== 0) ? (`${a[Number(n[4])] || b[n[4][0]]} hundred `) : ''\n    n[5] = Number(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? 'and ' : ''}${a[Number(n[5])] || b[n[5][0]]}`) : 'Zero'\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} and Paise ${inWords(amount.split(\".\")[1])} Only`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    setInvoiceTaxes(parser(data.calculatetaxes))\n\n    const res = await dispatch(getInvoiceItems(id))\n    await setInvoiceItems(res.payload)\n\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col>\n        <Badge color={renderStatus(data.paymentstatus).color || 'light-primary'}>{renderStatus(data.paymentstatus).name || data.paymentstatus}</Badge>\n      </Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid === null ? renderOrg(activeOrg.name) : <img className='rounded me-50' height={75} width={75} src={`https://drive.google.com/uc?id=${activeOrg.imageid}`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Invoice</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex align-items-center justify-content-between'>\n            <div>\n              <div className='logo-wrapper'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>\n              <CardText className='mb-0'>GSTIN - {activeOrg.gstin} &nbsp;&nbsp; State Code : {activeOrg.gstin.substr(0, 2)}</CardText>\n            </div>\n\n            <div className='mt-3'>\n              <div className='invoice-date-wrapper'>\n                <h4 className=''>\n                  Invoice <span className='invoice-number'>{data.uniqueno}</span>\n                </h4>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Date Issued:</p>\n                <p className='invoice-date'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' md='8'>\n              <h6 className='mb-2'>Invoice To:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n              <CardText className='mb-25'>{data.billingaddressstate}</CardText>\n              <CardText className='mb-25'>GSTIN - {data.gstin}</CardText>\n            </Col>\n            <Col className='p-0' md='4'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td>\n                      <span className='fw-bold'>{data.dueamount}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td>{data.bankaccountholdername}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td>{data.bankaccountbranchname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>IFSC code:</td>\n                    <td>{data.bankaccountifsccode}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' xl='8'>\n              <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyname}</CardText>\n              <CardText className='mb-25'>State: {data.placeofsupplyname} &nbsp;&nbsp;State Code:  </CardText>\n            </Col>\n            <Col className='p-0 mt-xl-0 mt-2' xl='4'>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td>{data.billingcurrencyshortname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>RCM Applicable:</td>\n                    <td>{data.isrcmapplicable ? 'Yes' : 'No'}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Invoice Description */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              <th className='py-1'>SAC Code</th>\n              <th className='py-1'>Price</th>\n              <th className='py-1'>Tax</th>\n              <th className='py-1'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                    <p className='card-text text-nowrap'>\n                      {item.description}\n                    </p>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.sacCode}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.price}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>\n                      {\n                        typeof item.taxes === 'string' &&\n                        parser(item.taxes).map((obj, k) => {\n                          return (<Row key={k}><span>{obj.taxName || obj.tax_name} - {obj.taxAmount || obj.tax_amount_calculated}</span></Row>)\n                        })\n                      }\n                      {\n                        item.isTaxApplicable === false && (<Row>\n                          <span>{item.taxGroupName}</span>\n                          <span>{item.exemptionReasonName}</span></Row>)\n                      }\n                    </span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.subTotalAmount}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Invoice Description */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              {amountInwords(data.totalamount)}\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{data.totalamount}</p>\n                </div>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Pre Tax Amount:</p>\n                  <p className='invoice-total-amount'>{data.subtotalamount}</p>\n                </div>\n\n                {!data.isrcmapplicable && (\n                  <div>\n                    {\n                      invoiceTaxes.length > 0 &&\n                      invoiceTaxes.map((obj, key) => {\n                        return (\n                          <div className='invoice-total-item' key={key}>\n                            <p className='invoice-total-title'>{obj.taxName || `${obj.tax_name}${obj.tax_percentage}%`}</p>\n                            <p className='invoice-total-amount'>{obj.taxAmount || obj.tax_amount}</p>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>)\n                }\n                <hr className='my-50' />\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{data.dueamount}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Invoice Note */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Invoice Note */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** React Imports\nimport { Link } from 'react-router-dom'\nimport { Card, CardBody, Button, Col, Row, Badge } from 'reactstrap'\nimport { Can } from '@src/utility/context/Can.js'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { useEffect, useState } from 'react'\nconst PreviewActions = ({ id, setSendSidebarOpen, setAddPaymentOpen, invoice }) => {\n\n  const [participants, setParticipants] = useState([])\n\n  const downloadPdf = () => {\n    axios.post('/pdfmaker/pdf', { id: invoice.id })\n      .then((res) => {\n        const downloadLink = document.createElement(\"a\")\n        const fileName = `${invoice.uniqueno}.pdf`\n        downloadLink.href = res.data.pdf\n        downloadLink.download = fileName\n        downloadLink.click()\n        document.removeChild(downloadLink)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  const getParticipants = () => {\n\n    axios.post('/taskinvoices/getparticipants', { invoiceId: invoice.id })\n      .then((res) => { setParticipants(res.data.taskinvoiceparticipants) })\n      .catch((err) => { console.log(err) })\n\n  }\n\n  useEffect(() => {\n    getParticipants()\n  }, [])\n\n  return (\n    <Card className='invoice-action-wrapper'>\n      <CardBody>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='primary' block className='mb-75' onClick={() => setSendSidebarOpen(true)}>\n            Send Invoice\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { downloadPdf() }}>\n            Download\n          </Button>\n        </Can>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { window.print() }}>\n            Print\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button tag={Link} to={`/invoice/edit/${id}`} color='secondary' block outline className='mb-75'>\n            Edit\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button color='success' block onClick={() => setAddPaymentOpen(true)}>\n            Add Payment\n          </Button>\n        </Can>\n\n        {participants.length > 0 &&\n          <Col className='mt-2'>\n            <h4>Tagged Employees</h4>\n            <Row className='mt-1'>\n              {\n                participants.map((user) => {\n                  return <Badge className='mt-md-75 py-md-75' color='primary'>{user.name}</Badge>\n                })\n              }\n            </Row>\n          </Col>\n        }\n\n        <Col className='mt-2'>\n\n          <Row className='mt-1'>\n            <h5>Task ID</h5>\n            <Col md={12} tag={Link} to={`/task/view/${invoice.taskid}`}>{invoice.uniqueidentity}</Col>\n          </Row>\n\n          <Row className='mt-1'>\n            <h5>Task Description</h5>\n            <Col md={12}>{invoice.description}</Col>\n          </Row>\n        </Col>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default PreviewActions\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Flatpickr from 'react-flatpickr'\nimport Select from 'react-select'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Form, Input, Label, Button, Row, Col, FormFeedback } from 'reactstrap'\n\n// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport { updateInvociePayments, updateInvoicePayment } from './store/index'\n// ** Styles\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\nimport '@styles/base/pages/app-invoice.scss'\n\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { useDispatch } from 'react-redux'\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { useParams } from 'react-router-dom'\n\nconst activeOrgId = activeOrganizationid()\nconst userId = orgUserId()\n\nconst AddPayment = ({ open, toggleSidebar, selectedPayment, data }) => {\n\n  const dispatch = useDispatch()\n  const [taxDeducted, setTaxDeducted] = useState(false)\n  const [accountOptions, setAccountOptions] = useState([])\n  const [amountErr, setAmountErr] = useState(false)\n  const { id } = useParams()\n  // ** States\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    id: yup.string().default(0),\n    updatedBy: yup.string().default(userId),\n    contactId: yup.string().default(''),\n    isTaxDeducted: yup.boolean().default(false),\n    amountWithHeld: yup.string().when(\"isTaxDeducted\", { is: (isTaxDeducted) => isTaxDeducted, then: yup.string().required(\"Please Enter Amount with Held\") }).default(0),\n    totalAmountPaid: yup.string().required(\"Please Enter Amount\"),\n    paymentDate: yup.string().required(\"Please Enter Payment Date\"),\n    referenceOfMainId: yup.string().default(''),\n    pendingAmountBeforeRecord: yup.string().default(''),\n    transactionAccountId: yup.string().required(\"Please Select Account\").default(''),\n    referenceNo: yup.string(),\n    billingCurrency: yup.string().default(''),\n    billingAddress: yup.string().default(''),\n    notes: yup.string().default(''),\n    paymentConfirmation: yup.boolean().default(false)\n  })\n  const { handleSubmit, control, formState: { errors }, reset } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const onSubmit = async (formData) => {\n    const payamount = parseFloat(control._formValues.totalAmountPaid)\n    const totalPaidamount = parseFloat(control._formValues.totalAmountPaid) + parseFloat(control._formValues.amountWithHeld)\n    if (taxDeducted) {\n      const amountHeld = parseFloat(control._formValues.amountWithHeld)\n      if (parseFloat(selectedPayment.pendingamountbeforerecord) < (payamount + amountHeld)) {\n        setAmountErr(true)\n        return false\n      }\n    } else {\n      if (parseFloat(selectedPayment.pendingamountbeforerecord) < (payamount)) {\n        setAmountErr(true)\n        return false\n      }\n    }\n\n    await dispatch(updateInvociePayments(formData))\n\n    const datatemp = {\n      updatedBy: userId,\n      id,\n      dueamount: parseFloat(formData.pendingAmountBeforeRecord) - parseFloat(totalPaidamount),\n      status: parseFloat(data.dueamount) === (payamount) ? 7 : 6\n    }\n    await dispatch(updateInvoicePayment(datatemp))\n\n    toggleSidebar()\n  }\n\n  useEffect(() => {\n    if (typeof selectedPayment === 'object') {\n      reset({\n        organizationId: activeOrgId,\n        updatedBy: userId,\n        id: selectedPayment.id,\n        contactId: selectedPayment.contactid,\n        isTaxDeducted: selectedPayment.istaxdeducted,\n        amountWithHeld: selectedPayment.amountwithheld,\n        totalAmountPaid: selectedPayment.totalamountpaid,\n        paymentDate: selectedPayment.paymentdate,\n        referenceOfMainId: selectedPayment.referenceofmainid,\n        pendingAmountBeforeRecord: selectedPayment.pendingamountbeforerecord,\n        transactionAccountId: selectedPayment.transactionaccountid,\n        referenceNo: selectedPayment.referenceno,\n        billingCurrency: selectedPayment.billingcurrency,\n        billingAddress: selectedPayment.billingaddress,\n        notes: selectedPayment.notes || '',\n        paymentConfirmation: false\n\n      })\n\n      setTaxDeducted(selectedPayment.istaxdeducted)\n    }\n  }, [selectedPayment])\n\n  const getRow = (fieldLabel, fieldName, reqflag = false) => {\n    return (\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getSelectRow = (fieldLabel, fieldName, options, reqflag = false) => {\n    return (\n\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName} >\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            control={control}\n            name={fieldName}\n            id={fieldName}\n            render={({ field, ref }) => (\n              <Select\n                inputRef={ref}\n                className={classnames('react-select', { 'is-invalid': errors[fieldName] })}\n                {...field}\n                classNamePrefix='select'\n                options={options}\n                value={options.find(c => { return c.id === field.value })}\n                onChange={val => { return field.onChange(val.id) }}\n                getOptionLabel={(option) => option.accountHolderName}\n                getOptionValue={(option) => option.id}\n              />\n            )}\n\n          />\n          {errors[fieldName] && <FormFeedback className='text-danger'>{errors[fieldName]?.message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getBankAccounts = () => {\n    axios.post('/transactionaccounts/dropdown').then(response => {\n      const arr = response.data\n      setAccountOptions(arr.transactionaccounts)\n    })\n  }\n\n  useEffect(() => {\n    getBankAccounts()\n  }, [])\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Add Payment'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      toggleSidebar={toggleSidebar}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n\n        <Row>\n          <span className='fw-bold ps-1'>Invoice Balance {data.billingcurrencysymbol || ''} {data.dueamount || 0}</span>\n        </Row>\n        {amountErr && <p className='text-danger'>Total Payment Amount should Lesserthan or Equal to Invoice Balance </p>}\n        {getRow('Payment Amount', 'totalAmountPaid', true)}\n\n        <Row >\n          <Label sm='12' size='lg' className={classnames(`form-label'required`)} for={`paymentDate`} >\n            Payment Date\n          </Label>\n          <Col sm='12'>\n            <Controller\n              control={control}\n              name={`paymentDate`}\n              id='paymentDate'\n              render={({ field }) => (\n                <Flatpickr\n                  value={field.value}\n                  onChange={(date, dateStr) => { field.onChange(dateStr) }}\n                  options={{ altInput: true, altFormat: \"M j, Y\", dateFormat: \"U\" }}\n                  className='form-control invoice-edit-input due-date-picker'\n                />\n              )}\n            />\n          </Col>\n        </Row>\n\n        {getSelectRow('Payment Account', \"transactionAccountId\", accountOptions, true)}\n\n        {getRow('Reference Number', 'referenceNo', true)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='isTaxDeducted' className='form-check-label'>\n            Tax Deducted?\n          </Label>\n          <Controller\n            control={control}\n            id='isTaxDeducted'\n            name='isTaxDeducted'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val); setTaxDeducted(!taxDeducted) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        {taxDeducted && getRow('Amount With Held', 'amountWithHeld', true)}\n\n        {getRow('Payment Notes', 'notes', false)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='paymentConfirmation' className='form-check-label'>\n            Sent Payment Confirmation\n          </Label>\n          <Controller\n            control={control}\n            id='paymentConfirmation'\n            name='paymentConfirmation'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        <div className='d-flex flex-wrap mb-0'>\n          <Button className='me-1' color='primary' type='submit'>\n            Submit\n          </Button>\n          <Button color='secondary' outline onClick={toggleSidebar}>\n            Cancel\n          </Button>\n        </div>\n      </Form>\n    </Sidebar>\n  )\n}\n\nexport default AddPayment\n","// ** Reactstrap Imports\nimport { useEffect, useState } from 'react'\n\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, Table, Col } from 'reactstrap'\nimport { getData, deleteInvociePayments, updateInvoicePayment } from './store/index'\nimport { Edit, Trash } from 'react-feather'\n// ** Custom Components\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nimport moment from 'moment'\nimport EditPayment from './EditPayment'\n\nconst MySwal = withReactContent(Swal)\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { orgUserId } from '@src/helper/sassHelper'\n\nconst userId = orgUserId()\n\nconst InvoicePayments = ({ data, tabId }) => {\n\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.invoicepayment)\n  const [payments, setPayments] = useState([])\n  const [selectedPayment, setSelectedPayment] = useState({})\n\n  const [editPaymentOpen, setEditPaymentOpen] = useState(false)\n\n  const toggleEditSidebar = ((row) => {\n    setEditPaymentOpen(!editPaymentOpen)\n    setSelectedPayment(row)\n  }\n  )\n\n  const dateFormat = (value) => {\n\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n\n  const deletefun = (row) => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, delete it!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(deleteInvociePayments(row.id))\n\n        const totalAmount = parseFloat(data.dueamount) + (parseFloat(row.totalamountpaid) + parseFloat(row.amountwithheld || 0))\n        const datatemp = {\n          updatedBy: userId,\n          id,\n          dueamount: totalAmount,\n          status: parseFloat(data.totalamount) === (totalAmount) ? 5 : 6\n        }\n        await dispatch(updateInvoicePayment(datatemp))\n\n        MySwal.fire({\n          icon: 'success',\n          title: 'Deleted!',\n          text: 'Invoice has been deleted.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n      }\n    })\n  }\n\n  useEffect(async () => {\n    if (tabId === '2' && id) {\n      await dispatch(getData({ invoiceId: id }))\n    }\n  }, [tabId])\n\n  useEffect(() => {\n    setPayments(store.invoicePayments)\n  }, [store.invoicePayments])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <CardBody className='invoice-padding pb-0'>\n\n        <EditPayment toggleSidebar={toggleEditSidebar} open={editPaymentOpen} selectedPayment={selectedPayment} data={data} />\n\n        <div className='invoice-list-dataTable react-dataTable'>\n          <Table>\n            <thead>\n              <tr>\n                <th>Payment #</th>\n                <th>Payment Date</th>\n                <th>Refernce</th>\n                <th>Amount</th>\n                <th>Amount With Held</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                payments.map((row, k) => {\n                  return (\n                    <tr key={k}>\n                      <td> <span className='text-primary'>{row.uniqueno}</span></td>\n                      <td>{dateFormat(row.paymentdate)}</td>\n                      <td>\n                        <span>{row.referenceno}</span>\n                      </td>\n                      <td>\n                        <span>{row.billingcurrency.length === 1 ? row.billingcurrency : (row.billingcurrency === '' ? '' : JSON.parse(row.billingcurrency)?.currency_symbol)} {row.totalamountpaid || 0}</span>\n                      </td>\n                      <td>\n                        <span>{row.billingcurrency.length === 1 ? row.billingcurrency : (row.billingcurrency === '' ? '' : JSON.parse(row.billingcurrency)?.currency_symbol)}{row.amountwithheld || 0}</span>\n                      </td>\n                      <td>\n                        <Col tag='a' onClick={e => {\n                          e.preventDefault()\n                          toggleEditSidebar(row)\n                        }}\n                          className='w-100'>\n                          <Edit size={14} className='me-50' />\n                        </Col>\n                        <Col\n                          tag='a'\n                          className='w-100'\n                          onClick={e => {\n                            e.preventDefault()\n                            deletefun(row)\n                          }}\n                        >\n                          <Trash size={14} className='me-50' />\n                        </Col>\n                      </td>\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </Table>\n        </div>\n      </CardBody>\n    </Card>\n  ) : null\n}\n\nexport default InvoicePayments\n","// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport Flatpickr from 'react-flatpickr'\nimport Select from 'react-select'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Form, Input, Label, Button, Row, Col, FormFeedback } from 'reactstrap'\n\n// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport { addInvoicePayments, updateInvoicePayment } from './store/index'\n// ** Styles\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\nimport '@styles/base/pages/app-invoice.scss'\n\nimport { useForm, Controller } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\nimport { useDispatch } from 'react-redux'\nimport { activeOrganizationid, orgUserId } from '@src/helper/sassHelper'\nimport { useParams } from 'react-router-dom'\n\nconst activeOrgId = activeOrganizationid()\n//const activeOrg = activeOrganization()\nconst userId = orgUserId()\n\nconst AddPayment = ({ open, toggleSidebar, data }) => {\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [taxDeducted, setTaxDeducted] = useState(false)\n  const [accountOptions, setAccountOptions] = useState([])\n  const [amountErr, setAmountErr] = useState(false)\n  // ** States\n  const schema = yup.object().shape({\n    organizationId: yup.string().default(activeOrgId),\n    createdBy: yup.string().default(userId),\n    contactId: yup.string().default(data.contactid),\n    isTaxDeducted: yup.boolean().default(false),\n    amountWithHeld: yup.string().when(\"isTaxDeducted\", { is: (isTaxDeducted) => isTaxDeducted, then: yup.string().required(\"Please Enter Amount with Held\") }).default(0),\n    totalAmountPaid: yup.string().required(\"Please Enter Amount\"),\n    paymentDate: yup.string().required(\"Please Enter Payment Date\"),\n    referenceOfMainId: yup.string().default(data.id),\n    pendingAmountBeforeRecord: yup.string().default(data.dueamount),\n    transactionAccountId: yup.string().required(\"Please Select Account\").default(data.bankaccountid),\n    referenceNo: yup.string().default(''),\n    billingCurrency: yup.string().default(data.billingcurrencysymbol),\n    billingAddress: yup.string().default(''),\n    notes: yup.string(),\n    paymentConfirmation: yup.boolean().default(false)\n  })\n  const { handleSubmit, control, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: schema.cast()\n  })\n\n  const onSubmit = async (formData) => {\n    const payamount = parseFloat(control._formValues.totalAmountPaid)\n    const totalPaidamount = parseFloat(control._formValues.totalAmountPaid) + parseFloat(control._formValues.amountWithHeld)\n    if (taxDeducted) {\n      const amountHeld = parseFloat(control._formValues.amountWithHeld)\n      if (parseFloat(data.dueamount) < (payamount + amountHeld)) {\n        setAmountErr(true)\n        return false\n      }\n    } else {\n      if (parseFloat(data.dueamount) < (payamount)) {\n        setAmountErr(true)\n        return false\n      }\n    }\n\n    await dispatch(addInvoicePayments(formData))\n    const datatemp = {\n      updatedBy: userId,\n      id,\n      dueamount: parseFloat(formData.pendingAmountBeforeRecord) - parseFloat(totalPaidamount),\n      status: parseFloat(data.dueamount) === (payamount) ? 7 : 6\n    }\n    await dispatch(updateInvoicePayment(datatemp))\n\n    toggleSidebar()\n\n  }\n\n  const getRow = (fieldLabel, fieldName, reqflag = false) => {\n    return (\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName}>\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            id={fieldName}\n            name={fieldName}\n            control={control}\n            render={({ field }) => <Input invalid={errors[fieldName] && true} {...field} />}\n          />\n          {errors[fieldName] && <FormFeedback>{errors[fieldName].message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getSelectRow = (fieldLabel, fieldName, options, reqflag = false) => {\n    return (\n\n      <Row >\n        <Label sm='12' size='lg' className={classnames(`form-label ${reqflag ? 'required' : ''}`)} for={fieldName} >\n          {fieldLabel}\n        </Label>\n        <Col sm='12'>\n          <Controller\n            control={control}\n            name={fieldName}\n            id={fieldName}\n            render={({ field, ref }) => (\n              <Select\n                inputRef={ref}\n                className={classnames('react-select', { 'is-invalid': errors[fieldName] })}\n                {...field}\n                classNamePrefix='select'\n                options={options}\n                value={options.find(c => { return c.id === field.value })}\n                onChange={val => { return field.onChange(val.id) }}\n                getOptionLabel={(option) => option.accountHolderName}\n                getOptionValue={(option) => option.id}\n              />\n            )}\n\n          />\n          {errors[fieldName] && <FormFeedback className='text-danger'>{errors[fieldName]?.message}</FormFeedback>}\n        </Col>\n      </Row>\n    )\n  }\n\n  const getBankAccounts = () => {\n    axios.post('/transactionaccounts/dropdown').then(response => {\n      const arr = response.data\n      setAccountOptions(arr.transactionaccounts)\n    })\n  }\n\n  useEffect(() => {\n    getBankAccounts()\n  }, [])\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Edit Payment'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      toggleSidebar={toggleSidebar}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n\n        <Row>\n          <span className='fw-bold ps-1'>Invoice Balance {data.billingcurrencysymbol} {data.dueamount}</span>\n        </Row>\n        {amountErr && <p className='text-danger'>Total Payment Amount should Lesserthan or Equal to Invoice Balance </p>}\n        {getRow('Payment Amount', 'totalAmountPaid', true)}\n\n        <Row >\n          <Label sm='12' size='lg' className={classnames(`form-label'required`)} for={`paymentDate`} >\n            Payment Date\n          </Label>\n          <Col sm='12'>\n            <Controller\n              control={control}\n              name={`paymentDate`}\n              id='paymentDate'\n              render={({ field }) => (\n                <Flatpickr\n                  value={field.value}\n                  onChange={(date, dateStr) => { field.onChange(dateStr) }}\n                  options={{ altInput: true, altFormat: \"M j, Y\", dateFormat: \"U\" }}\n                  className='form-control invoice-edit-input due-date-picker'\n                />\n              )}\n            />\n          </Col>\n        </Row>\n\n        {getSelectRow('Payment Account', \"transactionAccountId\", accountOptions, true)}\n\n        {getRow('Reference Number', 'referenceNo', true)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='isTaxDeducted' className='form-check-label'>\n            Tax Deducted?\n          </Label>\n          <Controller\n            control={control}\n            id='isTaxDeducted'\n            name='isTaxDeducted'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val); setTaxDeducted(!taxDeducted) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        {taxDeducted && getRow('Amount With Held', 'amountWithHeld', true)}\n\n        {getRow('Payment Notes', 'notes', false)}\n\n        <Row className='form-switch form-check-primary  px-0 py-1'>\n          <Label for='paymentConfirmation' className='form-check-label'>\n            Sent Payment Confirmation\n          </Label>\n          <Controller\n            control={control}\n            id='paymentConfirmation'\n            name='paymentConfirmation'\n            render={({ field }) => (\n              <Input type='switch' onInput={(val) => { field.onChange(val) }} {...field} defaultChecked={field.value} />\n            )}\n          />\n        </Row>\n\n        <div className='d-flex flex-wrap mb-0'>\n          <Button className='me-1' color='primary' type='submit'>\n            Submit\n          </Button>\n          <Button color='secondary' outline onClick={toggleSidebar}>\n            Cancel\n          </Button>\n        </div>\n      </Form>\n    </Sidebar>\n  )\n}\n\nexport default AddPayment\n","// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\n// ** Third Party Components\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Row, Col, Alert, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'\n\n// ** Invoice Preview Components\nimport PreviewCard from './PreviewCard'\nimport PreviewActions from './PreviewActions'\nimport InvoicePayments from './InvoicePayment/index'\nimport AddPayment from './InvoicePayment/AddPayment'\nimport SendInvoiceSidebar from '../shared-sidebar/SidebarSendInvoice'\n\n// ** Styles\nimport '@styles/base/pages/app-invoice.scss'\nimport { User, Lock } from 'react-feather'\n\nconst InvoicePreview = () => {\n  // ** HooksVars\n  const { id } = useParams()\n\n  // ** States\n  const [sendSidebarOpen, setSendSidebarOpen] = useState(false)\n\n  const [addPaymentOpen, setAddPaymentOpen] = useState(false)\n  const [data, setData] = useState(null)\n  const [active, setActive] = useState('1')\n  // ** Functions to toggle add & send sidebar\n  const toggleSendSidebar = () => setSendSidebarOpen(!sendSidebarOpen)\n  const toggleAddSidebar = () => setAddPaymentOpen(!addPaymentOpen)\n\n\n  const getInvoice = async () => {\n    axios.post('/taskinvoices/get', { id }).then((res) => {\n      setData(res.data.taskinvoices)\n    }).catch((err) => { console.log(err) })\n\n  }\n\n  useEffect(() => {\n    getInvoice()\n  }, [])\n\n  const toggleTab = tab => {\n    if (active !== tab) {\n      setActive(tab)\n    }\n  }\n\n  // ** Get invoice on mount based on id\n\n  return data !== null && data !== undefined ? (\n    <div className='invoice-preview-wrapper'>\n      <Row className='invoice-preview'>\n        <Col xl={10} md={8} sm={12}>\n\n          <Nav pills className='mb-2'>\n            <NavItem>\n              <NavLink active={active === '1'} onClick={() => toggleTab('1')}>\n                <User className='font-medium-3 me-50' />\n                <span className='fw-bold'>Invoice</span>\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink active={active === '2'} onClick={() => toggleTab('2')}>\n                <Lock className='font-medium-3 me-50' />\n                <span className='fw-bold'>Payments</span>\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <TabContent activeTab={active}>\n            <TabPane tabId='1'>\n              <PreviewCard data={data} tabId={active} />\n            </TabPane>\n            <TabPane tabId='2'>\n              <InvoicePayments data={data} tabId={active} />\n            </TabPane>\n          </TabContent>\n\n        </Col>\n        <Col xl={2} md={4} sm={12}>\n          <PreviewActions id={id} setSendSidebarOpen={setSendSidebarOpen} setAddPaymentOpen={setAddPaymentOpen} invoice={data} />\n        </Col>\n      </Row>\n      <SendInvoiceSidebar toggleSidebar={toggleSendSidebar} open={sendSidebarOpen} invoice={data} />\n      <AddPayment toggleSidebar={toggleAddSidebar} open={addPaymentOpen} data={data} />\n    </div>\n  ) : (\n    <Alert color='danger'>\n      <h4 className='alert-heading'>Invoice not found</h4>\n      <div className='alert-body'>\n        Invoice with id: {id} doesn't exist. Check list of all invoices:{' '}\n        <Link to='/invoice/list'>Invoice List</Link>\n      </div>\n    </Alert>\n  )\n}\n\nexport default InvoicePreview\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","// ** Third Party Components\nimport { X } from 'react-feather'\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\n\nconst Sidebar = props => {\n  // ** Props\n  const {\n    open,\n    size,\n    title,\n    width,\n    children,\n    closeBtn,\n    className,\n    toggleSidebar,\n    bodyClassName,\n    contentClassName,\n    wrapperClassName,\n    headerClassName,\n    ...rest\n  } = props\n\n  // ** If user passes custom close btn render that else default close btn\n  const renderCloseBtn = closeBtn ? closeBtn : <X className='cursor-pointer' size={15} onClick={toggleSidebar} />\n\n  return (\n    <Modal\n      isOpen={open}\n      toggle={toggleSidebar}\n      contentClassName={classnames('overflow-hidden', {\n        [contentClassName]: contentClassName\n      })}\n      modalClassName={classnames('modal-slide-in', {\n        [wrapperClassName]: wrapperClassName\n      })}\n      className={classnames({\n        [className]: className,\n        'sidebar-lg': size === 'lg',\n        'sidebar-sm': size === 'sm'\n      })}\n      /*eslint-disable */\n      {...(width !== undefined\n        ? {\n            style: { width: String(width) + 'px' }\n          }\n        : {})}\n      /*eslint-enable */\n      {...rest}\n    >\n      <ModalHeader\n        className={classnames({\n          [headerClassName]: headerClassName\n        })}\n        toggle={toggleSidebar}\n        close={renderCloseBtn}\n        tag='div'\n      >\n        <h5 className='modal-title'>\n          <span className='align-middle'>{title}</span>\n        </h5>\n      </ModalHeader>\n      <PerfectScrollbar options={{ wheelPropagation: false }}>\n        <ModalBody\n          className={classnames('flex-grow-1', {\n            [bodyClassName]: bodyClassName\n          })}\n        >\n          {children}\n        </ModalBody>\n      </PerfectScrollbar>\n    </Modal>\n  )\n}\n\nexport default Sidebar\n\n// ** PropTypes\nSidebar.propTypes = {\n  className: Proptypes.string,\n  bodyClassName: Proptypes.string,\n  open: Proptypes.bool.isRequired,\n  title: Proptypes.string.isRequired,\n  contentClassName: Proptypes.string,\n  wrapperClassName: Proptypes.string,\n  children: Proptypes.any.isRequired,\n  size: Proptypes.oneOf(['sm', 'lg']),\n  toggleSidebar: Proptypes.func.isRequired,\n  width: Proptypes.oneOfType([Proptypes.number, Proptypes.string])\n}\n","import { I as cleanValue, D as valueTernary, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { g as getOptionValue, a as getOptionLabel } from './Select-09b3775e.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\n\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\n\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n      allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n      _ref$createOptionPosi = _ref.createOptionPosition,\n      createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n      _ref$formatCreateLabe = _ref.formatCreateLabel,\n      formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n      _ref$isValidNewOption = _ref.isValidNewOption,\n      isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n      _ref$getNewOptionData = _ref.getNewOptionData,\n      getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n      onCreateOption = _ref.onCreateOption,\n      _ref$options = _ref.options,\n      propsOptions = _ref$options === void 0 ? [] : _ref$options,\n      propsOnChange = _ref.onChange,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n      getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n      _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n      getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n      inputValue = restSelectProps.inputValue,\n      isLoading = restSelectProps.isLoading,\n      isMulti = restSelectProps.isMulti,\n      value = restSelectProps.value,\n      name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport React from 'react';\nimport { S as Select } from '../../dist/Select-09b3775e.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-783b07d5.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-00a6568c.esm.js';\nimport '../../dist/index-c7a4d7ce.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\nimport '@babel/runtime/helpers/slicedToArray';\n\nvar CreatableSelect = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var creatableProps = useStateManager(props);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\n\nexport default CreatableSelect;\n","export const calculateTax = (amount, taxRateInPercentage, TaxType) => {\n    let calculatedTax = 0\n    if (TaxType === 1) { //Inclusive\n        calculatedTax = parseFloat(amount) - (parseFloat(amount) * (100 / (100 + parseFloat(taxRateInPercentage))))\n        // calculatedTax = parseFloat(amount) - parseFloat(calculatedTax);\n\n    } else if (TaxType === 2) { //Exclusive\n        calculatedTax = (parseFloat(amount) * parseFloat(taxRateInPercentage)) / 100\n    }\n    return parseFloat(calculatedTax)\n}\n\nexport const parser = (str) => {\n\n    return JSON.parse(str.replace(/\\\\/g, ''))\n\n}","// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport Select from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n// ** Icons Imports\nimport { Link } from 'react-feather'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport { Form, Input, Label, Badge, Button } from 'reactstrap'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Fragment, useEffect, useState } from 'react'\nimport { loggedInUser, activeOrganization } from '@src/helper/sassHelper'\nimport moment from 'moment'\nconst userData = loggedInUser()\nconst activeOrg = activeOrganization()\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\n\nconst SidebarSendInvoice = (props) => {\n\n  const colourStyles = {\n    multiValue: (styles, { }) => {\n\n      return {\n        ...styles,\n        backgroundColor: '#7367f0'\n      }\n    }\n  }\n  const [block, setBlock] = useState(false)\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n\n  const { open, toggleSidebar, invoice } = props\n  const [thankyouNote, setThankyouNote] = useState('')\n  const [userOptions, setUserOptions] = useState([])\n  const [clientOptions, setClientOptions] = useState([])\n  const [toEmail, setToEmail] = useState([])\n  const [ccEmail, setCCEmail] = useState([])\n  const getOrganizationUsers = () => {\n    axios.post('/organizationusers/dropdown').then((res) => {\n      setUserOptions(res.data.organizationusers)\n    }).catch(() => { })\n  }\n\n  const getCoatctInfo = (id) => {\n    axios.post('contactinformations/list', { contactid: id }).then((res) => {\n      setClientOptions(res.data.contactinformations)\n    }).catch(() => { })\n\n  }\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const getThankyouNotes = () => {\n    axios.post('/emailtemplates/get', { slug: 'invoice-send-mail' }).then((res) => {\n      const mailSub = res.data.emailtemplates.description\n      const test = mailSub.replace('{invoice_date}', dateFormat(invoice.paymentdue)).replace('{service}', invoice.taskinvoiceitemsservicename).replace('recipient_name', invoice.contactperson).replace('{recipient_name}', invoice.contactperson).replace('{invoice_no}', invoice.uniqueno).replace('{amount}', invoice.totalamount).replace('{invoice_amount}', invoice.totalamount).replace('{your_name}', userData.name).replaceAll('{firm_name}', activeOrg.name).replace('{', '').replace('}', '')\n      setThankyouNote(test)\n    }).catch(() => { })\n  }\n\n\n  useEffect(() => {\n    if (invoice.clientid !== undefined) {\n      getCoatctInfo(invoice.clientid)\n    }\n    if (invoice.contactid !== undefined) {\n      getCoatctInfo(invoice.contactid)\n    }\n    if (Object.keys(invoice).length > 0) {\n      getOrganizationUsers()\n      getThankyouNotes()\n    }\n  }, [invoice])\n\n  const sendMail = () => {\n    setBlock(true)\n    const subject = `${invoice.uniqueno} Invoices Acknowledgement Mail`\n    axios.post('/google/sendGmail', { content: thankyouNote, subject, toEmail, ccEmail, taskinvoiceId: invoice.id })\n      .then(() => {\n        toggleSidebar(false)\n        setBlock(false)\n        toast.success('Email send Successfully', { position: 'bottom-right' })\n      })\n    console.log(() => { })\n  }\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Send Invoice'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      bodyClassName='pb-sm-0 pb-3'\n      toggleSidebar={toggleSidebar}\n    >\n      <UILoader blocking={block} loader={<Loader />}>\n        <Form>\n          <div className='mb-1'>\n            <Label for='invoice-from' className='form-label'>\n              To\n            </Label>\n\n            <CreatableSelect\n              className={classnames('react-select')}\n              classNamePrefix='select'\n              isMulti\n              options={clientOptions}\n              onChange={(e) => { setToEmail(e.map(i => i.email)) }}\n              getOptionLabel={(option) => `${option.name} - ${option.email}`}\n              styles={colourStyles}\n              getOptionValue={(option) => option.email}\n            />\n\n          </div>\n          <div className='mb-1'>\n            <Label for='invoice-to' className='form-label'>\n              CC\n            </Label>\n            <Select\n              className={classnames('react-select')}\n              classNamePrefix='select'\n              isMulti\n              options={userOptions}\n              onChange={(e) => { setCCEmail(e.map(i => i.email)) }}\n              getOptionLabel={(option) => `${option.name} - ${option.email}`}\n              getOptionValue={(option) => option.email}\n              styles={colourStyles}\n            />\n          </div>\n          <div className='mb-1'>\n            <Label for='invoice-message' className='form-label'>\n              Message\n            </Label>\n            <div contentEditable={true} dangerouslySetInnerHTML={{ __html: thankyouNote }} className='border border-1 rounded-2 maxheight-400'>\n            </div>\n          </div>\n          <div className='mb-1'>\n            <Badge color='light-primary'>\n              <Link className='me-50' size={14} />\n              <span className='align-middle'>Invoice Attached</span>\n            </Badge>\n          </div>\n          <div className='d-flex flex-wrap mt-2'>\n            <Button className='me-1' color='primary' onClick={() => { sendMail() }} >\n              Send\n            </Button>\n            <Button color='secondary' outline onClick={toggleSidebar}>\n              Cancel\n            </Button>\n          </div>\n        </Form>\n      </UILoader>\n    </Sidebar>\n  )\n}\n\nexport default SidebarSendInvoice\n"],"sourceRoot":""}