(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[48],{1454:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(4),i=c(14),s=c(8),r=c(22),o=c(2),l=c(5),d=c(545),u=c.n(d),j=c(799),b=c(719),m=c(831),f=c(536),p=c(533),O=c(539),x=c(540),v=c(96),h=c(7),g=c.n(h),N=c(153),w=c(528),y=c(526),I=c(527),A=(c(537),c(535),c(530),c(534),c(10)),C=c(607),S=c(13),k=c(139),z=c(140),F=c(16),B=Object(A.b)(),P=Object(A.a)(),T=Object(A.d)(),V=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),c=t[0],d=t[1],h=function(){return Object(F.jsx)(o.Fragment,{children:Object(F.jsx)(I.a,{})})},A={multiValue:function(e,t){return Object(s.a)(t),Object(i.a)(Object(i.a)({},e),{},{backgroundColor:"#7367f0"})}},V=Object(o.useState)([]),_=Object(r.a)(V,2),R=_[0],q=_[1],L=Object(o.useState)([]),E=Object(r.a)(L,2),G=E[0],D=E[1],M=Object(o.useState)([]),H=Object(r.a)(M,2),K=H[0],J=H[1],U=Object(o.useState)([]),Z=Object(r.a)(U,2),Y=Z[0],$=Z[1],Q=Object(o.useState)([]),W=Object(r.a)(Q,2),X=W[0],ee=W[1],te=Object(o.useState)(0),ce=Object(r.a)(te,2),ne=ce[0],ae=ce[1],ie=Object(o.useState)(0),se=Object(r.a)(ie,2),re=se[0],oe=se[1],le=Object(o.useState)([]),de=Object(r.a)(le,2),ue=de[0],je=de[1],be=Object(o.useState)({}),me=Object(r.a)(be,2),fe=me[0],pe=me[1],Oe=Object(o.useState)([]),xe=Object(r.a)(Oe,2),ve=xe[0],he=xe[1],ge=Object(o.useState)([]),Ne=Object(r.a)(ge,2),we=Ne[0],ye=Ne[1],Ie=Object(o.useState)([]),Ae=Object(r.a)(Ie,2),Ce=Ae[0],Se=Ae[1],ke=Object(o.useState)([]),ze=Object(r.a)(ke,2),Fe=ze[0],Be=ze[1],Pe=Object(o.useState)([]),Te=Object(r.a)(Pe,2),Ve=Te[0],_e=Te[1],Re=Object(o.useState)([]),qe=Object(r.a)(Re,2),Le=qe[0],Ee=qe[1],Ge=Object(o.useState)(!1),De=Object(r.a)(Ge,2),Me=De[0],He=De[1],Ke=Object(S.f)(),Je=Object(z.b)(),Ue=Object(z.c)((function(e){return e.invoice})),Ze=function(){var e=Object(a.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.post("/organizationusers/dropdown").then((function(e){var t=e.data.organizationusers;_e(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(Object(N.h)(t));case 2:c=e.sent,pe(c.payload);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=O.d().shape({createdBy:O.f().default(T),contactId:O.f().required("Please select a Client"),uniqueIdentity:O.f(),contactEmail:O.f(),contactName:O.f(),invoiceDate:O.c(),paymentDue:O.c(),placeOfSupplyId:O.f().required("Please select a Place Of Supply"),subTotalAmount:O.f(),totalAmount:O.f(),totalTaxAmount:O.f(),organizationId:O.f().default(B),isRcmApplicable:O.b().default(!1),dueAmount:O.f(),billingAddressLine1:O.f(),billingAddressLine2:O.f(),billingAddressState:O.f(),billingAddressCity:O.f(),billingAddressZipCode:O.f(),billingCurrencyId:O.f().default(P.currencyid),bankAccountBankName:O.f(),bankAccountBranchName:O.f(),bankAccountHolderName:O.f(),bankAccountId:O.f().required("Please Select Account"),bankAccountIfscCode:O.f(),bankAccountNumber:O.f(),organizationAddressLine1:O.f().default(P.addressline1),organizationAddressLine2:O.f().default(P.addressline2),organizationCity:O.f().default(P.organizationcity),organizationState:O.f().default(P.statename),organizationZipCode:O.f().default(P.pinzipcode),organizationName:O.f().default(P.name),organizationImageUrl:O.f().default(P.organizationimageid||""),organizationStateCode:O.f().default(P.stateshortname),organizationGstin:O.f().default(P.gstin),gstin:O.f(),note:O.f().default(""),status:O.c().default(11),calculateTaxes:O.f(),paymentStatus:O.c().default(5),rows:O.a().of(O.d().shape({serviceId:O.f().required("Please Select Service Item"),invoiceId:O.f(),sacCode:O.f(),price:O.f(),organizationId:O.f().default(B),exemptionReasonId:O.f().default(""),isTaxApplicable:O.b().default(!0),actualPrice:O.f().required(),taxGroupId:O.f().required("Pleace Select Tax"),subTotalAmount:O.f().required(1),taxes:O.f()}))}),Qe=Object(p.f)({resolver:Object(x.a)($e),defaultValues:$e.cast()}),We=Qe.handleSubmit,Xe=Qe.formState.errors,et=Qe.control,tt=Qe.setValue,ct=Object(p.e)({control:et,name:"rows"}),nt=ct.fields,at=ct.append,it=ct.remove;Object(o.useEffect)((function(){l.a.post("/clients/dropdown",{status:1}).then((function(e){var t=e.data;q(t.clients)})),l.a.post("/services/dropdown",{status:1}).then((function(e){var t=e.data;D(t.services)})),l.a.post("/taxgroups/dropdown").then((function(e){var t=e.data;J(t.taxgroups)})),l.a.post("/exemptionreasons/dropdown").then((function(e){var t=e.data;Be(t.exemptionreasons)})),l.a.post("/transactionaccounts/dropdown").then((function(e){var t=e.data;ee(t.transactionaccounts)})),l.a.post("/states/list").then((function(e){var t=e.data;$(t.states)})),l.a.post("/organizationprefernces/getinvoiceprops").then((function(e){tt("note",e.data.organizationprefernces.invoicenote.replace(/(\\n)/g,"\n"))})),Ze()}),[]);var st=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),c=t.rows,je(c),delete t.rows,e.next=6,Je(Object(N.a)(t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue.forEach((function(e,c){ue[c].invoiceId=t})),e.next=3,Je(Object(N.b)(ue));case 3:if(!(Le.length>0)){e.next=7;break}return c={users:Le,organizationId:B,invoiceId:t},e.next=7,Je(Object(N.c)(c));case 7:Ke("/invoice/view/".concat(Ue.invoiceId));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){at({invoiceId:0,organizationId:B,serviceId:"",exemptionReasonId:"",isTaxApplicable:!0,sacCode:"",actualPrice:0,taxGroupId:"",subTotalAmount:0,taxPrice:0,description:""})};Object(o.useEffect)((function(){ot()}),[]),Object(o.useEffect)(Object(a.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==Ue.invoiceId&&ue.length>0)){e.next=3;break}return e.next=3,rt(Ue.invoiceId);case 3:case"end":return e.stop()}}),e)}))),[Ue.invoiceId]);var lt=function(){var e=et._formValues.rows,t=0,c=0,n=0;e.forEach((function(e){t=parseFloat(e.subTotalAmount)+parseFloat(t),c=parseFloat(e.price)+parseFloat(c),n=parseFloat(n)+parseFloat(e.taxPrice)})),et._formValues.subTotalAmount=c,et._formValues.totalAmount=t,et._formValues.dueAmount=t,et._formValues.totalTaxAmount=n,ae(t),oe(c),function(){var e;e=et._formValues.rows.map((function(e){return e.taxes?Object(C.b)(e.taxes):[]})).flat().reduce((function(e,t){if(void 0!==t){var c=e.find((function(e){return t.taxName===e.taxName}));c?c.taxAmount=parseFloat(c.taxAmount)+parseFloat(t.taxAmount):e.push(Object.assign({},t))}return e}),[]),Se(e),tt("calculateTaxes",JSON.stringify(e))}()},dt=function(e){var t,c,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=et._formValues.rows[e];if(void 0===o.serviceId||""===o.serviceId)return!1;var l=G.find((function(e){return e.id===o.serviceId}));tt("rows[".concat(e,"].serviceId"),o.serviceId),r?(tt("rows[".concat(e,"].sacCode"),l.saccode),t=l.sellingprice||0,c=l.taxgroupid,tt("rows[".concat(e,"].actualPrice"),t),tt("rows[".concat(e,"].price"),String(l.sellingprice)||0),tt("rows[".concat(e,"].taxGroupId"),c),tt("rows[".concat(e,"].description"),l.description),tt("rows[".concat(e,"].exemptionReasonId"),l.exemptionreasonid||"")):(tt("rows[".concat(e,"].sacCode"),i?o.sacCode:l.saccode),t=a?o.price:l.sellingprice||0,c=s?o.taxGroupId:l.taxgroupid,tt("rows[".concat(e,"].price"),t),tt("rows[".concat(e,"].actualPrice"),String(l.sellingprice)||0),tt("rows[".concat(e,"].taxGroupId"),c),tt("rows[".concat(e,"].description"),n?o.description:l.description),tt("rows[".concat(e,"].exemptionReasonId"),l.exemptionreasonid||""));var d=0,u=[],j=K.find((function(e){return e.id===c})),b=void 0!==j?!j.nontaxableflag:l.istaxapplicable;tt("rows[".concat(e,"].isTaxApplicable"),b),b&&void 0!==j&&ve.forEach((function(e){if(e.taxid===c){var n;n=Object(C.a)(t,e.percentage,2),d=parseFloat(d)+parseFloat(n);var a={};a.taxName="".concat(e.name," (").concat(e.percentage,"%)"),a.taxId=parseInt(e.id),a.taxNameValue=e.name,a.taxPercentage=String(e.percentage),a.taxAmount=String(n),u.push(a)}})),tt("rows[".concat(e,"].subTotalAmount"),parseFloat(parseFloat(d||0)+parseFloat(t||0)).toFixed(2)),tt("rows[".concat(e,"].taxPrice"),parseFloat(d).toFixed(2)),tt("rows[".concat(e,"].taxes"),JSON.stringify(u)),tt("rows[".concat(e,"].createdBy"),T),lt()},ut=function(){var e=1;P.stateid===et._formValues.placeOfSupplyId&&(e=2),function(e){var t={type:e};l.a.post("/taxvalues/list",t).then((function(e){var t=e.data;he(t.taxvalues)}))}(e)};Object(o.useEffect)((function(){ve.length>0&&et._formValues.rows.forEach((function(e,t){dt(t,!1,!1,!1,!1,!1)}))}),[ve]);Object(o.useEffect)((function(){Object.keys(fe).length>0&&(tt("billingAddressCity",fe.billingaddresscity||""),tt("billingAddressLine1",fe.billingaddressline1||""),tt("billingAddressLine2",fe.billingaddressline1||""),tt("billingAddressState",fe.billingaddressstatesname||""),tt("billingAddressZipCode",fe.billingaddresszip||""),tt("billingCurrencyId",fe.currencyid||P.currencyid),tt("billingCurrencySymbol",fe.currenciessymbol||""),tt("billingCurrencyShortName",fe.currenciescode||""),tt("billingCurrencyName",fe.currenciesname||""),tt("contactEmail",fe.email),tt("gstin",fe.gstin),tt("contactName",fe.name),tt("placeOfSupplyId",fe.placeofsupplyid),ut())}),[fe]);var jt=function(e){var t=Array.isArray(e)?e.map((function(e){return e.id})):[];Ee(t)};return Object(F.jsx)(y.a,{blocking:c,loader:Object(F.jsx)(h,{}),children:Object(F.jsx)("form",{onSubmit:We(st),children:Object(F.jsx)(v.ib,{className:"invoice-add",children:Object(F.jsxs)(o.Fragment,{children:[Object(F.jsx)(v.B,{xl:10,md:8,sm:12,children:Object(F.jsxs)(v.l,{className:"invoice-preview-card",children:[Object(F.jsxs)(v.m,{className:"invoice-padding pb-0",children:[function(){var e=Object.keys(Xe),t=[];return Array.isArray(e)&&e.forEach((function(e){var c;"rows"!==e&&t.push(Object(F.jsxs)(v.I,{children:["$",null===(c=Xe[e])||void 0===c?void 0:c.message]},e))})),t}(),Object(F.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0",children:[Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"logo-wrapper",children:function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(F.jsx)(w.a,{color:t,className:"me-50",content:null!==e?e.charAt(0):""})}(P.name)}),Object(F.jsx)("h3",{className:"text-primary invoice-logo",children:P.name}),Object(F.jsx)("p",{className:"card-text mb-25",children:P.addressline1}),Object(F.jsx)("p",{className:"card-text mb-25",children:P.addressline2}),Object(F.jsxs)("p",{className:"card-text mb-0",children:[P.organizationcity," - ",P.pinzipcode]}),Object(F.jsx)("p",{className:"card-text mb-0",children:P.statename})]}),Object(F.jsxs)("div",{className:"invoice-number-date mt-md-0 mt-2",children:[Object(F.jsxs)("div",{className:"d-flex align-items-center justify-content-md-end mb-1",children:[Object(F.jsx)("h4",{className:"invoice-title",children:"Invoice"}),Object(F.jsxs)(v.L,{className:"input-group-merge invoice-edit-input-group disabled",children:[Object(F.jsx)(v.M,{children:Object(F.jsx)(j.a,{size:15})}),Object(F.jsx)(v.K,{type:"number",className:"invoice-edit-input",value:3171,placeholder:"53634",disabled:!0})]})]}),Object(F.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(F.jsx)("span",{className:"title required",children:"Invoice Date"}),Object(F.jsx)(p.a,{control:et,name:"invoiceDate",id:"invoiceDate",render:function(e){var t=e.field;return Object(F.jsx)(u.a,{value:t.value,onChange:function(e,c){t.onChange(c)},options:{altInput:!0,altFormat:"M j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}})]}),Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)("span",{className:"title required",children:"Due Date"}),Object(F.jsx)(p.a,{control:et,name:"paymentDue",id:"paymentDue",render:function(e){var t=e.field;return Object(F.jsx)(u.a,{value:t.value,onChange:function(e,c){t.onChange(c)},options:{altInput:!0,altFormat:"M j, Y",dateFormat:"U"},className:"form-control invoice-edit-input due-date-picker"})}})]})]})]})]}),Object(F.jsx)("hr",{className:"invoice-spacing"}),Object(F.jsxs)(v.m,{className:"invoice-padding pt-0",children:[Object(F.jsxs)(v.ib,{className:"row-bill-to invoice-spacing",children:[Object(F.jsxs)(v.B,{className:"col-bill-to ps-0",xl:"6",children:[Object(F.jsx)("h6",{className:"invoice-to-title required",children:"Invoice To"}),Object(F.jsx)("div",{className:"invoice-customer",children:Object(F.jsx)(p.a,{control:et,name:"contactId",id:"contactId",render:function(e){var t=e.field,c=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({inputRef:c,className:g()("react-select",{"is-invalid":Xe.contactId})},t),{},{classNamePrefix:"select",options:R,value:R.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),Ye(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})}),Object(F.jsx)(v.B,{className:"pe-0 mt-xl-2",xl:"4",children:Object(F.jsx)("table",{children:Object(F.jsxs)("tbody",{children:[Object(F.jsx)("tr",{children:Object(F.jsx)("td",{children:fe.billingaddressline1})}),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{children:fe.billingaddressline2})}),Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[fe.billingaddresscity," ",fe.billingaddresszip&&"-","  ",fe.billingaddresszip]})}),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{children:fe.billingaddressstatesname})})]})})})]}),Object(F.jsx)(v.B,{className:"col-bill-to ps-0",xl:"2"}),Object(F.jsxs)(v.B,{className:"pe-0 mt-xl-0 mt-2",xl:"4",children:[Object(F.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(F.jsx)("table",{children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"pe-1",children:"Bank Name:"}),Object(F.jsx)("td",{children:we.bankName&&Object(F.jsx)("span",{className:"fw-bolder",children:we.bankName})})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"pe-1",children:"Account name:"}),Object(F.jsx)("td",{children:we.accountHolderName&&Object(F.jsx)("span",{className:"fw-bolder",children:we.accountHolderName})})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(F.jsxs)("td",{children:[" ",we.branchAddress&&Object(F.jsx)("span",{className:"fw-bolder",children:we.branchAddress})]})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"pe-1",children:"IFSC Code:"}),Object(F.jsx)("td",{children:we.ifscCode&&Object(F.jsxs)("span",{className:"fw-bolder",children:[we.ifscCode," "]})})]}),fe.currenciescode&&Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"pe-1",children:"Currency code:"}),Object(F.jsx)("td",{children:fe.currenciescode})]})]})})]})]}),Object(F.jsxs)(v.ib,{className:"row-bill-to invoice-spacing",children:[Object(F.jsxs)(v.B,{className:"col-bill-to ps-0",xl:"6",children:[Object(F.jsx)("h6",{className:"invoice-to-title mt-2 required",children:"Place Of Supply"}),Object(F.jsx)("div",{className:"invoice-customer",children:Object(F.jsx)(p.a,{control:et,name:"placeOfSupplyId",id:"placeOfSupplyId",render:function(e){var t=e.field,c=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({inputRef:c,className:g()("react-select",{"is-invalid":Xe.placeOfSupplyId})},t),{},{classNamePrefix:"select",options:Y,value:Y.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),ut()},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})}),""!==fe.gstin&&void 0!==fe.gstin&&Object(F.jsxs)("div",{className:"mt-1",children:[" GSTIN : ",fe.gstin]})]}),Object(F.jsx)(v.B,{className:"col-bill-to ps-0",xl:"2"}),Object(F.jsx)(v.B,{className:"pe-0 mt-xl-0 mt-2",xl:"4",children:Object(F.jsx)("table",{children:Object(F.jsx)("tbody",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"pe-1",children:"RCM Applicable:"}),Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"form-switch form-check-success",children:Object(F.jsx)(p.a,{control:et,name:"isRcmApplicable",id:"isRcmApplicable",render:function(e){return Object(s.a)(e),Object(F.jsx)(v.K,{type:"switch",id:"switch-success",onChange:function(e){He(!Me),tt("isRcmApplicable",e.target.checked)}})}})})})]})})})})]})]}),Object(F.jsxs)(v.m,{className:"invoice-padding invoice-product-details",children:[nt.map((function(e,t){var c,n,a,s,r,o,l,d,u,j,m,O,x,h,N,w;return Object(F.jsx)("div",{className:"repeater-wrapper",children:Object(F.jsx)(v.ib,{children:Object(F.jsxs)(v.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(F.jsxs)(v.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(F.jsxs)(v.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-4 col-sm-12",children:[Object(F.jsx)(v.u,{className:"col-title mb-md-50 mb-0",children:"Item"}),Object(F.jsx)(p.a,{control:et,name:"rows[".concat(t,"].serviceId"),rules:{required:!0},render:function(e){var c,n,a=e.field,s=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({},a),{},{inputRef:s,className:g()("react-select",{"is-invalid":null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.serviceId}),classNamePrefix:"select",options:G,value:G.find((function(e){return e.id===a.value})),onChange:function(e){a.onChange(e.id),dt(t,!1,!1,!1,!1,!0)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),(null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.serviceId)&&Object(F.jsx)(v.I,{children:null===(a=Xe.rows)||void 0===a||null===(s=a[t])||void 0===s?void 0:s.serviceId.message}),Object(F.jsx)(p.a,{id:"rows_".concat(t,"_description"),name:"rows[".concat(t,"].description"),control:et,render:function(e){var c,n,a=e.field;return Object(F.jsx)(v.K,Object(i.a)({className:"mt-1",invalid:(null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.description)&&!0,onInput:function(e){a.onChange(e),dt(t,!0,!1,!1,!1,!1)}},a))}})]}),Object(F.jsxs)(v.B,{className:"my-lg-0 my-2 col-lg-2 col-sm-12",children:[Object(F.jsx)(v.u,{className:"col-title mb-md-2 mb-0",children:"SAC Code"}),Object(F.jsx)(p.a,{id:"rows_".concat(t,"_sacCode"),name:"rows[".concat(t,"].sacCode"),control:et,render:function(e){var c,n,a=e.field;return Object(F.jsx)(v.K,Object(i.a)({type:"text",invalid:(null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.sacCode)&&!0,onInput:function(e){a.onChange(e),dt(t,!1,!0,!0,!1,!1)}},a))}}),(null===(r=Xe.rows)||void 0===r||null===(o=r[t])||void 0===o?void 0:o.sacCode)&&Object(F.jsx)(v.I,{children:null===(l=Xe.rows)||void 0===l||null===(d=l[t])||void 0===d?void 0:d.sacCode.message})]}),Object(F.jsxs)(v.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(F.jsx)(v.u,{className:"col-title mb-md-2 mb-0",children:"Price"}),Object(F.jsx)(p.a,{id:"rows_".concat(t,"_price"),name:"rows[".concat(t,"].price"),control:et,render:function(e){var c,n,a=e.field;return Object(F.jsx)(v.K,Object(i.a)(Object(i.a)({type:"number",id:"input_rows_".concat(t,"_price"),onInput:function(e){a.onChange(e),dt(t,!1,!0,!1,!1,!1)}},a),{},{invalid:(null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.price)&&!0}))}}),(null===(u=Xe.rows)||void 0===u||null===(j=u[t])||void 0===j?void 0:j.price)&&Object(F.jsx)(v.I,{children:null===(m=Xe.rows)||void 0===m||null===(O=m[t])||void 0===O?void 0:O.price.message})]}),Object(F.jsxs)(v.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(F.jsx)(v.u,{className:"col-title mb-md-50 mb-0",children:"Tax Rate"}),Object(F.jsx)(p.a,{control:et,name:"rows[".concat(t,"].taxGroupId"),rules:{required:!0},render:function(e){var c,n,a=e.field,s=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({},a),{},{inputRef:s,className:g()("react-select",{"is-invalid":null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.taxGroupId}),classNamePrefix:"select",options:K,value:K.find((function(e){return e.id===a.value})),onChange:function(e){a.onChange(e.id),dt(t,!1,!0,!1,!0,!1)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),(null===(x=Xe.rows)||void 0===x||null===(h=x[t])||void 0===h?void 0:h.taxGroupId)&&Object(F.jsx)(v.I,{children:null===(N=Xe.rows)||void 0===N||null===(w=N[t])||void 0===w?void 0:w.taxGroupId.message}),!e.isTaxApplicable&&Object(F.jsx)(p.a,{control:et,name:"rows[".concat(t,"].exemptionReasonId"),rules:{required:!0},render:function(e){var c,n,a=e.field,s=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({},a),{},{inputRef:s,className:g()("react-select mt-1",{"is-invalid":null===(c=Xe.rows)||void 0===c||null===(n=c[t])||void 0===n?void 0:n.taxGroupId}),classNamePrefix:"select",options:Fe,value:Fe.find((function(e){return e.id===a.value})),onChange:function(e){a.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})]}),Object(F.jsxs)(v.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(F.jsx)(v.u,{className:"col-title mb-md-50 mb-0",children:"Amount"}),et._formValues.rows[t].subTotalAmount]})]}),Object(F.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(F.jsx)(b.a,{size:18,className:"cursor-pointer",onClick:function(){it(t),lt()}})})]})})},e.id)})),Object(F.jsx)(v.ib,{className:"mt-1",children:Object(F.jsx)(v.B,{sm:"12",className:"px-0",children:Object(F.jsxs)(v.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return ot()},children:[Object(F.jsx)(m.a,{size:14,className:"me-25"})," ",Object(F.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(F.jsx)(v.m,{className:"invoice-padding",children:Object(F.jsxs)(v.ib,{className:"invoice-sales-total-wrapper",children:[Object(F.jsx)(v.B,{className:"mt-md-0 mt-3",md:{size:"6",order:1},xs:{size:12,order:2}}),Object(F.jsx)(v.B,{className:"d-flex justify-content-end",md:{size:"6",order:2},xs:{size:12,order:1},children:Object(F.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(F.jsxs)("div",{className:"invoice-total-item",children:[Object(F.jsx)("p",{className:"invoice-total-title",children:"Pre Tax Amount:"}),Object(F.jsx)("p",{className:"invoice-total-amount",children:re})]}),!Me&&Object(F.jsx)("div",{children:Ce.map((function(e,t){return Object(F.jsxs)("div",{className:"invoice-total-item",children:[Object(F.jsx)("p",{className:"invoice-total-title",children:null===e||void 0===e?void 0:e.taxName}),Object(F.jsx)("p",{className:"invoice-total-amount",children:null===e||void 0===e?void 0:e.taxAmount})]},t)}))}),Object(F.jsx)("hr",{className:"my-50"}),Object(F.jsxs)("div",{className:"invoice-total-item",children:[Object(F.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(F.jsx)("p",{className:"invoice-total-amount",children:ne})]})]})})]})}),Object(F.jsx)("hr",{className:"invoice-spacing mt-0"}),Object(F.jsx)(v.m,{className:"invoice-padding py-0",children:Object(F.jsx)(v.ib,{children:Object(F.jsx)(v.B,{children:Object(F.jsxs)("div",{className:"mb-2",children:[Object(F.jsx)(v.N,{for:"note",className:"form-label fw-bold",children:"Note:"}),Object(F.jsx)(p.a,{id:"note",name:"note",control:et,render:function(e){var t=e.field;return Object(F.jsx)(v.K,Object(i.a)({type:"textarea",value:t.value,invalid:Xe.note&&!0},t))}})]})})})})]})}),Object(F.jsxs)(v.B,{xl:2,md:4,sm:12,children:[Object(F.jsx)(v.l,{className:"invoice-action-wrapper",children:Object(F.jsxs)(v.m,{children:[Object(F.jsx)(v.i,{color:"primary",type:"submit",block:!0,outline:!0,className:"mb-75",children:"Save"}),Object(F.jsx)(v.i,{color:"warning",block:!0,outline:!0,tag:k.b,to:"/invoice/list",children:"Cancel"})]})}),Object(F.jsx)("div",{className:"mt-2",children:Object(F.jsxs)("div",{className:"invoice-payment-option",children:[Object(F.jsx)("p",{className:"mb-50 required",children:"Accept payments via"}),Object(F.jsx)(p.a,{control:et,name:"bankAccountId",rules:{required:!0},render:function(e){var t=e.field,c=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({},t),{},{inputRef:c,className:g()("react-select mt-1",{"is-invalid":Xe.bankAccountId}),classNamePrefix:"select",options:X,value:X.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),function(e){var t=X.find((function(t){return t.id===e}));ye(t),tt("bankAccountBankName",t.bankName),tt("bankAccountBranchName",t.branchAddress),tt("bankAccountHolderName",t.accountHolderName),tt("bankAccountId",t.id),tt("bankAccountIfscCode",t.ifscCode),tt("bankAccountNumber",t.accountNumber)}(e.id)},getOptionLabel:function(e){return e.accountHolderName},getOptionValue:function(e){return e.id}}))}})]})}),Object(F.jsx)("div",{className:"mt-2",children:Object(F.jsxs)("div",{className:"invoice-payment-option",children:[Object(F.jsx)("p",{className:"mb-50",children:"Select Employee"}),Object(F.jsx)(p.a,{control:et,name:"reviewer",id:"reviewer",render:function(e){var t=e.field,c=e.value,n=e.ref;return Object(F.jsx)(f.a,Object(i.a)(Object(i.a)({inputRef:n,className:g()("react-select",{"is-invalid":Xe.reviewer})},t),{},{classNamePrefix:"select",options:Ve,isMulti:!0,value:c,onChange:jt,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},styles:A}))}})]})})]})]})})})})};t.default=function(){return Object(F.jsx)("div",{className:"invoice-add-wrapper",children:Object(F.jsx)(V,{})})}},526:function(e,t,c){"use strict";var n=c(14),a=c(34),i=c(2),s=c(7),r=c.n(s),o=c(96),l=(c(529),c(16)),d=function(e){var t,c=e.children,s=e.blocking,o=e.loader,d=e.className,u=e.tag,j=e.overlayColor,b=u;return Object(l.jsxs)(b,{className:r()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",s),t)),children:[c,s?Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)("div",Object(n.a)({className:"overlay"},s&&j?{style:{backgroundColor:j}}:{})),Object(l.jsx)("div",{className:"loader",children:o})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(o.jb,{color:"primary"})}},527:function(e,t,c){"use strict";var n=c(16);t.a=function(){return Object(n.jsx)("div",{className:"fallback-spinner",children:Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"effect-1 effects"}),Object(n.jsx)("div",{className:"effect-2 effects"}),Object(n.jsx)("div",{className:"effect-3 effects"})]})})}},529:function(e,t,c){},530:function(e,t,c){},534:function(e,t,c){},537:function(e,t,c){},607:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a}));var n=function(e,t,c){var n=0;return 1===c?n=parseFloat(e)-parseFloat(e)*(100/(100+parseFloat(t))):2===c&&(n=parseFloat(e)*parseFloat(t)/100),parseFloat(n)},a=function(e){return JSON.parse(e.replace(/\\/g,""))}}}]);
//# sourceMappingURL=48.d0732101.chunk.js.map