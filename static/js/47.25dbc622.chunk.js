(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[47],{1472:function(e,n,a){"use strict";a.r(n);var t=a(1),c=a(4),r=a(14),i=a(8),s=a(22),l=a(2),d=a(13),o=a(139),m=a(7),u=a.n(m),j=a(140),f=a(544),b=a.n(f),O=a(5),v=a(718),x=a(830),p=a(535),g=a(532),h=a(538),y=a(539),N=a(10),_=a(96),C=a(689),I=a(525),F=a(526),B=a(160),k=(a(536),a(534),a(529),a(533),a(16)),w=Object(N.a)(),S=Object(N.d)(),q=function(){var e,n,a,m,f=Object(l.useState)(!1),N=Object(s.a)(f,2),q=N[0],z=N[1],A=function(){return Object(k.jsx)(l.Fragment,{children:Object(k.jsx)(F.a,{})})},E=Object(d.g)().id,D=Object(j.b)(),J=Object(d.f)(),M=Object(l.useState)(""),L=Object(s.a)(M,2),V=L[0],T=L[1],Y=Object(l.useState)([]),P=Object(s.a)(Y,2),Q=P[0],K=P[1],R=Object(l.useState)(),H=Object(s.a)(R,2),U=H[0],G=H[1],W=Object(l.useState)([]),X=Object(s.a)(W,2),Z=X[0],$=X[1],ee=Object(l.useState)([]),ne=Object(s.a)(ee,2),ae=ne[0],te=ne[1],ce={multiValue:function(e,n){return Object(i.a)(n),Object(r.a)(Object(r.a)({},e),{},{backgroundColor:"#7367f0"})}},re=[{id:1,name:"One time"},{id:2,name:"Monthly"},{id:3,name:"Quaterly"},{id:4,name:"Annually"}],ie=[{name:"1 day before",id:1,value:1},{name:"2 day's before",id:2,value:2},{name:"3 day's before",id:3,value:3},{name:"4 day's before",id:4,value:4},{name:"5 day's before",id:5,value:5},{name:"7 day's before",id:6,value:7},{name:"10 day's before",id:7,value:10},{name:"15 day's before",id:8,value:15},{name:"21 day's before",id:9,value:21},{name:"30 day's before",id:10,value:30},{name:"2 month's before",id:11,value:60},{name:"3 months's before",id:12,value:90},{name:"4 months's before",id:13,value:120}],se=Object(j.c)((function(e){return e.compliance})),le=h.d().shape({updatedBy:h.f().default(S),organization:h.f().default(w.id),serviceId:h.f().required("Test"),name:h.f().required(""),dueDate:h.a().min(1),description:h.f().default(""),importCode:h.f().required(""),reminderOnActual:h.a().min(1),recurringId:h.c().default(1).required("Test"),forms:h.a().of(h.d().shape({name:h.f().nullable(),filling_fees:h.f().nullable(),late_fees_duration:h.f().nullable(),penalty:h.f().nullable()}))}),de=Object(g.f)({resolver:Object(y.a)(le),defaultValues:le.cast()}),oe=de.handleSubmit,me=de.control,ue=de.formState.errors,je=de.setError,fe=de.setValue,be=Object(g.e)({name:"forms",control:me}),Oe=be.fields,ve=be.append,xe=be.remove;Object(l.useEffect)((function(){null!==se.errors&&(z(!1),Object.keys(se.errors).map((function(e){je(e,{type:"custom",message:se.errors[e][0]})})))}),[se.errors]);var pe=function(){var e=Object(c.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(Object(B.f)(n));case 2:J("/compliance/view/".concat(E));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ge=function(){ve({name:"",filling_fees:"",late_fees_duration:"",penalty:""})};Object(l.useEffect)(Object(c.a)(Object(t.a)().mark((function e(){var n,a,c,r,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==se.selectedCompliance&&(n=se.selectedCompliance.compliance,fe("childCompliances",se.selectedCompliance.childcompliances),a=se.selectedCompliance.childcompliances,fe("serviceId",n.serviceid),fe("name",n.name),fe("importCode",n.importcode),T(n.description||""),fe("description",n.description||""),fe("reminderOnActual",n.reminderonactual),c=[],ie.forEach((function(e){n.reminderonactual.indexOf(String(e.value))>-1&&c.push(e)})),$(c),fe("recurringId",parseInt(n.frequency)),fe("id",E),G(parseInt(n.frequency)),r=13===n.duedate.length?String(n.duedate/1e3):n.duedate,fe("dates_".concat(n.frequency,"_0"),r),n.forms.forEach((function(e,n){var a=JSON.parse(e);ge(),fe("forms[".concat(n,"].name"),a.name),fe("forms[".concat(n,"].filling_fees"),a.filling_fees),fe("forms[".concat(n,"].late_fees_duration"),a.late_fees_duration),fe("forms[".concat(n,"].penalty"),null===a.penalty?"":a.penalty)})),i=[],a.length>0?(i=a.map((function(e){return e.duedate}))).unshift(n.duedate):i.push(n.duedate),fe("dueDate",i),a.length>0&&a.forEach((function(e,a){var t;t=13===e.duedate.length?String(e.duedate/1e3):e.duedate,fe("dates_".concat(n.frequency,"_").concat(a+1),t)})));case 1:case"end":return e.stop()}}),e)}))),[se.selectedCompliance]);var he=function(e){var n=Array.isArray(e)?e.map((function(e){return e.value})):[];fe("reminderOnActual",n),$(e)},ye=function(){var e=Object(c.a)(Object(t.a)().mark((function e(){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(Object(B.d)(E));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){null!==se.selectedCompliance&&0===me._formValues.forms.length&&ge()}),[se.selectedCompliance]),Object(l.useEffect)((function(){O.a.post("/services/dropdown",{status:1}).then((function(e){var n=e.data;K(n.services)})),ye()}),[]);var Ne=function(e,n){var a=ae;a[n]=e,te(a),fe("dueDate",a)};return Object(k.jsx)(I.a,{blocking:q,loader:Object(k.jsx)(A,{}),children:Object(k.jsxs)("form",{onSubmit:oe(pe),children:[Object(k.jsxs)(_.l,{className:"invoice-preview-card",children:[Object(k.jsxs)(_.p,{children:[Object(k.jsx)(_.v,{children:" Edit Compliance"}),Object.keys(ue).map((function(e,n){var a;return Object(k.jsxs)(_.I,{children:[" ",null===(a=ue[e])||void 0===a?void 0:a.message]},n)}))]}),Object(k.jsxs)(_.m,{className:"pb-0",children:[Object(k.jsxs)(_.ib,{children:[Object(k.jsxs)(_.B,{className:"my-lg-0 my-1 d-lg-flex",lg:"6",sm:"12",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:"Filing Name"}),Object(k.jsxs)(_.B,{sm:"9",children:[Object(k.jsx)(g.a,{control:me,name:"serviceId",id:"serviceId",render:function(e){var n=e.field,a=e.ref;return Object(k.jsx)(p.a,Object(r.a)(Object(r.a)(Object(r.a)({},n),{},{inputRef:a,className:u()("react-select",{"is-invalid":ue.serviceId})},n),{},{classNamePrefix:"select",options:Q,value:Q.find((function(e){return e.id===n.value})),onChange:function(e){return fe("name",e.name),fe("importCode",e.name),n.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),ue.serviceId&&Object(k.jsx)(_.I,{className:"text-danger",children:null===(e=ue.serviceId)||void 0===e?void 0:e.message})]})]}),Object(k.jsxs)(_.B,{className:"my-lg-0 my-1 d-lg-flex",lg:"6",sm:"12",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:"Filing Frequency"}),Object(k.jsxs)(_.B,{sm:"9",children:[Object(k.jsx)(g.a,{control:me,name:"recurringId",id:"recurringId",render:function(e){var n=e.field,a=e.ref;return Object(k.jsx)(p.a,Object(r.a)(Object(r.a)(Object(r.a)({},n),{},{inputRef:a,className:u()("react-select",{"is-invalid":ue.recurringId})},n),{},{isDisabled:!0,classNamePrefix:"select",options:re,value:re.find((function(e){return e.id===n.value})),onChange:function(e){return G(e.id),te([]),fe("dates_".concat(U,"_",0),null),n.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),ue.recurringId&&Object(k.jsx)(_.I,{className:"text-danger",children:null===(n=ue.recurringId)||void 0===n?void 0:n.message})]})]})]}),Object(k.jsxs)(_.ib,{children:[(1===U||4===U)&&Object(k.jsxs)(_.B,{className:"my-2 d-lg-flex",lg:"6",sm:"12",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:"Date"}),Object(k.jsx)(_.B,{sm:"9",children:Object(k.jsx)(g.a,{name:"dates_".concat(U,"_0"),control:me,rules:{required:!0},options:{dateFormat:"d-m-Y"},render:function(e){var n=e.field;return Object(k.jsx)(b.a,{value:n.value,onChange:function(e,a){n.onChange(a),Ne(a,0)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:u()("due-date-picker")})}})})]}),3===U&&C.a.quarterly.map((function(e,n){return Object(k.jsxs)(_.B,{className:"my-1 d-lg-flex",lg:"6",sm:"6",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:e.name}),Object(k.jsx)(_.B,{sm:"9",children:Object(k.jsx)(g.a,{name:"dates_".concat(U,"_").concat(n),control:me,rules:{required:!0},options:{dateFormat:"d-m-Y"},render:function(e){var a=e.field;return Object(k.jsx)(b.a,{value:a.value,onChange:function(e,t){a.onChange(t),Ne(t,n)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:u()("due-date-picker")})}})})]},n)})),2===U&&C.a.monthly.map((function(e,n){return Object(k.jsxs)(_.B,{className:"d-lg-flex my-1",lg:"4",sm:"6",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:e.name}),Object(k.jsx)(_.B,{sm:"9",children:Object(k.jsx)(g.a,{name:"dates_".concat(U,"_").concat(n),control:me,rules:{required:!0},options:{dateFormat:"d-m-Y"},render:function(e){var a=e.field;return Object(k.jsx)(b.a,{value:a.value,onChange:function(e,t){a.onChange(t),Ne(t,n)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:u()("due-date-picker")})}})})]},n)}))]}),Object(k.jsx)(_.ib,{children:Object(k.jsxs)(_.B,{className:"d-lg-flex",lg:"6",sm:"12",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:"Reminders"}),Object(k.jsxs)(_.B,{sm:"9",children:[Object(k.jsx)(g.a,{control:me,name:"recurringId",id:"recurringId",render:function(e){var n=e.field,a=e.ref;return Object(k.jsx)(p.a,Object(r.a)(Object(r.a)(Object(r.a)({},n),{},{inputRef:a,className:u()("react-select",{"is-invalid":ue.recurringId})},n),{},{classNamePrefix:"select",isMulti:!0,options:ie,value:Z,onChange:he,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},styles:ce,isOptionDisabled:function(){return Z.length>=3}}))}}),ue.recurringId&&Object(k.jsx)(_.I,{className:"text-danger",children:null===(a=ue.recurringId)||void 0===a?void 0:a.message})]})]})})]}),Object(k.jsx)("hr",{className:"invoice-spacing"}),ue.forms&&Object(k.jsx)("p",{className:"text-danger ms-2",children:null===(m=ue.forms)||void 0===m?void 0:m.message}),Object(k.jsxs)(_.m,{className:"invoice-padding invoice-product-details",children:[Oe.map((function(e,n){var a,t,c,i,s,l,d,o,m,u,j,f,b,O,x,p;return Object(k.jsx)("div",{className:"repeater-wrapper",children:Object(k.jsx)(_.ib,{children:Object(k.jsxs)(_.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(k.jsxs)(_.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(k.jsxs)(_.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(k.jsx)(_.u,{className:"col-title mb-md-50 mb-0",children:"Forms To Be Filed"}),Object(k.jsx)(g.a,{control:me,id:"forms_firstName",name:"forms[".concat(n,"].name"),render:function(e){var a,t,c=e.field;return Object(k.jsx)(_.K,Object(r.a)({type:"text",onChange:function(e){c.onChange(e)},invalid:(null===(a=ue.forms)||void 0===a||null===(t=a[n])||void 0===t?void 0:t.name)&&!0},c))}}),(null===(a=ue.forms)||void 0===a||null===(t=a[n])||void 0===t?void 0:t.name)&&Object(k.jsx)(_.I,{children:null===(c=ue.forms)||void 0===c||null===(i=c[n])||void 0===i?void 0:i.name.message})]}),Object(k.jsxs)(_.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(k.jsx)(_.u,{className:"col-title mb-md-2 mb-0 ",children:"Govt Fee (If Any)"}),Object(k.jsx)(g.a,{control:me,id:"forms_filling_fees",name:"forms[".concat(n,"].filling_fees"),render:function(e){var a,t,c=e.field;return Object(k.jsx)(_.K,Object(r.a)({type:"text",onChange:function(e){c.onChange(e)},invalid:(null===(a=ue.forms)||void 0===a||null===(t=a[n])||void 0===t?void 0:t.filling_fees)&&!0},c))}}),(null===(s=ue.forms)||void 0===s||null===(l=s[n])||void 0===l?void 0:l.filling_fees)&&Object(k.jsx)(_.I,{children:null===(d=ue.forms)||void 0===d||null===(o=d[n])||void 0===o?void 0:o.filling_fees.message})]}),Object(k.jsxs)(_.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(k.jsx)(_.u,{className:"col-title mb-md-2 mb-0",children:"Late Fees"}),Object(k.jsx)(g.a,{control:me,id:"forms_late_fees_duration",name:"forms[".concat(n,"].late_fees_duration"),render:function(e){var a,t,c=e.field;return Object(k.jsx)(_.K,Object(r.a)({type:"text",onChange:function(e){c.onChange(e)},invalid:(null===(a=ue.forms)||void 0===a||null===(t=a[n])||void 0===t?void 0:t.late_fees_duration)&&!0},c))}}),(null===(m=ue.forms)||void 0===m||null===(u=m[n])||void 0===u?void 0:u.late_fees_duration)&&Object(k.jsx)(_.I,{children:null===(j=ue.forms)||void 0===j||null===(f=j[n])||void 0===f?void 0:f.late_fees_duration.message})]}),Object(k.jsxs)(_.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(k.jsx)(_.u,{className:"col-title mb-md-2 mb-0",children:"Penalty"}),Object(k.jsx)(g.a,{control:me,id:"forms_penalty",name:"forms[".concat(n,"].penalty"),render:function(e){var a,t,c=e.field;return Object(k.jsx)(_.K,Object(r.a)({type:"text",onChange:function(e){c.onChange(e)},invalid:(null===(a=ue.forms)||void 0===a||null===(t=a[n])||void 0===t?void 0:t.penalty)&&!0},c))}}),(null===(b=ue.forms)||void 0===b||null===(O=b[n])||void 0===O?void 0:O.penalty)&&Object(k.jsx)(_.I,{children:null===(x=ue.forms)||void 0===x||null===(p=x[n])||void 0===p?void 0:p.penalty.message})]})]}),Object(k.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(k.jsx)(v.a,{size:18,className:"cursor-pointer",onClick:function(){xe(n)}})})]})})},e.id)})),Object(k.jsx)(_.ib,{className:"mt-1",children:Object(k.jsx)(_.B,{sm:"12",className:"px-0",children:Object(k.jsxs)(_.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return ge()},children:[Object(k.jsx)(x.a,{size:14,className:"me-25"})," ",Object(k.jsx)("span",{className:"align-middle",children:"Add Item"})]})})}),Object(k.jsxs)(_.ib,{className:"mt-1",children:[Object(k.jsx)(_.N,{size:"lg",className:"col-lg-3 col-sm-12",children:"Description"}),""!==V&&Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:V.replace(/(\\n)/g,"")},contentEditable:!0,className:"border border-1 rounded-2 maxheight-400",onInput:function(e){fe("description",e.target.outerHTML)}}),""===V&&Object(k.jsx)("div",{contentEditable:!0,className:"border border-1 rounded-2 maxheight-400",onInput:function(e){fe("description",e.target.outerHTML)}})]})]})]}),Object(k.jsx)(_.l,{children:Object(k.jsx)(_.m,{children:Object(k.jsxs)("div",{className:"modal-footer border-0",children:[Object(k.jsx)(_.i,{color:"warning",outline:!0,tag:o.b,to:"/clients/list",children:"Cancel"}),Object(k.jsx)(_.i,{color:"primary",type:"submit",children:"Save"})]})})})]})})};n.default=function(){return Object(k.jsx)("div",{className:"invoice-add-wrapper",children:Object(k.jsx)(_.ib,{className:"invoice-add",children:Object(k.jsx)(_.B,{xl:12,md:12,sm:12,children:Object(k.jsx)(q,{})})})})}},525:function(e,n,a){"use strict";var t=a(14),c=a(34),r=a(2),i=a(7),s=a.n(i),l=a(96),d=(a(528),a(16)),o=function(e){var n,a=e.children,i=e.blocking,l=e.loader,o=e.className,m=e.tag,u=e.overlayColor,j=m;return Object(d.jsxs)(j,{className:s()("ui-loader",(n={},Object(c.a)(n,o,o),Object(c.a)(n,"show",i),n)),children:[a,i?Object(d.jsxs)(r.Fragment,{children:[Object(d.jsx)("div",Object(t.a)({className:"overlay"},i&&u?{style:{backgroundColor:u}}:{})),Object(d.jsx)("div",{className:"loader",children:l})]}):null]})};n.a=o,o.defaultProps={tag:"div",blocking:!1,loader:Object(d.jsx)(l.jb,{color:"primary"})}},526:function(e,n,a){"use strict";var t=a(16);n.a=function(){return Object(t.jsx)("div",{className:"fallback-spinner",children:Object(t.jsxs)("div",{className:"loading",children:[Object(t.jsx)("div",{className:"effect-1 effects"}),Object(t.jsx)("div",{className:"effect-2 effects"}),Object(t.jsx)("div",{className:"effect-3 effects"})]})})}},528:function(e,n,a){},529:function(e,n,a){},533:function(e,n,a){},536:function(e,n,a){},689:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t={singles:{id:"",due_date:"",min:"01-01-2021",max:"12-31-2021"},quarterly:[{id:"",name:"Quarter 1 (Apr-Jun)",due_date:"",min:"07-01-2021",max:"09-30-2021"},{id:"",name:"Quarter 2 (Jul-Sept)",due_date:"",min:"10-01-2021",max:"12-31-2021"},{id:"",name:"Quarter 3 (Oct-Dec)",due_date:"",min:"01-01-2021",max:"03-31-2021"},{id:"",name:"Quarter 4 (Jan-Mar)",due_date:"",min:"04-01-2021",max:"06-30-2021"}],monthly:[{id:"",name:"April",due_date:"",min:"05-01-2021",max:"05-31-2021"},{id:"",name:"May",due_date:"",min:"06-01-2021",max:"06-30-2021"},{id:"",name:"June",due_date:"",min:"07-01-2021",max:"07-31-2021"},{id:"",name:"July",due_date:"",min:"08-01-2021",max:"08-31-2021"},{id:"",name:"August",due_date:"",min:"09-01-2021",max:"09-30-2021"},{id:"",name:"September",due_date:"",min:"10-01-2021",max:"10-31-2021"},{id:"",name:"October",due_date:"",min:"11-01-2021",max:"11-30-2021"},{id:"",name:"November",due_date:"",min:"12-01-2021",max:"12-31-2021"},{id:"",name:"December",due_date:"",min:"01-01-2021",max:"01-31-2021"},{id:"",name:"January",due_date:"",min:"02-01-2021",max:"02-29-2021"},{id:"",name:"February",due_date:"",min:"03-01-2021",max:"03-31-2021"},{id:"",name:"March",due_date:"",min:"04-03-2021",max:"04-30-2021"}]}}}]);
//# sourceMappingURL=47.25dbc622.chunk.js.map