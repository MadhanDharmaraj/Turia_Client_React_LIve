(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[45],{1460:function(e,t,n){"use strict";n.r(t);var c=n(14),i=n(142),a=n(1),s=n(4),r=n(22),l=n(2),o=n(13),d=n(139),b=n(7),u=n.n(b),j=n(140),m=n(157),f=n(5),O=n(718),h=n(830),x=n(535),v=n(532),p=n(538),g=n(539),y=n(10),N=n(96),B=n(525),C=n(526),_=(n(536),n(534),n(529),n(533),n(541)),w=n.n(_),S=n(542),A=n.n(S),k=n(16),E=Object(y.a)(),P=Object(y.d)(),I=function(){var e,t=Object(l.useState)(!1),n=Object(r.a)(t,2),b=n[0],y=n[1],_=function(){return Object(k.jsx)(l.Fragment,{children:Object(k.jsx)(C.a,{})})},S=A()(w.a),I=/^[0-9\- ]{10,10}$/,z=Object(o.f)({}),q=Object(j.c)((function(e){return e.client})),L=Object(j.b)(),T=Object(l.useState)([]),K=Object(r.a)(T,2),D=K[0],R=K[1],Z=Object(l.useState)([]),F=Object(r.a)(Z,2),V=F[0],$=F[1],G=Object(l.useState)([]),J=Object(r.a)(G,2),M=J[0],Y=J[1],H=Object(l.useState)([]),Q=Object(r.a)(H,2),U=Q[0],W=Q[1],X=Object(l.useState)([]),ee=Object(r.a)(X,2),te=ee[0],ne=ee[1],ce=Object(l.useState)([]),ie=Object(r.a)(ce,2),ae=ie[0],se=ie[1],re=Object(l.useState)(null),le=Object(r.a)(re,2),oe=le[0],de=le[1],be=Object(l.useState)({}),ue=Object(r.a)(be,2),je=ue[0],me=ue[1],fe=p.d().shape({updatedBy:p.f().default(P),organization:p.f().default(E.id),contactPersonName:p.f().required("Please Enter a Contact Person Name"),name:p.f().required("Please Enter Business Name.").default(""),contactNumber:p.f().required("Please Enter Contact Number").matches(I,{message:"Phone number is not valid",excludeEmptyString:!0}),email:p.f().email("Please Enter valid Email").required("Please Enter valid Email"),businessEntity:p.f().required("Please Select Business Enity."),gstRegistrationType:p.f().nullable(),gstin:p.f().nullable(),placeOfSupply:p.f().nullable(),currency:p.f().default(E.currencyid),billingAddressLine1:p.f().nullable(),billingAddressLine2:p.f().nullable(),billingAddressCity:p.f().nullable(),billingAddressState:p.f().nullable(),billingAddressCountry:p.f().nullable(),billingAddressZip:p.f().matches(/^[0-9\- ]{6,6}$/,{message:"Zip Code is not valid",excludeEmptyString:!0}).nullable(),contact_info:p.a().of(p.d().shape({updatedBy:p.f().default(P),createdBy:p.f().default(P),name:p.f().nullable(),email:p.f().email().nullable(),designation:p.f().nullable(),contactNumber:p.f().nullable().matches(I,{message:"Phone number is not valid",excludeEmptyString:!0})}))}),Oe=Object(v.f)({resolver:Object(g.a)(fe),defaultValues:fe.cast()}),he=Oe.handleSubmit,xe=Oe.reset,ve=Oe.control,pe=Oe.formState.errors,ge=Object(o.g)().id,ye=Object(v.e)({name:"contact_info",control:ve,keyName:"rowid"}),Ne=ye.fields,Be=ye.append,Ce=ye.remove,_e=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={rows:ae},e.next=3,L(Object(m.l)(t));case 3:z("/clients/view/".concat(oe));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),n=t.contact_info||[],delete t.contact_info,c=je.id,e.next=6,L(Object(m.k)({data:t,id:c}));case 6:se((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){return S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var t=Object(s.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.value){t.next=7;break}return t.next=3,L(Object(m.e)(e));case 3:return S.fire({icon:"success",title:"Deleted!",text:"Contact has been deleted.",customClass:{confirmButton:"btn btn-success"}}),t.abrupt("return",!0);case 7:if(n.dismiss!==S.DismissReason.cancel){t.next=9;break}return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Ae=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(n=ve._formValues.contact_info[t].id)){e.next=5;break}return e.next=4,Se(n);case 4:c=e.sent;case 5:c&&Ce(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(Object(m.h)(oe));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(Object(m.g)(ge));case 2:t=e.sent,me(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){Object.keys(je).length>0&&(xe({updatedBy:P,uniqueIdentity:je.uniqueidentity,contactPersonName:je.contactpersonname,organization:je.organizationid,name:je.name,contactNumber:je.contactnumber,businessEntity:je.businessentityid,email:je.email,gstRegistrationType:je.gstregistrationtypeid,gstin:je.gstin||"",placeOfSupply:je.placeofsupplyid||E.stateid,currency:je.currencyid||E.currencyid||"",billingAddressLine1:je.billingaddressline1||"",billingAddressLine2:je.billingaddressline2||"",billingAddressCountry:je.billingaddresscountry||E.countryid,billingAddressState:je.billingaddressstate||E.stateid,billingAddressZip:je.billingaddresszip||"",billingAddressCity:je.billingaddresscity||""}),de(je.id)),null!==oe&&ke()}),[oe,je]),Object(l.useEffect)((function(){q.clientInformations.forEach((function(e){Be(e)}))}),[q.clientInformations]),Object(l.useEffect)((function(){ae.length?_e():null!==oe&&z("/clients/view/".concat(oe))}),[ae]),Object(l.useEffect)((function(){f.a.post("/businessentities/list").then((function(e){var t=e.data;R(t.businessentities)})),f.a.post("/countries/list").then((function(e){var t=e.data;Y(t.countries)})),f.a.post("/currencies/list").then((function(e){var t=e.data;W(t.currencies)})),f.a.post("/gstregistrationtypes/list").then((function(e){var t=e.data;ne(t.gstregistrationtypes)})),f.a.post("/states/list").then((function(e){var t=e.data;$(t.states)})),Ee()}),[]);var Pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(k.jsxs)(N.ib,{className:"mb-1",children:[Object(k.jsx)(N.N,{sm:"4",size:"lg",className:u()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(k.jsxs)(N.B,{sm:"8",children:[Object(k.jsx)(v.a,{id:t,name:t,control:ve,render:function(e){var n=e.field;return Object(k.jsx)(N.K,Object(c.a)({invalid:pe[t]&&!0},n))}}),pe[t]&&Object(k.jsx)(N.I,{children:pe[t].message})]})]})},Ie=function(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(k.jsxs)(N.ib,{className:"mb-1",children:[Object(k.jsx)(N.N,{sm:"4",size:"lg",className:u()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(k.jsxs)(N.B,{sm:"8",children:[Object(k.jsx)(v.a,{control:ve,name:t,id:t,render:function(e){var i=e.field,a=e.ref;return Object(k.jsx)(x.a,Object(c.a)(Object(c.a)({inputRef:a,className:u()("react-select",{"is-invalid":pe[t]})},i),{},{classNamePrefix:"select",isDisabled:"currency"===t,options:n,value:n.find((function(e){return e.id===i.value})),onChange:function(e){return i.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),pe[t]&&Object(k.jsx)(N.I,{className:"text-danger",children:null===(i=pe[t])||void 0===i?void 0:i.message})]})]})};return Object(k.jsx)(B.a,{blocking:b,loader:Object(k.jsx)(_,{}),children:Object(k.jsxs)("form",{onSubmit:he(we),children:[Object(k.jsxs)(N.l,{className:"invoice-preview-card",children:[Object(k.jsxs)(N.p,{children:[Object(k.jsx)(N.v,{children:" Edit Client"}),function(){var e=Object.keys(pe),t=[];return Array.isArray(e)&&e.forEach((function(e){var n;"rows"!==e&&t.push(Object(k.jsxs)(N.I,{children:["$",null===(n=pe[e])||void 0===n?void 0:n.message]},e))})),t}()]}),Object(k.jsxs)(N.m,{className:"pb-0",children:[Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Business Name","name",!0)}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Contact Person Name","contactPersonName",!0)})]}),Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Mobile Number","contactNumber",!0)}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Email ID","email",!0)})]}),Object(k.jsx)(N.ib,{children:Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Ie("Business Entity","businessEntity",D,!0)})})]}),Object(k.jsx)("hr",{className:"invoice-spacing"}),pe.contact_info&&Object(k.jsx)("p",{className:"text-danger ms-2",children:null===(e=pe.contact_info)||void 0===e?void 0:e.message}),Object(k.jsxs)(N.m,{className:"invoice-padding invoice-product-details",children:[Ne.map((function(e,t){var n,i,a,s,r,l,o,d,b,u,j,m,f,h,x,p;return Object(k.jsx)("div",{className:"repeater-wrapper",children:Object(k.jsx)(N.ib,{children:Object(k.jsxs)(N.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(k.jsxs)(N.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(k.jsxs)(N.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(k.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"First Name"}),Object(k.jsx)(v.a,{control:ve,id:"contact_info_name",name:"contact_info[".concat(t,"].name"),render:function(e){var n,i,a=e.field;return Object(k.jsx)(N.K,Object(c.a)({type:"text",onChange:function(e){a.onChange(e)},invalid:(null===(n=pe.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&!0},a))}}),(null===(n=pe.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&Object(k.jsx)(N.I,{children:null===(a=pe.contact_info)||void 0===a||null===(s=a[t])||void 0===s?void 0:s.name.message})]}),Object(k.jsxs)(N.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(k.jsx)(N.u,{className:"col-title mb-md-2 mb-0 ",children:"Email"}),Object(k.jsx)(v.a,{control:ve,id:"contact_info_email",name:"contact_info[".concat(t,"].email"),render:function(e){var n,i,a=e.field;return Object(k.jsx)(N.K,Object(c.a)({type:"email",onChange:function(e){a.onChange(e)},invalid:(null===(n=pe.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.email)&&!0},a))}}),(null===(r=pe.contact_info)||void 0===r||null===(l=r[t])||void 0===l?void 0:l.email)&&Object(k.jsx)(N.I,{children:null===(o=pe.contact_info)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(k.jsxs)(N.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(k.jsx)(N.u,{className:"col-title mb-md-2 mb-0",children:"Mobile"}),Object(k.jsx)(v.a,{control:ve,id:"contact_info_contactnumber",name:"contact_info[".concat(t,"].contactnumber"),render:function(e){var n,i,a=e.field;return Object(k.jsx)(N.K,Object(c.a)({type:"number",onChange:function(e){a.onChange(e)},invalid:(null===(n=pe.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.contactnumber)&&!0},a))}}),(null===(b=pe.contact_info)||void 0===b||null===(u=b[t])||void 0===u?void 0:u.contactnumber)&&Object(k.jsx)(N.I,{children:null===(j=pe.contact_info)||void 0===j||null===(m=j[t])||void 0===m?void 0:m.contactnumber.message})]}),Object(k.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(k.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Designation"}),Object(k.jsx)(v.a,{control:ve,id:"contact_info_designation",name:"contact_info[".concat(t,"].designation"),render:function(e){var n,i,a=e.field;return Object(k.jsx)(N.K,Object(c.a)({type:"text",invalid:(null===(n=pe.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.designation)&&!0,onChange:function(e){a.onChange(e)}},a))}}),(null===(f=pe.contact_info)||void 0===f||null===(h=f[t])||void 0===h?void 0:h.designation)&&Object(k.jsx)(N.I,{children:null===(x=pe.contact_info)||void 0===x||null===(p=x[t])||void 0===p?void 0:p.designation.message})]}),Object(k.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(k.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Primary"}),Object(k.jsx)("div",{className:"form-switch form-check-primary",children:Object(k.jsx)(v.a,{control:ve,id:"contact_info_primarystatus",name:"contact_info[".concat(t,"].primarystatus"),render:function(e){var t=e.field;return Object(k.jsx)(N.K,Object(c.a)(Object(c.a)({type:"switch",onChange:function(e){t.onChange(e)}},t),{},{defaultChecked:t.value}))}})})]})]}),Object(k.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(k.jsx)(O.a,{size:18,className:"cursor-pointer",onClick:function(){return Ae(t)}})})]})})},e.rowid)})),Object(k.jsx)(N.ib,{className:"mt-1",children:Object(k.jsx)(N.B,{sm:"12",className:"px-0",children:Object(k.jsxs)(N.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){Be({id:"",name:"",email:"",contactnumber:"",contactid:ge,organizationid:E.id,designation:"",primarystatus:!1})},children:[Object(k.jsx)(h.a,{size:14,className:"me-25"})," ",Object(k.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(k.jsx)("hr",{className:"invoice-spacing"}),Object(k.jsxs)(N.m,{children:[Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Ie("GST Type","gstRegistrationType",te)}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Ie("Place of Supply","placeOfSupply",V)})]}),Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("GSTIN","gstin")}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Ie("Currency","currency",U)})]})]}),Object(k.jsxs)(N.m,{className:"",children:[Object(k.jsx)("h4",{className:"text-primary",children:"Billing Address"}),Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Address Line1","billingAddressLine1")}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Address Line2","billingAddressLine2")})]}),Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("City","billingAddressCity")}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Ie("State","billingAddressState",V)})]}),Object(k.jsxs)(N.ib,{children:[Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Ie("Country","billingAddressCountry",M)}),Object(k.jsx)(N.B,{md:"6",className:"mb-1",children:Pe("Zip Code","billingAddressZip")})]})]})]}),Object(k.jsx)(N.l,{children:Object(k.jsx)(N.m,{children:Object(k.jsxs)("div",{className:"modal-footer border-0",children:[Object(k.jsx)(N.i,{color:"warning",outline:!0,tag:d.b,to:"/clients/view/".concat(ge),children:"Cancel"}),Object(k.jsx)(N.i,{color:"primary",type:"submit",children:"Save"})]})})})]})})};t.default=function(){return Object(k.jsx)("div",{className:"invoice-add-wrapper",children:Object(k.jsx)(N.ib,{className:"invoice-add",children:Object(k.jsx)(N.B,{xl:12,md:12,sm:12,children:Object(k.jsx)(I,{})})})})}},525:function(e,t,n){"use strict";var c=n(14),i=n(34),a=n(2),s=n(7),r=n.n(s),l=n(96),o=(n(528),n(16)),d=function(e){var t,n=e.children,s=e.blocking,l=e.loader,d=e.className,b=e.tag,u=e.overlayColor,j=b;return Object(o.jsxs)(j,{className:r()("ui-loader",(t={},Object(i.a)(t,d,d),Object(i.a)(t,"show",s),t)),children:[n,s?Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",Object(c.a)({className:"overlay"},s&&u?{style:{backgroundColor:u}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},526:function(e,t,n){"use strict";var c=n(16);t.a=function(){return Object(c.jsx)("div",{className:"fallback-spinner",children:Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("div",{className:"effect-1 effects"}),Object(c.jsx)("div",{className:"effect-2 effects"}),Object(c.jsx)("div",{className:"effect-3 effects"})]})})}},528:function(e,t,n){},529:function(e,t,n){},533:function(e,t,n){},536:function(e,t,n){}}]);
//# sourceMappingURL=45.20538f21.chunk.js.map