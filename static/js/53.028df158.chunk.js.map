{"version":3,"sources":["views/apps/category/view/CheckList.js","views/apps/category/view/Templates.js","views/apps/category/view/Tabs.js","views/apps/category/view/UserInfoCard.js","views/apps/category/view/index.js","../node_modules/tslib/tslib.es6.js","../home/runner/work/react-sortablejs/react-sortablejs/node_modules/@parcel/scope-hoisting/lib/helpers.js","util.ts","react-sortable.tsx","../../../src/file.ts","../../../src/file-selector.ts","../node_modules/react-dropzone/dist/es/utils/index.js","../node_modules/react-dropzone/dist/es/index.js","../node_modules/sortablejs/modular/sortable.esm.js","../node_modules/tiny-invariant/dist/tiny-invariant.esm.js","../node_modules/attr-accept/dist/es/index.js"],"names":["CheckList","useState","listArr","schema","yup","shape","checklists","of","name","required","description","useForm","resolver","yupResolver","defaultValues","handleSubmit","errors","formState","control","useFieldArray","fields","append","addItem","id","length","removeItem","e","preventDefault","target","closest","remove","useEffect","onSubmit","data","console","log","className","sm","color","onClick","type","md","map","item","i","render","field","invalid","message","TemplatesTab","files","setFiles","useDropzone","multiple","onDrop","acceptedFiles","rejectedFiles","toast","error","file","Object","assign","getRootProps","getInputProps","fileList","index","alt","src","URL","createObjectURL","height","width","size","Math","round","toFixed","outline","filtered","filter","handleRemoveFile","for","rows","placeholder","imgHeight","imgWidth","href","UserTabs","active","toggleTab","pills","activeTab","tabId","Templates","statusColors","statusArr","UserInfoCard","selectedCategory","initials","status","content","contentStyles","borderRadius","fontSize","style","categoriesname","hsncode","sellingprice","taxgroupid","tag","Link","to","CategoryView","store","useSelector","state","service","dispatch","useDispatch","useParams","getCategory","parseInt","setActive","undefined","xl","lg","xs","order","tab","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","t","s","n","arguments","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","push","__read","o","m","r","ar","__spread","concat","__spreadArray","from","pack","l","slice","$parcel$interopDefault","a","__esModule","default","removeNode","node","parentElement","removeChild","removeNodes","customs","forEach","curr","element","insertNodes","parent","newChild","refChild","oldIndex","children","insertBefore","createCustoms","evt","list","mode","getMode","custom","newIndex","$bf037e368b3040002dda64d69d3f$var$_objectSpread","swapItem","oldIndicies","multiDragElement","newIndicies","inputs","sort","handleStateRemove","normalized","newList","$bf037e368b3040002dda64d69d3f$var$_toConsumableArray","reverse","splice","handleStateAdd","clone","newItem","dragging","ReactSortable","Component","props","_this","ref","createRef","chosen","selected","setList","sortable","invariant","plugins","current","newOptions","makeOptions","Sortable","classicProps","createElement","$ff006f4a88ed11a8119708ec3f19c5db$var$_objectSpread","getChildren","dataIdAttr","selectedClass","chosenClass","dragClass","fallbackClass","ghostClass","swapClass","dataid","Children","child","prevClassName","$ff006f4a88ed11a8119708ec3f19c5db$var$_defineProperty","replace","classNames","cloneElement","key","onAdd","onChange","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onSelect","onDeselect","$bf037e368b3040002dda64d69d3f$var$_objectWithoutProperties","_this2","prepareOnHandlerPropAndDOM","prepareOnHandlerProp","originalEvt","defaultValue","willInsertAfter","evtName","_this3","callOnHandlerProp","_this4","propEvent","$bf037e368b3040002dda64d69d3f$export$createCustoms","$ff006f4a88ed11a8119708ec3f19c5db$var$_toConsumableArray","$bf037e368b3040002dda64d69d3f$export$removeNodes","$bf037e368b3040002dda64d69d3f$export$handleStateAdd","$bf037e368b3040002dda64d69d3f$export$getMode","$bf037e368b3040002dda64d69d3f$export$insertNodes","pullMode","$bf037e368b3040002dda64d69d3f$export$handleStateRemove","customClones","clones","_this5","removeOnSpill","revertOnSpill","$bf037e368b3040002dda64d69d3f$export$removeNode","el","keys","find","k","includes","items","_slicedToArray","arr","isArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","toString","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","FILE_INVALID_TYPE","FILE_TOO_LARGE","FILE_TOO_SMALL","TOO_MANY_FILES","getInvalidTypeRejectionErr","accept","messageSuffix","join","code","getTooLargeRejectionErr","maxSize","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","accepts","fileMatchSize","isDefined","allFilesAccepted","_ref","maxFiles","every","accepted","sizeMatch","isPropagationStopped","event","cancelBubble","isEvtWithFiles","dataTransfer","some","types","onDocumentDragOver","isIe","userAgent","indexOf","isEdge","isIeOrEdge","window","navigator","composeEventHandlers","_len","fns","_key","_len2","args","_key2","fn","_excluded","_excluded2","_excluded3","_excluded4","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","Dropzone","forwardRef","_useDropzone","open","useImperativeHandle","React","Fragment","displayName","defaultProps","disabled","getFilesFromEvent","Infinity","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","validator","propTypes","PropTypes","func","oneOfType","string","arrayOf","bool","number","onFileDialogCancel","onDragEnter","onDragLeave","onDragOver","onDropAccepted","onDropRejected","initialState","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","draggedFiles","fileRejections","options","_defaultProps$options","rootRef","useRef","inputRef","_useReducer","useReducer","reducer","_useReducer2","openFileDialog","useCallback","click","onWindowFocus","setTimeout","addEventListener","removeEventListener","onKeyDownCb","isEqualNode","keyCode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","contains","document","onDragEnterCb","persist","stopPropagation","onDragOverCb","hasFiles","dropEffect","_unused","onDragLeaveCb","targets","targetIdx","onDropCb","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","customErrors","composeHandler","composeKeyboardHandler","composeDragHandler","useMemo","_ref2","_ref2$refKey","refKey","onKeyDown","onFocus","onBlur","rest","tabIndex","onInputElementClick","_ref3","_ref3$refKey","inputProps","display","autoComplete","fileCount","action","_objectSpread2","_typeof","_extends","pattern","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","off","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","getParentOrHost","host","nodeType","parentNode","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","classList","css","prop","val","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","tagName","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","includeDragEl","currentChild","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","toUpperCase","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","throttle","callback","ms","scrollBy","x","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginName","pluginEvent","eventName","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","rootEl","targetEl","cloneEl","toEl","fromEl","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","lastPutMode","allEventProperties","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","stopImmediatePropagation","nearestEmptyInsertDetectEvent","nearest","ret","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","touches","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","handle","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ignore","preventOnFilter","setData","textContent","dropBubble","dragoverBubble","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","_onMove","dragRect","targetRect","retVal","onMoveFn","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","str","sum","charCodeAt","_nextTick","_cancelNextTick","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","checked","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","c","cssMatrix","appendChild","removeAttribute","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","_globalDragOver","toArray","getAttribute","useAnimation","set","destroy","querySelectorAll","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","lastSwapEl","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","Revert","Remove","SwapPlugin","Swap","dragStart","dragOverValid","swap","prevSwapEl","n1","n2","i1","i2","p1","p2","swapNodes","nulling","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","avoidImplicitDeselect","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","removeMultiDragElements","dragOver","_ref8","_ref9","clonesInserted","insertMultiDragElements","dragOverCompleted","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","toLowerCase","elementsInserted","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverBubble","ogElemScroller","newElem","prefix","condition","Error","exports","acceptedFilesArray","fileName","mimeType","baseMimeType","validType","endsWith"],"mappings":"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","file":"static/js/53.028df158.chunk.js","sourcesContent":["// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { Delete } from 'react-feather'\nimport { useForm, Controller, useFieldArray } from \"react-hook-form\"\nimport * as yup from \"yup\"\nimport { yupResolver } from \"@hookform/resolvers/yup\"\n\n// ** Third Party Components\nimport { ReactSortable } from 'react-sortablejs'\n\n// ** Reactstrap Imports\nimport { Card, CardBody, Row, Col, ListGroupItem, Input, Label, Button, FormFeedback } from 'reactstrap'\n\nconst CheckList = () => {\n  // ** States\n  const [listArr] = useState([])\n  const schema = yup.object().shape({\n    checklists: yup.array().of(\n      yup.object().shape({\n        name: yup.string().required(\"Please Enter Name\"),\n        description: yup.string()\n      })\n    )\n  })\n\n  const { handleSubmit, formState: { errors }, control } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: {\n      checklists: []\n    }\n  })\n\n  const { fields, append } = useFieldArray({ name: 'checklists', control })\n  const onSubmit = data => console.log(data)\n\n  const addItem = (() => {\n    const id = listArr.length + 1\n    const obj = { id, name: '', description: '' }\n    append(obj)\n  })\n\n  const removeItem = e => {\n    e.preventDefault()\n    e.target.closest('.repeater-wrapper').remove()\n  }\n\n  useEffect(() => {\n    addItem()\n  }, [])\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Card>\n        <CardBody>\n          <Row id='dd-with-handle'>\n            <Row className='mb-1'>\n              <Col sm='12' className='px-0 d-flex justify-content-between'>\n                <Button color='primary' onClick={() => addItem()}>Add New</Button>\n                <Button color='primary' className='ms-1' type='submit'>Save</Button>\n              </Col>\n            </Row>\n            <Col md='12' sm='12'>\n\n              {\n                fields.map((item, i) => {\n                  return (\n                    <ListGroupItem className='draggable repeater-wrapper' key={i}>\n                      <Row md={12}>\n                        <Col sm='12' className='px-2 d-flex justify-content-between'>\n                          <span className='handle'>Step {i + 1}</span>\n                          <Delete onClick={removeItem} />\n                        </Col>\n                      </Row>\n                      <br></br>\n                      <Label>Name</Label>\n                      <Controller\n                        name={`checklists.${i}.name`}\n                        control={control}\n                        render={({ field }) => <Input type=\"text\" invalid={errors.checklists?.[i]?.name && true} {...field} />}\n                      />\n                      {errors.checklists?.[i]?.name && <FormFeedback>{errors.checklists?.[i]?.name?.message}</FormFeedback>}\n                      <Label>Description</Label>\n                      <Controller\n                        name={`checklists.${i}.description`}\n                        control={control}\n                        render={({ field }) => <Input type=\"textarea\" invalid={errors.checklists?.[i]?.description && true} {...field} />}\n                      />\n                    </ListGroupItem>\n                  )\n                })\n              }\n\n            </Col>\n          </Row>\n        </CardBody>\n      </Card >\n    </form>\n  )\n}\n\nexport default CheckList\n","// ** React Imports\nimport { Fragment, useState } from 'react'\nimport toast from 'react-hot-toast'\nimport { useDropzone } from 'react-dropzone'\n\n// ** Reactstrap Imports\nimport {\n  Card,\n  Input,\n  Button,\n  CardBody,\n  Label,\n  ListGroup,\n  ListGroupItem,\n  Row\n} from 'reactstrap'\n\n// ** Third Party Components\nimport 'cleave.js/dist/addons/cleave-phone.us'\nimport { X, Heart, Paperclip } from 'react-feather'\nimport Avatar from '../../../../@core/components/avatar'\n\n// ** Images\nconst TemplatesTab = () => {\n  // ** Hook\n  //** State */\n  const [files, setFiles] = useState([])\n\n  const { getRootProps, getInputProps } = useDropzone({\n    multiple: true,\n    onDrop: (acceptedFiles, rejectedFiles) => {\n      if (rejectedFiles.length) {\n        toast.error('You can only upload image Files!.')\n      } else {\n        setFiles([...files, ...acceptedFiles.map(file => Object.assign(file))])\n      }\n    }\n  })\n\n  const renderFileSize = size => {\n    if (Math.round(size / 100) / 10 > 1000) {\n      return `${(Math.round(size / 100) / 10000).toFixed(1)} mb`\n    } else {\n      return `${(Math.round(size / 100) / 10).toFixed(1)} kb`\n    }\n  }\n\n  const handleRemoveFile = file => {\n    const uploadedFiles = files\n    const filtered = uploadedFiles.filter(i => i.name !== file.name)\n    setFiles([...filtered])\n  }\n\n  const fileList = files.map((file, index) => (\n    <ListGroupItem key={`${file.name}-${index}`} className='d-flex align-items-center justify-content-between'>\n      <div className='file-details d-flex align-items-center'>\n        <div className='file-preview me-1'>\n          <img className='rounded' alt={file.name} src={URL.createObjectURL(file)} height='28' width='28' />\n        </div>\n        <div>\n          <p className='file-name mb-0'>{file.name}</p>\n          <p className='file-size mb-0'>{renderFileSize(file.size)}</p>\n        </div>\n      </div>\n      <Button color='danger' outline size='sm' className='btn-icon' onClick={() => handleRemoveFile(file)}>\n        <X size={14} />\n      </Button>\n    </ListGroupItem>\n  ))\n\n  return (\n    <Fragment>\n      <Card>\n        <CardBody>\n\n          <fieldset className='form-label-group mb-50'>\n            <Label className='form-check-label' for={`add-comment-`}>\n              Add Comment\n            </Label>\n            <Input id={`add-comment-`} type='textarea' rows='3' placeholder='Add Comment' />\n          </fieldset>\n\n          <input {...getInputProps()} />\n\n          <Button type='button' color='primary' size='sm' {...getRootProps({ className: 'dropzone' })} >\n            <Paperclip size={14} className=''></Paperclip>\n          </Button>\n\n          <Button color='primary' className='ms-1' size='sm'>\n            Post Comment\n          </Button>\n\n          <ListGroup>{fileList}</ListGroup>\n\n          <div className='d-flex align-items-start my-1'>\n            <Avatar className='mt-25 me-75' imgHeight='34' imgWidth='34' />\n            <div className='profile-user-info w-100'>\n              <div className='d-flex align-items-center justify-content-between'>\n                <h6 className='mb-0'>Madhan</h6>\n                <a href='/' onClick={e => e.preventDefault()}>\n                  <Heart\n                    size={18} />\n                  <span className='align-middle ms-25 text-muted'>2</span>\n                </a>\n              </div>\n              <small>Test</small>\n            </div>\n          </div>\n          <div className='d-flex align-items-start my-1'>\n            <Avatar className='mt-25 me-75' imgHeight='34' imgWidth='34' />\n            <div className='profile-user-info w-100'>\n              <div className='d-flex align-items-center justify-content-between'>\n                <h6 className='mb-0'>Madhan</h6>\n                <a href='/' onClick={e => e.preventDefault()}>\n                  <Heart\n                    size={18}\n\n                  />\n                  <span className='align-middle ms-25 text-muted'>2</span>\n                </a>\n              </div>\n              <small>Test</small>\n            </div>\n          </div>\n        </CardBody>\n      </Card>\n    </Fragment>\n  )\n}\n\nexport default TemplatesTab\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Reactstrap Imports\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap'\n\n// ** Icons Imports\nimport { User, Lock } from 'react-feather'\n\n// ** User Components\nimport Checklist from './CheckList'\nimport Templates from './Templates'\nconst UserTabs = ({ active, toggleTab }) => {\n  return (\n    <Fragment>\n      <Nav pills className='mb-2'>\n        <NavItem>\n          <NavLink active={active === '1'} onClick={() => toggleTab('1')}>\n            <User className='font-medium-3 me-50' />\n            <span className='fw-bold'>Checklist</span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink active={active === '2'} onClick={() => toggleTab('2')}>\n            <Lock className='font-medium-3 me-50' />\n            <span className='fw-bold'>Templates</span>\n          </NavLink>\n        </NavItem>\n      </Nav>\n      <TabContent activeTab={active}>\n        <TabPane tabId='1'>\n        <Checklist />\n        </TabPane>\n        <TabPane tabId='2'>\n          <Templates />\n        </TabPane>\n      </TabContent>\n    </Fragment>\n  )\n}\nexport default UserTabs\n","// ** React Imports\nimport { Fragment } from 'react'\nimport { Link } from 'react-router-dom'\n// ** Reactstrap Imports\nimport { Card, CardBody, Button, Badge } from 'reactstrap'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\n// ** Styles\nimport '@styles/react/libs/react-select/_react-select.scss'\n\n\nconst statusColors = [\n  '',\n  'light-primary',\n  'light-warning'\n]\n\nconst statusArr = [\n  '',\n  \"Active\",\n  \"In Active\"\n\n]\n\nconst UserInfoCard = ({ selectedCategory }) => {\n\n  // ** render user img\n  const renderUserImg = () => {\n\n    return (\n      <Avatar\n        initials\n        color={statusColors[selectedCategory.status]}\n        className='rounded mt-3 mb-2'\n        content={selectedCategory.name}\n        contentStyles={{\n          borderRadius: 0,\n          fontSize: 'calc(48px)',\n          width: '100%',\n          height: '100%'\n        }}\n        style={{\n          height: '110px',\n          width: '110px'\n        }}\n      />\n    )\n  }\n\n\n  return (\n    <Fragment>\n      <Card>\n        <CardBody>\n          <div className='user-avatar-section'>\n            <div className='d-flex align-items-center flex-column'>\n              {renderUserImg()}\n              <div className='d-flex flex-column align-items-center text-center'>\n                <div className='user-info'>\n                  <h4>{selectedCategory !== null ? selectedCategory.name : 'Eleanor Aguilar'}</h4>\n                </div>\n              </div>\n            </div>\n          </div>\n          <h4 className='fw-bolder border-bottom pb-50 mb-1'>Details</h4>\n          <div className='info-container'>\n            {selectedCategory !== null ? (\n              <ul className='list-unstyled'>\n                <li className='mb-75 row'>\n                  <span className='fw-bolder col-6'>Category:</span>\n                  <span className='col-6 text-end'>{selectedCategory.categoriesname}</span>\n                </li>\n                <li className='mb-75 row'>\n                  <span className='fw-bolder col-6'>Description:</span>\n                  <span className='col-6 text-end'>{selectedCategory.description}</span>\n                </li>\n                <li className='mb-75 row'>\n                  <span className='fw-bolder col-6'>SAC Code:</span>\n                  <span className='col-6 text-end'>{selectedCategory.hsncode}</span>\n                </li>\n                <li className='mb-75 row'>\n                  <span className='fw-bolder col-6'>Fee:</span>\n                  <span className='col-6 text-end'>{selectedCategory.sellingprice}</span>\n                </li>\n                <li className='mb-75 row'>\n                  <span className='fw-bolder col-6'>Tax Rate:</span>\n                  <span className='col-6 text-end'>{selectedCategory.taxgroupid}</span>\n                </li>\n                <li className='mb-75 row'>\n                  <span className='fw-bolder col-6'>Status:</span>\n                  <span className='col-6 text-end'>\n                    <Badge className='text-capitalize' color={statusColors[selectedCategory.status]}>\n                      {statusArr[selectedCategory.status]}\n                    </Badge>\n                  </span>\n                </li>\n\n              </ul>\n            ) : null}\n          </div>\n          <div className='d-flex justify-content-center pt-2'>\n            <Button color='primary'>\n              Edit\n            </Button>\n            <Button className='ms-1' color='danger' outline tag={Link} to={`/service/list`}>\n              Cancel\n            </Button>\n          </div>\n        </CardBody>\n      </Card>\n\n    </Fragment>\n  )\n}\n\nexport default UserInfoCard\n","// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\n// ** Store & Actions\nimport { getCategory } from '../store'\nimport { useSelector, useDispatch } from 'react-redux'\n\n// ** Reactstrap Imports\nimport { Row, Col, Alert } from 'reactstrap'\n\n// ** User View Components\nimport UserTabs from './Tabs'\nimport UserInfoCard from './UserInfoCard'\n\n// ** Styles\nimport '@styles/react/apps/app-users.scss'\n\nconst CategoryView = () => {\n  // ** Store Vars\n  const store = useSelector(state => state.service)\n  const dispatch = useDispatch()\n\n  // ** Hooks\n  const { id } = useParams()\n\n  // ** Get suer on mount\n  useEffect(() => {\n    dispatch(getCategory(parseInt(id)))\n  }, [dispatch])\n\n  const [active, setActive] = useState('1')\n\n  const toggleTab = tab => {\n    if (active !== tab) {\n      setActive(tab)\n    }\n  }\n\n  return store.selectedCategory !== null && store.selectedCategory !== undefined ? (\n    <div className='app-user-view'>\n      <Row>\n        <Col xl='4' lg='5' xs={{ order: 0 }} md={{ order: 0, size: 5 }} sm={{ order: 0 }}>\n          <UserInfoCard selectedCategory={store.selectedCategory} />\n        </Col>\n        <Col xl='8' lg='7' xs={{ order: 1 }} md={{ order: 1, size: 7 }} sm={{ order: 1 }}>\n          <UserTabs active={active} toggleTab={toggleTab} />\n        </Col>\n      </Row>\n    </div>\n  ) : (\n    <Alert color='danger'>\n      <h4 className='alert-heading'>Category not found</h4>\n      <div className='alert-body'>\n        Category with id: {id} doesn't exist. Check list of all Category: <Link to='/services/list'>Category List</Link>\n      </div>\n    </Alert>\n  )\n}\nexport default CategoryView\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,"import { PropsWithChildren } from \"react\";\nimport Sortable, { Options } from \"sortablejs\";\nimport { MultiDragEvent } from \"./react-sortable\";\nimport { AllMethodNames, ItemInterface, ReactSortableProps } from \"./types\";\n\n/**\n * Removes the `node` from the DOM\n * @param node\n */\nexport function removeNode(node: HTMLElement): void {\n  if (node.parentElement !== null) node.parentElement.removeChild(node);\n}\n\n/**\n * Inserts the `newChild` node at the given index in a parent\n * @param parent The parent HTML Element.\n * @param newChild A HTML eement to add as a child of the parent.\n * @param index index of the parent to place the new child in.\n */\nexport function insertNodeAt(\n  parent: HTMLElement,\n  newChild: HTMLElement,\n  index: number\n): void {\n  const refChild = parent.children[index] || null;\n  parent.insertBefore(newChild, refChild);\n}\n\n// @todo - create a dom handler function for arrays or not at all\n\n/** removes stuff from the dom in a nice order */\n// @todo - do I need parenElement?\nexport function handleDOMChanges<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  removeNodes(customs);\n  insertNodes(customs);\n}\n\nexport function removeNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => removeNode(curr.element));\n}\n\nexport function insertNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => {\n    insertNodeAt(curr.parentElement, curr.element, curr.oldIndex);\n  });\n}\n\nexport function createCustoms<T extends ItemInterface>(\n  evt: MultiDragEvent,\n  list: T[]\n): Normalized<T>[] {\n  const mode = getMode(evt);\n  const parentElement = { parentElement: evt.from };\n  let custom = [];\n  switch (mode) {\n    case \"normal\":\n      /* eslint-disable */\n      const item = {\n        element: evt.item,\n        newIndex: evt.newIndex!,\n        oldIndex: evt.oldIndex!,\n        parentElement: evt.from,\n      };\n      custom = [item];\n      break;\n    case \"swap\":\n      const drag: Input = {\n        element: evt.item,\n        oldIndex: evt.oldIndex!,\n        newIndex: evt.newIndex!,\n        ...parentElement,\n      };\n      const swap: Input = {\n        element: evt.swapItem!,\n        oldIndex: evt.newIndex!,\n        newIndex: evt.oldIndex!,\n        ...parentElement,\n      };\n      custom = [drag, swap];\n      break;\n    case \"multidrag\":\n      custom = evt.oldIndicies.map<Input>((curr, index) => ({\n        element: curr.multiDragElement,\n        oldIndex: curr.index,\n        newIndex: evt.newIndicies[index].index,\n        ...parentElement,\n      }));\n      break;\n  }\n  /* eslint-enable */\n\n  const customs = createNormalized(custom, list);\n  return customs;\n}\n\n/** moves items form old index to new index without breaking anything ideally. */\nexport function handleStateChanges<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const a = handleStateRemove(normalized, list);\n  const b = handleStateAdd(normalized, a);\n  return b;\n}\n\nexport function handleStateRemove<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const newList = [...list];\n  normalized\n    .concat()\n    .reverse()\n    .forEach((curr) => newList.splice(curr.oldIndex, 1));\n  return newList;\n}\n\nexport function handleStateAdd<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[],\n  evt?: Sortable.SortableEvent,\n  clone?: ((currentItem: T, evt: Sortable.SortableEvent) => T) | undefined\n): T[] {\n  const newList = [...list];\n  normalized.forEach((curr) => {\n    const newItem = clone && evt && clone(curr.item, evt);\n    newList.splice(curr.newIndex, 0, newItem || curr.item);\n  });\n  return newList;\n}\n\nexport function getMode(evt: MultiDragEvent): \"multidrag\" | \"swap\" | \"normal\" {\n  if (evt.oldIndicies && evt.oldIndicies.length > 0) return \"multidrag\";\n  if (evt.swapItem) return \"swap\";\n  return \"normal\";\n}\n\nexport function createNormalized<T extends ItemInterface>(\n  inputs: Input[],\n  list: T[]\n): Normalized<T>[] {\n  const normalized = inputs\n    .map<Normalized<T>>((curr) => ({ ...curr, item: list[curr.oldIndex] }))\n    .sort((a, b) => a.oldIndex - b.oldIndex);\n  return normalized;\n}\n\nexport interface Input {\n  parentElement: HTMLElement;\n  element: HTMLElement;\n  oldIndex: number;\n  newIndex: number;\n}\n\nexport interface Normalized<T> extends Input {\n  item: T;\n}\n\n/**\n * Removes the following group of properties from `props`,\n * leaving only `Sortable.Options` without any `on` methods.\n * @param props `ReactSortable.Props`\n */\nexport function destructurePropsForOptions<T>(\n  props: PropsWithChildren<ReactSortableProps<T>>\n): Exclude<Options, AllMethodNames> {\n  /* eslint-disable */\n  const {\n    // react sortable props\n    list,\n    setList,\n    children,\n    tag,\n    style,\n    className,\n    clone,\n    // sortable options that have methods we want to overwrite\n    onAdd,\n    onChange,\n    onChoose,\n    onClone,\n    onEnd,\n    onFilter,\n    onRemove,\n    onSort,\n    onStart,\n    onUnchoose,\n    onUpdate,\n    onMove,\n    onSpill,\n    onSelect,\n    onDeselect,\n    ...options\n  } = props;\n  /* eslint-enable */\n  return options;\n}\n\n/**\n * Construct a type with the properties of T except for those in type K.\n * Including this allows for backwards compatibility with earlier versions of TS.\n */\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n","import classNames from \"classnames\";\nimport {\n  Children,\n  cloneElement,\n  Component,\n  createElement,\n  createRef,\n  ReactElement,\n  RefObject,\n} from \"react\";\nimport Sortable, { MoveEvent, Options, SortableEvent } from \"sortablejs\";\nimport invariant from \"tiny-invariant\";\nimport {\n  AllMethodsExceptMove,\n  HandledMethodNames,\n  ItemInterface,\n  ReactSortableProps,\n  Store,\n  UnHandledMethodNames,\n} from \"./types\";\nimport {\n  createCustoms,\n  destructurePropsForOptions,\n  getMode,\n  handleStateAdd,\n  handleStateChanges,\n  handleStateRemove,\n  insertNodes,\n  removeNode,\n  removeNodes,\n} from \"./util\";\n\n/** Holds a global reference for which react element is being dragged */\n// @todo - use context to manage this. How does one use 2 different providers?\nconst store: Store = { dragging: null };\n\nexport class ReactSortable<T extends ItemInterface> extends Component<\n  ReactSortableProps<T>\n> {\n  /* eslint-disable-next-line */\n  static defaultProps: Partial<ReactSortableProps<any>> = {\n    clone: (item) => item,\n  };\n\n  private ref: RefObject<HTMLElement>;\n  constructor(props: ReactSortableProps<T>) {\n    super(props);\n    // @todo forward ref this component\n    this.ref = createRef<HTMLElement>();\n\n    // make all state false because we can't change sortable unless a mouse gesture is made.\n    const newList = props.list.map((item) => ({\n      ...item,\n      chosen: false,\n      selected: false,\n    }));\n\n    props.setList(newList, this.sortable, store);\n    invariant(\n      //@ts-expect-error: Doesn't exist. Will deprecate soon.\n      !props.plugins,\n      `\nPlugins prop is no longer supported.\nInstead, mount it with \"Sortable.mount(new MultiDrag())\"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      `\n    );\n  }\n  componentDidMount(): void {\n    if (this.ref.current === null) return;\n    const newOptions = this.makeOptions();\n    Sortable.create(this.ref.current, newOptions);\n  }\n\n  render(): JSX.Element {\n    const { tag, style, className, id } = this.props;\n    const classicProps = { style, className, id };\n\n    // if no tag, default to a `div` element.\n    const newTag = !tag || tag === null ? \"div\" : tag;\n    return createElement(\n      newTag,\n      {\n        // @todo - find a way (perhaps with the callback) to allow AntD components to work\n        ref: this.ref,\n        ...classicProps,\n      },\n      this.getChildren()\n    );\n  }\n\n  private getChildren() {\n    const {\n      children,\n      dataIdAttr,\n      selectedClass = \"sortable-selected\",\n      chosenClass = \"sortable-chosen\",\n      /* eslint-disable */\n      dragClass = \"sortable-drag\",\n      fallbackClass = \"sortable-falback\",\n      ghostClass = \"sortable-ghost\",\n      swapClass = \"sortable-swap-highlight\",\n      /* eslint-enable */\n      filter = \"sortable-filter\",\n      list,\n    } = this.props;\n\n    // if no children, don't do anything.\n    if (!children || children == null) return null;\n    const dataid = dataIdAttr || \"data-id\";\n    /* eslint-disable-next-line */\n    return Children.map(children as ReactElement<any>[], (child, index) => {\n      const item = list[index];\n      const { className: prevClassName } = child.props;\n\n      // @todo - handle the function if avalable. I don't think anyone will be doing this soon.\n      const filtered = typeof filter === \"string\" && {\n        [filter.replace(\".\", \"\")]: !!item.filtered,\n      };\n\n      const className = classNames(prevClassName, {\n        [selectedClass]: item.selected,\n        [chosenClass]: item.chosen,\n        ...filtered,\n        // [dragClass]: true,\n        // [fallbackClass]: true,\n        // [ghostClass]: true,\n        // [swapClass]: true\n      });\n\n      return cloneElement(child, {\n        [dataid]: child.key,\n        className,\n      });\n    });\n  }\n\n  /** Appends the `sortable` property to this component */\n  private get sortable(): Sortable | null {\n    const el = this.ref.current;\n    if (el === null) return null;\n    const key = Object.keys(el).find((k) => k.includes(\"Sortable\"));\n    if (!key) return null;\n    //@ts-expect-error: fix me.\n    return el[key] as Sortable;\n  }\n\n  /** Converts all the props from `ReactSortable` into the `options` object that `Sortable.create(el, [options])` can use. */\n  makeOptions(): Options {\n    const DOMHandlers: HandledMethodNames[] = [\n      \"onAdd\",\n      \"onChoose\",\n      \"onDeselect\",\n      \"onEnd\",\n      \"onRemove\",\n      \"onSelect\",\n      \"onSpill\",\n      \"onStart\",\n      \"onUnchoose\",\n      \"onUpdate\",\n    ];\n    const NonDOMHandlers: UnHandledMethodNames[] = [\n      \"onChange\",\n      \"onClone\",\n      \"onFilter\",\n      \"onSort\",\n    ];\n    const newOptions: Options = destructurePropsForOptions(this.props);\n    DOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerPropAndDOM(name))\n    );\n    NonDOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerProp(name))\n    );\n\n    /** onMove has 2 arguments and needs to be handled seperately. */\n    const onMove = (evt: MoveEvent, originalEvt: Event) => {\n      const { onMove } = this.props;\n      const defaultValue = evt.willInsertAfter || -1;\n      if (!onMove) return defaultValue;\n      const result = onMove(evt, originalEvt, this.sortable, store);\n      if (typeof result === \"undefined\") return false;\n      return result;\n    };\n\n    return {\n      ...newOptions,\n      onMove,\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop & an `on[Handler]` ReactSortable method.  */\n  prepareOnHandlerPropAndDOM(\n    evtName: HandledMethodNames\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n      // calls state change\n      //@ts-expect-error: until @types multidrag item is in\n      this[evtName](evt);\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop */\n  prepareOnHandlerProp(\n    evtName: Exclude<AllMethodsExceptMove, HandledMethodNames>\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n    };\n  }\n\n  /** Calls the `props.on[Handler]` function */\n  callOnHandlerProp(evt: SortableEvent, evtName: AllMethodsExceptMove): void {\n    const propEvent = this.props[evtName];\n    if (propEvent) propEvent(evt, this.sortable, store);\n  }\n\n  // SORTABLE DOM HANDLING\n\n  onAdd(evt: MultiDragEvent): void {\n    const { list, setList, clone } = this.props;\n    /* eslint-disable-next-line */\n    const otherList = [...store.dragging!.props.list];\n    const customs = createCustoms(evt, otherList);\n    removeNodes(customs);\n    const newList = handleStateAdd(customs, list, evt, clone).map((item) => ({\n      ...item,\n      selected: false,\n    }));\n    setList(newList, this.sortable, store);\n  }\n\n  onRemove(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const mode = getMode(evt);\n    const customs = createCustoms(evt, list);\n    insertNodes(customs);\n\n    let newList = [...list];\n    // remove state if not in clone mode. otherwise, keep.\n    if (evt.pullMode !== \"clone\") newList = handleStateRemove(customs, newList);\n    // if clone, it doesn't really remove. instead it clones in place.\n    // @todo -\n    else {\n      // switch used to get the clone\n      let customClones = customs;\n      switch (mode) {\n        case \"multidrag\":\n          customClones = customs.map((item, index) => ({\n            ...item,\n            element: evt.clones[index],\n          }));\n          break;\n        case \"normal\":\n          customClones = customs.map((item) => ({\n            ...item,\n            element: evt.clone,\n          }));\n          break;\n        case \"swap\":\n        default: {\n          invariant(\n            true,\n            `mode \"${mode}\" cannot clone. Please remove \"props.clone\" from <ReactSortable/> when using the \"${mode}\" plugin`\n          );\n        }\n      }\n      removeNodes(customClones);\n\n      // replace selected items with cloned items\n      customs.forEach((curr) => {\n        const index = curr.oldIndex;\n        /* eslint-disable-next-line */\n        const newItem = this.props.clone!(curr.item, evt);\n        newList.splice(index, 1, newItem);\n      });\n    }\n\n    // remove item.selected from list\n    newList = newList.map((item) => ({ ...item, selected: false }));\n    setList(newList, this.sortable, store);\n  }\n\n  onUpdate(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const customs = createCustoms(evt, list);\n    removeNodes(customs);\n    insertNodes(customs);\n    const newList = handleStateChanges(customs, list);\n    return setList(newList, this.sortable, store);\n  }\n\n  onStart(): void {\n    store.dragging = this;\n  }\n\n  onEnd(): void {\n    store.dragging = null;\n  }\n\n  onChoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: true,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onUnchoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: false,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onSpill(evt: SortableEvent): void {\n    const { removeOnSpill, revertOnSpill } = this.props;\n    if (removeOnSpill && !revertOnSpill) removeNode(evt.item);\n  }\n\n  onSelect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) {\n        console.log(\n          `\"${evt.type}\" had indice of \"${curr.index}\", which is probably -1 and doesn't usually happen here.`\n        );\n        console.log(evt);\n        return;\n      }\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onDeselect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) return;\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n}\n\n// everything below this point can be removed\n// once @types has been merged. PR submited\ninterface MultiIndices {\n  multiDragElement: HTMLElement;\n  index: number;\n}\n\nexport interface MultiDragEvent extends SortableEvent {\n  // @todo - add this to @types\n  clones: HTMLElement[];\n  oldIndicies: MultiIndices[];\n  newIndicies: MultiIndices[];\n  swapItem: HTMLElement | null;\n}\n","export var COMMON_MIME_TYPES = new Map([\n    ['avi', 'video/avi'],\n    ['gif', 'image/gif'],\n    ['ico', 'image/x-icon'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['mp4', 'video/mp4'],\n    ['pdf', 'application/pdf'],\n    ['png', 'image/png'],\n    ['zip', 'application/zip'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n]);\nexport function toFileWithPath(file, path) {\n    var f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        var webkitRelativePath = file.webkitRelativePath;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n    return f;\n}\nfunction withMimeType(file) {\n    var name = file.name;\n    var hasExtension = name && name.lastIndexOf('.') !== -1;\n    if (hasExtension && !file.type) {\n        var ext = name.split('.')\n            .pop().toLowerCase();\n        var type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n    return file;\n}\n//# sourceMappingURL=file.js.map","import { __awaiter, __generator, __read, __spread } from \"tslib\";\nimport { toFileWithPath } from './file';\nvar FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store',\n    'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n * @param evt\n */\nexport function fromEvent(evt) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, isDragEvt(evt) && evt.dataTransfer\n                    ? getDataTransferFiles(evt.dataTransfer, evt.type)\n                    : getInputFiles(evt)];\n        });\n    });\n}\nfunction isDragEvt(value) {\n    return !!value.dataTransfer;\n}\nfunction getInputFiles(evt) {\n    var files = isInput(evt.target)\n        ? evt.target.files\n            ? fromList(evt.target.files)\n            : []\n        : [];\n    return files.map(function (file) { return toFileWithPath(file); });\n}\nfunction isInput(value) {\n    return value !== null;\n}\nfunction getDataTransferFiles(dt, type) {\n    return __awaiter(this, void 0, void 0, function () {\n        var items, files;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!dt.items) return [3 /*break*/, 2];\n                    items = fromList(dt.items)\n                        .filter(function (item) { return item.kind === 'file'; });\n                    // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n                    // only 'dragstart' and 'drop' has access to the data (source node)\n                    if (type !== 'drop') {\n                        return [2 /*return*/, items];\n                    }\n                    return [4 /*yield*/, Promise.all(items.map(toFilePromises))];\n                case 1:\n                    files = _a.sent();\n                    return [2 /*return*/, noIgnoredFiles(flatten(files))];\n                case 2: return [2 /*return*/, noIgnoredFiles(fromList(dt.files)\n                        .map(function (file) { return toFileWithPath(file); }))];\n            }\n        });\n    });\n}\nfunction noIgnoredFiles(files) {\n    return files.filter(function (file) { return FILES_TO_IGNORE.indexOf(file.name) === -1; });\n}\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList(items) {\n    var files = [];\n    // tslint:disable: prefer-for-of\n    for (var i = 0; i < items.length; i++) {\n        var file = items[i];\n        files.push(file);\n    }\n    return files;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n    var entry = item.webkitGetAsEntry();\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry);\n    }\n    return fromDataTransferItem(item);\n}\nfunction flatten(items) {\n    return items.reduce(function (acc, files) { return __spread(acc, (Array.isArray(files) ? flatten(files) : [files])); }, []);\n}\nfunction fromDataTransferItem(item) {\n    var file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(item + \" is not a File\");\n    }\n    var fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nfunction fromEntry(entry) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];\n        });\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry) {\n    var reader = entry.createReader();\n    return new Promise(function (resolve, reject) {\n        var entries = [];\n        function readEntries() {\n            var _this = this;\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(function (batch) { return __awaiter(_this, void 0, void 0, function () {\n                var files, err_1, items;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!!batch.length) return [3 /*break*/, 5];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, Promise.all(entries)];\n                        case 2:\n                            files = _a.sent();\n                            resolve(files);\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            reject(err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [3 /*break*/, 6];\n                        case 5:\n                            items = Promise.all(batch.map(fromEntry));\n                            entries.push(items);\n                            // Continue reading\n                            readEntries();\n                            _a.label = 6;\n                        case 6: return [2 /*return*/];\n                    }\n                });\n            }); }, function (err) {\n                reject(err);\n            });\n        }\n        readEntries();\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nfunction fromFileEntry(entry) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    entry.file(function (file) {\n                        var fwp = toFileWithPath(file, entry.fullPath);\n                        resolve(fwp);\n                    }, function (err) {\n                        reject(err);\n                    });\n                })];\n        });\n    });\n}\n//# sourceMappingURL=file-selector.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from 'attr-accept'; // Error codes\n\nexport var FILE_INVALID_TYPE = 'file-invalid-type';\nexport var FILE_TOO_LARGE = 'file-too-large';\nexport var FILE_TOO_SMALL = 'file-too-small';\nexport var TOO_MANY_FILES = 'too-many-files';\nexport var ErrorCode = {\n  FileInvalidType: FILE_INVALID_TYPE,\n  FileTooLarge: FILE_TOO_LARGE,\n  FileTooSmall: FILE_TOO_SMALL,\n  TooManyFiles: TOO_MANY_FILES\n}; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(', ')) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: 'Too many files'\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === 'application/x-moz-file' || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple,\n      maxFiles = _ref.maxFiles;\n\n  if (!multiple && files.length > 1 || multiple && maxFiles >= 1 && files.length > maxFiles) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    return accepted && sizeMatch;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}","var _excluded = [\"children\"],\n    _excluded2 = [\"open\"],\n    _excluded3 = [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"],\n    _excluded4 = [\"refKey\", \"onChange\", \"onClick\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromEvent } from 'file-selector';\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, isEvtWithFiles, isIeOrEdge, isPropagationStopped, onDocumentDragOver, TOO_MANY_FILES_REJECTION } from './utils/index';\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, _excluded2);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return /*#__PURE__*/React.createElement(Fragment, null, children(_objectSpread(_objectSpread({}, props), {}, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone'; // Add default props for react-docgen\n\nvar defaultProps = {\n  disabled: false,\n  getFilesFromEvent: fromEvent,\n  maxSize: Infinity,\n  minSize: 0,\n  multiple: true,\n  maxFiles: 0,\n  preventDropOnDocument: true,\n  noClick: false,\n  noKeyboard: false,\n  noDrag: false,\n  noDragEventsBubbling: false,\n  validator: null\n};\nDropzone.defaultProps = defaultProps;\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Maximum accepted number of files\n   * The default value is 0 which means there is no limitation to how many files are accepted.\n   */\n  maxFiles: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are dropped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * Custom validation function \n   * @param {File} file\n   * @returns {FileError|FileError[]}\n   */\n  validator: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are dropped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _defaultProps$options = _objectSpread(_objectSpread({}, defaultProps), options),\n      accept = _defaultProps$options.accept,\n      disabled = _defaultProps$options.disabled,\n      getFilesFromEvent = _defaultProps$options.getFilesFromEvent,\n      maxSize = _defaultProps$options.maxSize,\n      minSize = _defaultProps$options.minSize,\n      multiple = _defaultProps$options.multiple,\n      maxFiles = _defaultProps$options.maxFiles,\n      onDragEnter = _defaultProps$options.onDragEnter,\n      onDragLeave = _defaultProps$options.onDragLeave,\n      onDragOver = _defaultProps$options.onDragOver,\n      onDrop = _defaultProps$options.onDrop,\n      onDropAccepted = _defaultProps$options.onDropAccepted,\n      onDropRejected = _defaultProps$options.onDropRejected,\n      onFileDialogCancel = _defaultProps$options.onFileDialogCancel,\n      preventDropOnDocument = _defaultProps$options.preventDropOnDocument,\n      noClick = _defaultProps$options.noClick,\n      noKeyboard = _defaultProps$options.noKeyboard,\n      noDrag = _defaultProps$options.noDrag,\n      noDragEventsBubbling = _defaultProps$options.noDragEventsBubbling,\n      validator = _defaultProps$options.validator;\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n    var hasFiles = isEvtWithFiles(event);\n\n    if (hasFiles && event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (hasFiles && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var fileRejections = [];\n        files.forEach(function (file) {\n          var _fileAccepted = fileAccepted(file, accept),\n              _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n              accepted = _fileAccepted2[0],\n              acceptError = _fileAccepted2[1];\n\n          var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n              _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n              sizeMatch = _fileMatchSize2[0],\n              sizeError = _fileMatchSize2[1];\n\n          var customErrors = validator ? validator(file) : null;\n\n          if (accepted && sizeMatch && !customErrors) {\n            acceptedFiles.push(file);\n          } else {\n            var errors = [acceptError, sizeError];\n\n            if (customErrors) {\n              errors = errors.concat(customErrors);\n            }\n\n            fileRejections.push({\n              file: file,\n              errors: errors.filter(function (e) {\n                return e;\n              })\n            });\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1 || multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles) {\n          // Reject everything and empty accepted files\n          acceptedFiles.forEach(function (file) {\n            fileRejections.push({\n              file: file,\n              errors: [TOO_MANY_FILES_REJECTION]\n            });\n          });\n          acceptedFiles.splice(0);\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          fileRejections: fileRejections,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, fileRejections, event);\n        }\n\n        if (fileRejections.length > 0 && onDropRejected) {\n          onDropRejected(fileRejections, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, maxFiles, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling, validator]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? 'ref' : _ref2$refKey,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, _excluded3);\n\n      return _objectSpread(_objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}), rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, _excluded4);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread(_objectSpread({}, inputProps), rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple,\n    maxFiles: maxFiles\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread(_objectSpread({}, state), {}, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case 'reset':\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nexport { ErrorCode } from './utils';","/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? prefix + \": \" + provided : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};"],"sourceRoot":""}