(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[67],{1674:function(e,t,n){"use strict";n.r(t);var c=n(17),i=n(135),s=n(4),a=n(18),r=n(1),l=n.n(r),o=n(2),d=n(11),u=n(132),b=n(6),m=n.n(b),j=n(133),f=n(147),O=n(5),h=n(818),x=n(929),p=n(511),v=n(509),g=n(521),y=n(522),N=n(12),B=n(91),_=(n(524),n(510),n(508),n(513),n(516)),C=n.n(_),S=n(517),w=n.n(S),E=n(13),A=Object(N.a)(),P=Object(N.e)(),k=function(){var e,t=w()(C.a),n=/^[0-9\- ]{10,10}$/,r=Object(d.f)({}),b=Object(j.c)((function(e){return e.client})),N=Object(j.b)(),_=Object(o.useState)([]),S=Object(a.a)(_,2),k=S[0],L=S[1],I=Object(o.useState)([]),q=Object(a.a)(I,2),T=q[0],z=q[1],D=Object(o.useState)([]),R=Object(a.a)(D,2),Z=R[0],G=R[1],V=Object(o.useState)([]),J=Object(a.a)(V,2),M=J[0],Y=J[1],$=Object(o.useState)([]),F=Object(a.a)($,2),H=F[0],K=F[1],Q=Object(o.useState)([]),U=Object(a.a)(Q,2),W=U[0],X=U[1],ee=Object(o.useState)(null),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],ie=Object(o.useState)({}),se=Object(a.a)(ie,2),ae=se[0],re=se[1],le=g.d().shape({updatedBy:g.f().default(P),contactPersonName:g.f().required("Please Enter a Contact Person Name"),name:g.f().required("Please Enter Business Name."),contactnumber:g.f().matches(n,{message:"Phone number is not valid",excludeEmptyString:!0}),email:g.f().email("Please Enter valid Email").required("Please Enter valid Email"),businessEntity:g.f().required("Please Select Business Enity."),gstRegistrationType:g.f().required("Please select a GST Type"),gstin:g.f().required("Please Enter GSTIN No"),placeOfSupply:g.f().required("Please select Place Of Supply"),currency:g.f(),billingAddressLine1:g.f().nullable(),billingAddressLine2:g.f().nullable(),billingAddressCity:g.f().nullable(),billingAddressState:g.c().nullable(),billingAddressCountry:g.c().nullable(),billingAddressZip:g.f().matches(/^[0-9\- ]{6,6}$/,{message:"Zip Code is not valid",excludeEmptyString:!0}),contact_info:g.a().of(g.d().shape({updatedBy:g.f().default(P),createdBy:g.f().default(P),name:g.f().required("Please Enter A Name"),email:g.f().email().required("Please Enter valid Email"),contactnumber:g.f().matches(n,{message:"Phone number is not valid",excludeEmptyString:!0})})).min(1,"Please Enter atleast one contact Info")}),oe=Object(v.f)({resolver:Object(y.a)(le),defaultValues:le.cast()}),de=oe.handleSubmit,ue=oe.reset,be=oe.control,me=oe.formState.errors,je=Object(d.g)().id,fe=Object(v.e)({name:"contact_info",control:be,keyName:"rowid"}),Oe=fe.fields,he=fe.append,xe=fe.remove,pe=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_info,delete t.contact_info,c=ae.id,e.next=5,N(Object(f.j)({data:t,id:c}));case 5:X((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){return t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var n=Object(s.a)(l.a.mark((function n(c){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c.value){n.next=7;break}return n.next=3,N(Object(f.e)(e));case 3:return t.fire({icon:"success",title:"Deleted!",text:"Conatct has been deleted.",customClass:{confirmButton:"btn btn-success"}}),n.abrupt("return",!0);case 7:if(c.dismiss!==t.DismissReason.cancel){n.next=9;break}return n.abrupt("return",!1);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},ge=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(n=be._formValues.contact_info[t].id)){e.next=5;break}return e.next=4,ve(n);case 4:c=e.sent;case 5:c&&xe(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(f.g)(ne));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(f.f)(je));case 2:t=e.sent,re(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Object.keys(ae).length>0&&(ue({uniqueIdentity:ae.uniqueidentity,contactPersonName:ae.contactpersonname,organization:ae.organizationid,name:ae.name,contactnumber:ae.contactnumber,businessEntity:ae.businessentityid,email:ae.email,gstRegistrationType:ae.gstregistrationtypeid,gstin:ae.gstin,placeOfSupply:ae.placeofsupplyid,currency:ae.currencyid,billingAddressLine1:ae.billingaddressline1,billingAddressLine2:ae.billingaddressline2,billingAddressCountry:ae.billingaddresscountry,billingAddressState:ae.billingaddressstate,billingAddressZip:ae.billingaddresszip,billingAddressCity:ae.billingaddresscity}),ce(ae.id)),null!==ne&&ye()}),[ne,ae]),Object(o.useEffect)((function(){b.clientInformations.forEach((function(e){he(e)}))}),[b.clientInformations]),Object(o.useEffect)((function(){W.length&&function(){var e={rows:W};N(Object(f.k)(e)),r("/client/view/".concat(ne))}()}),[W]),Object(o.useEffect)((function(){O.a.post("/businessentities/list").then((function(e){var t=e.data;L(t.businessentities)})),O.a.post("/countries/list").then((function(e){var t=e.data;G(t.countries)})),O.a.post("/currencies/list").then((function(e){var t=e.data;Y(t.currencies)})),O.a.post("/gstregistrationtypes/list").then((function(e){var t=e.data;K(t.gstregistrationtypes)})),O.a.post("/states/list").then((function(e){var t=e.data;z(t.states)})),Ne()}),[]);var Be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(E.jsxs)(B.jb,{className:"mb-1",children:[Object(E.jsx)(B.O,{sm:"4",size:"lg",className:m()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(E.jsxs)(B.B,{sm:"8",children:[Object(E.jsx)(v.a,{id:t,name:t,control:be,render:function(e){var n=e.field;return Object(E.jsx)(B.L,Object(c.a)({invalid:me[t]&&!0},n))}}),me[t]&&Object(E.jsx)(B.I,{children:me[t].message})]})]})},_e=function(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(E.jsxs)(B.jb,{className:"mb-1",children:[Object(E.jsx)(B.O,{sm:"4",size:"lg",className:m()("form-label ".concat(s?"required":"")),for:t,children:e}),Object(E.jsxs)(B.B,{sm:"8",children:[Object(E.jsx)(v.a,{control:be,name:t,id:t,render:function(e){var i=e.field,s=e.ref;return Object(E.jsx)(p.a,Object(c.a)(Object(c.a)({inputRef:s,className:m()("react-select",{"is-invalid":me[t]})},i),{},{classNamePrefix:"select",isDisabled:"currency"===t,options:n,value:n.find((function(e){return e.id===i.value})),onChange:function(e){return i.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),me[t]&&Object(E.jsx)(B.I,{className:"text-danger",children:null===(i=me[t])||void 0===i?void 0:i.message})]})]})};return Object(E.jsxs)("form",{onSubmit:de(pe),children:[Object(E.jsxs)(B.l,{className:"invoice-preview-card",children:[Object(E.jsx)(B.p,{children:Object(E.jsx)(B.v,{children:" Edit Client"})}),Object(E.jsxs)(B.m,{className:"pb-0",children:[Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Contact Person Name","contactPersonName",!0)}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Business Name","name",!0)})]}),Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Mobile Number","contactnumber",!0)}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Email ID","email",!0)})]}),Object(E.jsx)(B.jb,{children:Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:_e("Business Entity","businessEntity",k,!0)})})]}),Object(E.jsx)("hr",{className:"invoice-spacing"}),me.contact_info&&Object(E.jsx)("p",{className:"text-danger ms-2",children:null===(e=me.contact_info)||void 0===e?void 0:e.message}),Object(E.jsxs)(B.m,{className:"invoice-padding invoice-product-details",children:[Oe.map((function(e,t){var n,i,s,a,r,l,o,d,u,b,m,j,f,O,x,p;return Object(E.jsx)("div",{className:"repeater-wrapper",children:Object(E.jsx)(B.jb,{children:Object(E.jsxs)(B.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(E.jsxs)(B.jb,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(E.jsxs)(B.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(E.jsx)(B.u,{className:"col-title mb-md-50 mb-0",children:"First Name"}),Object(E.jsx)(v.a,{control:be,id:"contact_info_name",name:"contact_info[".concat(t,"].name"),render:function(e){var n,i,s=e.field;return Object(E.jsx)(B.L,Object(c.a)({type:"text",onChange:function(e){s.onChange(e)},invalid:(null===(n=me.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&!0},s))}}),(null===(n=me.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&Object(E.jsx)(B.I,{children:null===(s=me.contact_info)||void 0===s||null===(a=s[t])||void 0===a?void 0:a.name.message})]}),Object(E.jsxs)(B.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(E.jsx)(B.u,{className:"col-title mb-md-2 mb-0 ",children:"Email"}),Object(E.jsx)(v.a,{control:be,id:"contact_info_email",name:"contact_info[".concat(t,"].email"),render:function(e){var n,i,s=e.field;return Object(E.jsx)(B.L,Object(c.a)({type:"email",onChange:function(e){s.onChange(e)},invalid:(null===(n=me.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.email)&&!0},s))}}),(null===(r=me.contact_info)||void 0===r||null===(l=r[t])||void 0===l?void 0:l.email)&&Object(E.jsx)(B.I,{children:null===(o=me.contact_info)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(E.jsxs)(B.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(E.jsx)(B.u,{className:"col-title mb-md-2 mb-0",children:"Mobile"}),Object(E.jsx)(v.a,{control:be,id:"contact_info_contactnumber",name:"contact_info[".concat(t,"].contactnumber"),render:function(e){var n,i,s=e.field;return Object(E.jsx)(B.L,Object(c.a)({type:"number",onChange:function(e){s.onChange(e)},invalid:(null===(n=me.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.contactnumber)&&!0},s))}}),(null===(u=me.contact_info)||void 0===u||null===(b=u[t])||void 0===b?void 0:b.contactnumber)&&Object(E.jsx)(B.I,{children:null===(m=me.contact_info)||void 0===m||null===(j=m[t])||void 0===j?void 0:j.contactnumber.message})]}),Object(E.jsxs)(B.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(E.jsx)(B.u,{className:"col-title mb-md-50 mb-0",children:"Designation"}),Object(E.jsx)(v.a,{control:be,id:"contact_info_designation",name:"contact_info[".concat(t,"].designation"),render:function(e){var n,i,s=e.field;return Object(E.jsx)(B.L,Object(c.a)({type:"text",invalid:(null===(n=me.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.designation)&&!0,onChange:function(e){s.onChange(e)}},s))}}),(null===(f=me.contact_info)||void 0===f||null===(O=f[t])||void 0===O?void 0:O.designation)&&Object(E.jsx)(B.I,{children:null===(x=me.contact_info)||void 0===x||null===(p=x[t])||void 0===p?void 0:p.designation.message})]}),Object(E.jsxs)(B.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(E.jsx)(B.u,{className:"col-title mb-md-50 mb-0",children:"Primary"}),Object(E.jsx)("div",{className:"form-switch form-check-primary",children:Object(E.jsx)(v.a,{control:be,id:"contact_info_primarystatus",name:"contact_info[".concat(t,"].primarystatus"),render:function(e){var t=e.field;return Object(E.jsx)(B.L,Object(c.a)(Object(c.a)({type:"switch",onChange:function(e){t.onChange(e)}},t),{},{defaultChecked:t.value}))}})})]})]}),Object(E.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(E.jsx)(h.a,{size:18,className:"cursor-pointer",onClick:function(){return ge(t)}})})]})})},e.rowid)})),Object(E.jsx)(B.jb,{className:"mt-1",children:Object(E.jsx)(B.B,{sm:"12",className:"px-0",children:Object(E.jsxs)(B.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){he({id:"",name:"",email:"",contactnumber:"",contactid:je,organizationid:A.id,designation:"",primarystatus:!1})},children:[Object(E.jsx)(x.a,{size:14,className:"me-25"})," ",Object(E.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(E.jsx)("hr",{className:"invoice-spacing"}),Object(E.jsxs)(B.m,{children:[Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:_e("GST Type","gstRegistrationType",H)}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:_e("Place of Supply","placeOfSupply",T)})]}),Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("GSTIN","gstin")}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:_e("Currency","currency",M)})]})]}),Object(E.jsxs)(B.m,{className:"",children:[Object(E.jsx)("h4",{className:"text-primary",children:"Billing Address"}),Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Address Line1","billingAddressLine1")}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Address Line2","billingAddressLine2")})]}),Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("City","billingAddressCity")}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:_e("State","billingAddressState",T)})]}),Object(E.jsxs)(B.jb,{children:[Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:_e("Country","billingAddressCountry",Z)}),Object(E.jsx)(B.B,{md:"6",className:"mb-1",children:Be("Zip Code","billingAddressZip")})]})]})]}),Object(E.jsx)(B.l,{children:Object(E.jsx)(B.m,{children:Object(E.jsxs)("div",{className:"modal-footer border-0",children:[Object(E.jsx)(B.i,{color:"warning",outline:!0,tag:u.b,to:"/client/list",children:"Cancel"}),Object(E.jsx)(B.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(E.jsx)("div",{className:"invoice-add-wrapper",children:Object(E.jsx)(B.jb,{className:"invoice-add",children:Object(E.jsx)(B.B,{xl:12,md:12,sm:12,children:Object(E.jsx)(k,{})})})})}},508:function(e,t,n){},513:function(e,t,n){},524:function(e,t,n){}}]);
//# sourceMappingURL=67.c467b536.chunk.js.map