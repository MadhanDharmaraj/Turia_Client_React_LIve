(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[66],{1665:function(e,t,c){"use strict";c.r(t);var r=c(15),a=c(5),n=c(16),i=c(2),s=c.n(i),d=c(493),o=c(9),l=c(131),j=c(132),b=c(490),u=c(515),m=c(516),O=c(147),x=c(10),f=c(4),h=c.n(f),p=c(90),g=(c(503),c(494),c(491),c(496),c(1)),v=c(11),N=function(){var e=Object(o.g)().id,t=Object(o.f)({}),c=Object(j.b)(),i=Object(g.useState)([]),f=Object(n.a)(i,2),N=f[0],y=f[1],C=Object(g.useState)([]),P=Object(n.a)(C,2),w=P[0],S=P[1],B=Object(g.useState)([]),I=Object(n.a)(B,2),q=I[0],z=I[1],k=u.e().shape({categoryId:u.g().required("Please select a Category"),name:u.g().required("Please Enter Service Name"),taxgroupid:u.g().required("Please Select Tax Rate"),sellingPrice:u.g().required("Please Enter Professional Fee"),sacCode:u.g().required("Please Enter SAC Code")}),E=Object(b.f)({resolver:Object(m.a)(k),defaultValues:{organizationId:1,categoryType:1,categoryId:"",name:"",sellingPrice:"",sacCode:"",taxgroupid:"",description:""}}),R=E.handleSubmit,T=E.control,A=E.reset,F=E.formState.errors,J=function(){var t=Object(a.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(Object(O.e)(e));case 2:r=t.sent,z(r.payload);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(g.useEffect)((function(){Object.keys(q).length>0&&A({categoryId:q.categoryid,name:q.name,organizationId:q.organizationid,sellingPrice:q.sellingprice,sacCode:q.saccode,taxgroupid:q.taxgroupid,description:q.description})}),[q]),Object(g.useEffect)((function(){x.a.post("/taxgroups/dropdown").then((function(e){var t=e.data;S(t.taxgroups)})),x.a.post("/categories/list").then((function(e){var t=e.data;y(t.categories)})),J()}),[]);var K=function(){var r=Object(a.a)(s.a.mark((function r(a){var n,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c(Object(O.f)({data:a,id:e}));case 2:n=r.sent,i=n.payload.services.id,t("/service/view/".concat(i));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),V=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(v.jsxs)(p.ib,{className:"mb-1",children:[Object(v.jsx)(p.N,{sm:"3",size:"lg",className:h()("form-label ".concat(c?"required":"")),for:t,children:e}),Object(v.jsxs)(p.B,{sm:"9",children:[Object(v.jsx)(b.a,{id:t,name:t,control:T,render:function(e){var c=e.field;return Object(v.jsx)(p.K,Object(r.a)({invalid:F[t]&&!0},c))}}),F[t]&&Object(v.jsx)(p.I,{children:F[t].message})]})]})},D=function(e,t,c){var a,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(v.jsxs)(p.ib,{className:"mb-1",children:[Object(v.jsx)(p.N,{sm:"3",size:"lg",className:h()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(v.jsxs)(p.B,{sm:"9",children:[Object(v.jsx)(b.a,{control:T,name:t,id:t,render:function(e){var a=e.field,n=e.ref;return Object(v.jsx)(d.a,Object(r.a)(Object(r.a)({inputRef:n,className:h()("react-select",{"is-invalid":F[t]})},a),{},{classNamePrefix:"select",options:c,value:c.find((function(e){return e.id===a.value})),onChange:function(e){return a.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),F[t]&&Object(v.jsx)(p.I,{className:"text-danger",children:null===(a=F[t])||void 0===a?void 0:a.message})]})]})};return Object(v.jsxs)("form",{onSubmit:R(K),children:[Object(v.jsx)(p.l,{className:"invoice-preview-card",children:Object(v.jsxs)(p.m,{className:"pb-0",children:[Object(v.jsx)(p.ib,{children:Object(v.jsx)(p.B,{md:"6",className:"mb-1",children:D("Category","categoryId",N,!0)})}),Object(v.jsx)(p.ib,{children:Object(v.jsx)(p.B,{md:"6",className:"mb-1",children:V("Name","name",!0)})}),Object(v.jsx)(p.ib,{children:Object(v.jsx)(p.B,{md:"6",className:"mb-1",children:V("SAC Code","sacCode",!0)})}),Object(v.jsx)(p.ib,{children:Object(v.jsx)(p.B,{md:"6",className:"mb-1",children:V("Professional Fee","sellingPrice",!0)})}),Object(v.jsx)(p.ib,{children:Object(v.jsx)(p.B,{md:"6",className:"mb-1",children:D("Tax Rate","taxgroupid",w,!0)})}),Object(v.jsx)(p.ib,{children:Object(v.jsx)(p.B,{md:"6",className:"mb-1",children:Object(v.jsxs)(p.ib,{className:"mb-1",children:[Object(v.jsx)(p.N,{sm:"3",size:"lg",className:"form-label required",for:"description",children:"Description"}),Object(v.jsxs)(p.B,{sm:"9",children:[Object(v.jsx)(b.a,{id:"description",name:"description",control:T,render:function(e){var t=e.field;return Object(v.jsx)(p.K,Object(r.a)({type:"textarea",invalid:F.description&&!0},t))}}),F.description&&Object(v.jsx)(p.I,{children:F.description.message})]})]})})})]})}),Object(v.jsx)(p.l,{children:Object(v.jsx)(p.m,{children:Object(v.jsxs)("div",{className:"modal-footer border-0",children:[Object(v.jsx)(p.i,{color:"warning",outline:!0,tag:l.b,to:"/service/list",children:"Cancel"}),Object(v.jsx)(p.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(v.jsx)("div",{className:"invoice-add-wrapper",children:Object(v.jsx)(p.ib,{className:"invoice-add",children:Object(v.jsx)(p.B,{xl:12,md:12,sm:12,children:Object(v.jsx)(N,{})})})})}},491:function(e,t,c){},496:function(e,t,c){},503:function(e,t,c){}}]);
//# sourceMappingURL=66.6c7713e2.chunk.js.map