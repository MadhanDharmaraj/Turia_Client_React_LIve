(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[63],{1662:function(e,t,c){"use strict";c.r(t);var n=c(15),i=c(134),a=c(5),s=c(16),l=c(2),r=c.n(l),o=c(1),d=c(9),m=c(131),j=c(4),b=c.n(j),u=c(132),O=c(144),f=c(10),h=c(806),x=c(813),p=c(493),v=c(490),g=c(515),N=c(516),y=c(90),_=(c(503),c(494),c(491),c(496),c(11)),B=function(){var e,t=/^[0-9\- ]{10,10}$/,c=Object(d.f)({}),l=Object(u.b)(),j=Object(o.useState)([]),B=Object(s.a)(j,2),S=B[0],E=B[1],P=Object(o.useState)([]),T=Object(s.a)(P,2),q=T[0],C=T[1],I=Object(o.useState)([]),w=Object(s.a)(I,2),k=w[0],A=w[1],K=Object(o.useState)([]),z=Object(s.a)(K,2),L=z[0],D=z[1],G=Object(o.useState)([]),Z=Object(s.a)(G,2),R=Z[0],J=Z[1],M=Object(o.useState)([]),U=Object(s.a)(M,2),V=U[0],$=U[1],F=Object(o.useState)(null),H=Object(s.a)(F,2),Q=H[0],W=H[1],X=g.e().shape({clientType:g.d(),uniqueIdentity:g.g().required("Please Enter Unique Identity"),contactPersonName:g.g().required("Please Enter a Contact Person Name"),name:g.g().when("clientType",{is:function(e){return 2===e},then:g.g().required("Please Enter Business Name.")}),contactNumber:g.g().required("Please Enter Conatct Number").matches(t,{message:"Phone number is not valid",excludeEmptyString:!0}),email:g.g().email("Please Enter valid Email").required("Please Enter valid Email"),businessEntity:g.g().when("clientType",{is:function(e){return 2===e},then:g.g().required("Please Select Business Enity.")}),gstRegistrationType:g.g().required("Please select a GST Type"),gstin:g.g().required("Please Enter GSTIN No"),placeOfSupply:g.g().required("Please select Place Of Supply"),currency:g.g(),billingAddressZip:g.g().matches(/^[0-9\- ]{6,6}$/,{message:"Zip Code is not valid",excludeEmptyString:!0}),contact_info:g.a().of(g.e().shape({name:g.g().required("Please Enter A Name"),email:g.g().email().required("Please Enter valid Email"),designation:g.g().required("Please Enter Designation"),contactNumber:g.g().required("Please Enter Conatct Number").matches(t,{message:"Phone number is not valid",excludeEmptyString:!0})})).min(1,"Please Enter atleast one contact Info")}),Y=Object(v.f)({resolver:Object(N.a)(X),defaultValues:X.cast()}),ee=Y.register,te=Y.handleSubmit,ce=Y.control,ne=Y.formState.errors,ie=Object(v.e)({name:"contact_info",control:ce}),ae=ie.fields,se=ie.append,le=function(){var e=Object(a.a)(r.a.mark((function e(t){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.contact_info,$((function(e){return[].concat(Object(i.a)(e),Object(i.a)(c))})),delete t.contact_info,e.next=5,l(Object(O.a)(t));case 5:n=e.sent,W(n.payload.client.id);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){se({organizationId:1,contactId:0,name:"",email:"",contactNumber:"",designation:"",primaryStatus:!0})},oe=function(e){e.preventDefault(),e.target.closest(".repeater-wrapper").remove()},de=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(_.jsxs)(y.ib,{className:"mb-1",children:[Object(_.jsx)(y.N,{sm:"3",size:"lg",className:b()("form-label ".concat(c?"required":"")),for:t,children:e}),Object(_.jsxs)(y.B,{sm:"9",children:[Object(_.jsx)(v.a,{id:t,name:t,control:ce,render:function(e){var c=e.field;return Object(_.jsx)(y.K,Object(n.a)({invalid:ne[t]&&!0},c))}}),ne[t]&&Object(_.jsx)(y.I,{children:ne[t].message})]})]})},me=function(e,t,c){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(_.jsxs)(y.ib,{className:"mb-1",children:[Object(_.jsx)(y.N,{sm:"3",size:"lg",className:b()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(_.jsxs)(y.B,{sm:"9",children:[Object(_.jsx)(v.a,{control:ce,name:t,id:t,render:function(e){var i=e.field,a=e.ref;return Object(_.jsx)(p.a,Object(n.a)(Object(n.a)({inputRef:a,className:b()("react-select",{"is-invalid":ne[t]})},i),{},{classNamePrefix:"select",options:c,value:c.find((function(e){return e.id===i.value})),onChange:function(e){return i.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),ne[t]&&Object(_.jsx)(y.I,{className:"text-danger",children:null===(i=ne[t])||void 0===i?void 0:i.message})]})]})};return Object(o.useEffect)((function(){f.a.post("/businessentities/list").then((function(e){var t=e.data;E(t.businessentities)})),f.a.post("/countries/list").then((function(e){var t=e.data;A(t.countries)})),f.a.post("/currencies/list").then((function(e){var t=e.data;D(t.currencies)})),f.a.post("/gstregistrationtypes/list").then((function(e){var t=e.data;J(t.gstregistrationtypes)})),f.a.post("/states/list").then((function(e){var t=e.data;C(t.states)})),re(),null!==Q&&function(e){if(V.length>0){V.forEach((function(t,c){V[c].contactId=e}));var t=V;l(Object(O.b)({rows:t})),c("/client/view/".concat(e))}}(Q)}),[V,Q]),Object(_.jsxs)("form",{onSubmit:te(le),children:[Object(_.jsxs)(y.l,{className:"invoice-preview-card",children:[Object(_.jsxs)(y.m,{className:"pb-0",children:[Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:Object(_.jsxs)(y.ib,{className:"mb-1",children:[Object(_.jsx)(y.N,{sm:"3",size:"lg",className:"form-label required",for:"contactPersonName",children:"Client Type"}),Object(_.jsxs)(y.B,{sm:"9",children:[Object(_.jsxs)("div",{className:"form-check form-check-primary form-check-inline",children:[Object(_.jsx)(v.a,{name:"clientType",id:"clientType_2",control:ce,render:function(e){var t=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({name:"clientType",id:"clientType_2",type:"radio"},t),{},{onChange:function(e){return e.target.value},value:1}))}}),Object(_.jsx)(y.N,{className:"form-check-label",for:"clientType_2",children:"Business"})]}),Object(_.jsxs)("div",{className:"form-check form-check-primary form-check-inline",children:[Object(_.jsx)(v.a,{name:"clientType",id:"clientType_1",control:ce,render:function(e){var t=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({name:"clientType",id:"clientType_1",type:"radio"},t),{},{onChange:function(e){return e.target.value},value:2}))}}),Object(_.jsx)(y.N,{className:"form-check-label",for:"clientType_1",children:"Individual"})]})]})]})}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Unique No","uniqueIdentity",!0)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Contact Person Name","contactPersonName",!0)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Business Name","name",!0)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Mobile Number","contactNumber")}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Email ID","email",!0)})]}),Object(_.jsx)(y.ib,{children:Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:me("Business Entity","businessEntity",S,!0)})})]}),Object(_.jsx)("hr",{className:"invoice-spacing"}),ne.contact_info&&Object(_.jsx)("p",{className:"text-danger ms-2",children:null===(e=ne.contact_info)||void 0===e?void 0:e.message}),Object(_.jsxs)(y.m,{className:"invoice-padding invoice-product-details",children:[ae.map((function(e,t){var c,i,a,s,l,r,o,d,m,j,b,u,O,f,x,p;return Object(_.jsx)("div",{className:"repeater-wrapper",children:Object(_.jsx)(y.ib,{children:Object(_.jsxs)(y.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(_.jsxs)(y.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(_.jsxs)(y.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"First Name"}),Object(_.jsx)(v.a,{control:ce,id:"contact_info_firstName",name:"contact_info.".concat(t,".name"),render:function(e){var c,i,a=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({type:"text"},ee("contact_info.".concat(t,".name"))),{},{invalid:(null===(c=ne.contact_info)||void 0===c||null===(i=c[t])||void 0===i?void 0:i.name)&&!0},a))}}),(null===(c=ne.contact_info)||void 0===c||null===(i=c[t])||void 0===i?void 0:i.name)&&Object(_.jsx)(y.I,{children:null===(a=ne.contact_info)||void 0===a||null===(s=a[t])||void 0===s?void 0:s.name.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-2 mb-0 ",children:"Email"}),Object(_.jsx)(v.a,{control:ce,id:"contact_info_email",name:"contact_info.".concat(t,".email"),render:function(e){var c,i,a=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({type:"email"},ee("contact_info.".concat(t,".email"))),{},{invalid:(null===(c=ne.contact_info)||void 0===c||null===(i=c[t])||void 0===i?void 0:i.email)&&!0},a))}}),(null===(l=ne.contact_info)||void 0===l||null===(r=l[t])||void 0===r?void 0:r.email)&&Object(_.jsx)(y.I,{children:null===(o=ne.contact_info)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-2 mb-0",children:"Mobile"}),Object(_.jsx)(v.a,{control:ce,id:"contact_info_contactNumber",name:"contact_info.".concat(t,".contactNumber"),render:function(e){var c,i,a=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({type:"number"},ee("contact_info.".concat(t,".contactNumber"))),{},{invalid:(null===(c=ne.contact_info)||void 0===c||null===(i=c[t])||void 0===i?void 0:i.contactNumber)&&!0},a))}}),(null===(m=ne.contact_info)||void 0===m||null===(j=m[t])||void 0===j?void 0:j.contactNumber)&&Object(_.jsx)(y.I,{children:null===(b=ne.contact_info)||void 0===b||null===(u=b[t])||void 0===u?void 0:u.contactNumber.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"Designation"}),Object(_.jsx)(v.a,{control:ce,id:"contact_info_designation",name:"contact_info.".concat(t,".designation"),render:function(e){var c,i,a=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({type:"text",invalid:(null===(c=ne.contact_info)||void 0===c||null===(i=c[t])||void 0===i?void 0:i.designation)&&!0},ee("contact_info.".concat(t,".designation"))),a))}}),(null===(O=ne.contact_info)||void 0===O||null===(f=O[t])||void 0===f?void 0:f.designation)&&Object(_.jsx)(y.I,{children:null===(x=ne.contact_info)||void 0===x||null===(p=x[t])||void 0===p?void 0:p.designation.message})]}),Object(_.jsxs)(y.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(_.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"Primary"}),Object(_.jsx)("div",{className:"form-switch form-check-primary",children:Object(_.jsx)(v.a,{control:ce,id:"contact_info_primaryStatus",name:"contact_info.".concat(t,".primaryStatus"),render:function(e){var c=e.field;return Object(_.jsx)(y.K,Object(n.a)(Object(n.a)({type:"switch"},ee("contact_info.".concat(t,".primaryStatus"))),c))}})})]})]}),Object(_.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(_.jsx)(h.a,{size:18,className:"cursor-pointer",onClick:oe})})]})})},t)})),Object(_.jsx)(y.ib,{className:"mt-1",children:Object(_.jsx)(y.B,{sm:"12",className:"px-0",children:Object(_.jsxs)(y.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return re()},children:[Object(_.jsx)(x.a,{size:14,className:"me-25"})," ",Object(_.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(_.jsx)("hr",{className:"invoice-spacing"}),Object(_.jsxs)(y.m,{children:[Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:me("GST Type","gstRegistrationType",R,!0)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:me("Place of Supply","placeOfSupply",q,!0)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("GSTIN","gstin",!0)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:me("Currency","currency",L,!0)})]})]}),Object(_.jsxs)(y.m,{className:"",children:[Object(_.jsx)("h4",{className:"text-primary",children:"Billing Address"}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Address Line1","billingAddressLine1")}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Address Line2","billingAddressLine2")})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("City","billingAddressCity")}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:me("State","billingAddressState",q)})]}),Object(_.jsxs)(y.ib,{children:[Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:me("Country","billingAddressCountry",k)}),Object(_.jsx)(y.B,{md:"6",className:"mb-1",children:de("Zip Code","billingAddressZip")})]})]})]}),Object(_.jsx)(y.l,{children:Object(_.jsx)(y.m,{children:Object(_.jsxs)("div",{className:"modal-footer border-0",children:[Object(_.jsx)(y.i,{color:"warning",outline:!0,tag:m.b,to:"/client/list",children:"Cancel"}),Object(_.jsx)(y.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(_.jsx)("div",{className:"invoice-add-wrapper",children:Object(_.jsx)(y.ib,{className:"invoice-add",children:Object(_.jsx)(y.B,{xl:12,md:12,sm:12,children:Object(_.jsx)(B,{})})})})}},491:function(e,t,c){},496:function(e,t,c){},503:function(e,t,c){}}]);
//# sourceMappingURL=63.9e2c99ae.chunk.js.map