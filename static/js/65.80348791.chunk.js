(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[65],{1470:function(e,t,c){"use strict";c.r(t);var s=c(14),a=c(1),n=c(4),i=c(22),l=c(2),r=c(13),o=c(139),d=c(7),j=c.n(d),u=c(5),m=c(545),b=c.n(m),v=c(719),O=c(831),f=c(536),x=c(148),p=c(533),h=c(539),g=c(540),w=c(96),N=(c(537),c(535),c(530),c(534),c(140)),y=c(10),I=c(526),D=c(527),C=c(16),k=Object(y.b)(),_=Object(y.d)(),B=function(){var e,t=Object(l.useState)(!1),c=Object(i.a)(t,2),d=c[0],m=c[1],y=function(){return Object(C.jsx)(l.Fragment,{children:Object(C.jsx)(D.a,{})})},B=Object(N.b)(),E=Object(N.c)((function(e){return e.digitalsignature})),P=Object(r.f)(),S=Object(l.useState)(null),F=Object(i.a)(S,2),z=F[0],q=F[1],K=h.d().shape({clientId:h.f().required("Please select a Client"),rows:h.a().of(h.d().shape({name:h.f().required("Please Enter Name"),createdBy:h.f().default(_),organizationId:h.f().default(k),email:h.f().email().required("Please Enter Email"),contact:h.f().matches(/^[0-9\- ]{10,10}$/,{message:"Phone number is not valid",excludeEmptyString:!0}),issuedDate:h.c().required("Please Enter Issued Date"),expiryDate:h.c().required("Please Enter Expiry Date"),password:h.f().min(5,"Password length should be 5 or above.")}))}),V=Object(p.f)({resolver:Object(g.a)(K),defaultValues:K.cast()}),L=V.handleSubmit,J=V.formState.errors,U=V.control,Y=Object(l.useState)([]),A=Object(i.a)(Y,2),M=A[0],R=A[1],$=Object(p.e)({name:"rows",keyName:"rowid",control:U}),G=$.fields,H=$.append,Q=$.remove,T=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,B(Object(x.b)(t));case 3:P("/digital-signature/list");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){H({clientId:"",name:"",email:"",contact:"",issuedDate:"",expiryDate:"",password:""}),U._formValues.rows.forEach((function(e,t){U._formValues.rows[t].clientId=z}))},X=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(t),Q(),e.next=4,B(Object(x.a)(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){E.DSCLists.forEach((function(e){var t={};t.name=e.name,t.createdBy=_,t.email=e.email,t.organizationId=k,t.clientId=z,t.contact=e.contact,t.issuedDate=e.issuedDate||null,t.expiryDate=e.expiryDate||null,t.password=""|e.password,H(t)}))}),[E.DSCLists]),Object(l.useEffect)((function(){u.a.post("/clients/dropdown",{status:1}).then((function(e){var t=e.data;R(t.clients)})),W()}),[]),Object(C.jsx)(I.a,{blocking:d,loader:Object(C.jsx)(y,{}),children:Object(C.jsxs)("form",{onSubmit:L(T),children:[Object(C.jsxs)(w.l,{className:"invoice-preview-card",children:[Object(C.jsx)(w.m,{className:"pb-0",children:Object(C.jsx)(w.ib,{children:Object(C.jsx)(w.B,{md:"6",className:"mb-1",children:Object(C.jsxs)(w.ib,{className:"mb-1",children:[Object(C.jsx)(w.N,{sm:"3",size:"lg",className:"form-label",for:"clientId",children:"Client"}),Object(C.jsxs)(w.B,{sm:"9",children:[Object(C.jsx)(p.a,{control:U,name:"clientId",id:"clientId",render:function(e){var t=e.field,c=e.ref;return Object(C.jsx)(f.a,Object(s.a)(Object(s.a)({},t),{},{inputRef:c,className:j()("react-select",{"is-invalid":J.clientId}),classNamePrefix:"select",options:M,value:M.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),X(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),J.clientId&&Object(C.jsx)(w.I,{className:"text-danger",children:null===(e=J.clientId)||void 0===e?void 0:e.message})]})]})})})}),Object(C.jsxs)(w.m,{className:"invoice-padding invoice-product-details",children:[G.map((function(e,t){var c,a,n,i,l,r,o,d,j,u,m,O,f,x,h,g,N,y,I,D,k,_,B,E;return Object(C.jsx)("div",{className:"repeater-wrapper",children:Object(C.jsx)(w.ib,{children:Object(C.jsxs)(w.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(C.jsxs)(w.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(C.jsxs)(w.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-2 col-sm-12",children:[Object(C.jsx)(w.u,{className:"col-title mb-md-50 mb-0",children:"Name"}),Object(C.jsx)(p.a,{control:U,id:"dsc_list_name",name:"rows[".concat(t,"].name"),render:function(e){var c,a,n=e.field;return Object(C.jsx)(w.K,Object(s.a)({type:"text",invalid:(null===(c=J.rows)||void 0===c||null===(a=c[t])||void 0===a?void 0:a.name)&&!0},n))}}),(null===(c=J.rows)||void 0===c||null===(a=c[t])||void 0===a?void 0:a.name)&&Object(C.jsx)(w.I,{children:null===(n=J.rows)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name.message})]}),Object(C.jsxs)(w.B,{className:"my-lg-0 my-2 col-lg-2 col-sm-12",children:[Object(C.jsx)(w.u,{className:"col-title mb-md-50 mb-0",children:"Email"}),Object(C.jsx)(p.a,{control:U,id:"dsc_list_email",name:"rows[".concat(t,"].email"),render:function(e){var c,a,n=e.field;return Object(C.jsx)(w.K,Object(s.a)({type:"email",invalid:(null===(c=J.rows)||void 0===c||null===(a=c[t])||void 0===a?void 0:a.email)&&!0},n))}}),(null===(l=J.rows)||void 0===l||null===(r=l[t])||void 0===r?void 0:r.email)&&Object(C.jsx)(w.I,{children:null===(o=J.rows)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(C.jsxs)(w.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(C.jsx)(w.u,{className:"col-title mb-md-50 mb-0",children:"Mobile"}),Object(C.jsx)(p.a,{control:U,id:"dsc_list_contactNumber",name:"rows[".concat(t,"].contact"),render:function(e){var c,a,n=e.field;return Object(C.jsx)(w.K,Object(s.a)({type:"number",invalid:(null===(c=J.rows)||void 0===c||null===(a=c[t])||void 0===a?void 0:a.contact)&&!0},n))}}),(null===(j=J.rows)||void 0===j||null===(u=j[t])||void 0===u?void 0:u.contact)&&Object(C.jsx)(w.I,{children:null===(m=J.rows)||void 0===m||null===(O=m[t])||void 0===O?void 0:O.contact.message})]}),Object(C.jsxs)(w.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(C.jsx)(w.u,{className:"col-title mb-md-50 mb-0",children:"Issued Date"}),Object(C.jsx)(p.a,{control:U,id:"dsc_list_issuedDate",name:"rows[".concat(t,"].issuedDate"),render:function(e){var t=e.field;return Object(C.jsx)(b.a,{value:t.value,onChange:function(e,c){t.onChange(c)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}}),(null===(f=J.rows)||void 0===f||null===(x=f[t])||void 0===x?void 0:x.issuedDate)&&Object(C.jsx)(w.I,{children:null===(h=J.rows)||void 0===h||null===(g=h[t])||void 0===g?void 0:g.issuedDate.message})]}),Object(C.jsxs)(w.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(C.jsx)(w.u,{className:"col-title mb-md-50 mb-0",children:"Expiry Date"}),Object(C.jsx)(p.a,{control:U,id:"dsc_list_expiryDate",name:"rows[".concat(t,"].expiryDate"),render:function(e){var t=e.field;return Object(C.jsx)(b.a,{value:t.value,onChange:function(e,c){t.onChange(c)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}}),(null===(N=J.rows)||void 0===N||null===(y=N[t])||void 0===y?void 0:y.expiryDate)&&Object(C.jsx)(w.I,{children:null===(I=J.rows)||void 0===I||null===(D=I[t])||void 0===D?void 0:D.expiryDate.message})]}),Object(C.jsxs)(w.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(C.jsx)(w.u,{className:"col-title mb-md-50 mb-0",children:"Password"}),Object(C.jsx)(p.a,{control:U,id:"dsc_list_password",name:"rows[".concat(t,"].password"),render:function(e){var c,a,n=e.field;return Object(C.jsx)(w.K,Object(s.a)({type:"text",invalid:(null===(c=J.rows)||void 0===c||null===(a=c[t])||void 0===a?void 0:a.password)&&!0},n))}}),(null===(k=J.rows)||void 0===k||null===(_=k[t])||void 0===_?void 0:_.password)&&Object(C.jsx)(w.I,{children:null===(B=J.rows)||void 0===B||null===(E=B[t])||void 0===E?void 0:E.password.message})]})]}),Object(C.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(C.jsx)(v.a,{size:18,className:"cursor-pointer",onClick:function(){Q(t)}})})]})})},e.rowid)})),Object(C.jsx)(w.ib,{className:"mt-1",children:Object(C.jsx)(w.B,{sm:"12",className:"px-0",children:Object(C.jsxs)(w.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return W()},children:[Object(C.jsx)(O.a,{size:14,className:"me-25"})," ",Object(C.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]})]}),Object(C.jsx)(w.l,{children:Object(C.jsx)(w.m,{children:Object(C.jsxs)("div",{className:"modal-footer border-0",children:[Object(C.jsx)(w.i,{color:"warning",outline:!0,tag:o.b,to:"/digital-signature/list",children:"Cancel"}),Object(C.jsx)(w.i,{color:"primary",type:"submit",children:"Save"})]})})})]})})};t.default=function(){return Object(C.jsx)("div",{className:"invoice-add-wrapper",children:Object(C.jsx)(w.ib,{className:"invoice-add",children:Object(C.jsx)(w.B,{xl:12,md:12,sm:12,children:Object(C.jsx)(B,{})})})})}},526:function(e,t,c){"use strict";var s=c(14),a=c(34),n=c(2),i=c(7),l=c.n(i),r=c(96),o=(c(529),c(16)),d=function(e){var t,c=e.children,i=e.blocking,r=e.loader,d=e.className,j=e.tag,u=e.overlayColor,m=j;return Object(o.jsxs)(m,{className:l()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",i),t)),children:[c,i?Object(o.jsxs)(n.Fragment,{children:[Object(o.jsx)("div",Object(s.a)({className:"overlay"},i&&u?{style:{backgroundColor:u}}:{})),Object(o.jsx)("div",{className:"loader",children:r})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(r.jb,{color:"primary"})}},527:function(e,t,c){"use strict";var s=c(16);t.a=function(){return Object(s.jsx)("div",{className:"fallback-spinner",children:Object(s.jsxs)("div",{className:"loading",children:[Object(s.jsx)("div",{className:"effect-1 effects"}),Object(s.jsx)("div",{className:"effect-2 effects"}),Object(s.jsx)("div",{className:"effect-3 effects"})]})})}},529:function(e,t,c){},530:function(e,t,c){},534:function(e,t,c){},537:function(e,t,c){}}]);
//# sourceMappingURL=65.80348791.chunk.js.map