(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[84],{1680:function(e,t,n){"use strict";n.r(t);var s=n(17),c=n(4),a=n(18),i=n(2),l=n.n(i),r=n(1),o=n(11),d=n(132),u=n(6),m=n.n(u),j=n(5),b=n(520),v=n.n(b),O=n(817),x=n(928),f=n(509),p=n(148),h=n(507),w=n(521),g=n(522),N=n(91),y=(n(523),n(510),n(508),n(512),n(133)),I=n(12),D=n(13),_=Object(I.b)(),B=Object(I.d)(),C=function(){var e,t=Object(y.b)(),n=Object(y.c)((function(e){return e.digitalsignature})),i=Object(o.f)(),u=Object(r.useState)(null),b=Object(a.a)(u,2),I=b[0],C=b[1],E=w.d().shape({clientId:w.f().required("Please select a Client"),rows:w.a().of(w.d().shape({name:w.f().required("Please Enter Name"),createdBy:w.f().default(B),organizationId:w.f().default(_),email:w.f().email().required("Please Enter Email"),contact:w.f().matches(/^[0-9\- ]{10,10}$/,{message:"Phone number is not valid",excludeEmptyString:!0}),issuedDate:w.c().required("Please Enter Issued Date"),expiryDate:w.c().required("Please Enter Expiry Date"),password:w.f().min(5,"Password length should be 5 or above.")}))}),k=Object(h.f)({resolver:Object(g.a)(E),defaultValues:E.cast()}),P=k.handleSubmit,S=k.formState.errors,L=k.control,z=Object(r.useState)([]),F=Object(a.a)(z,2),q=F[0],V=F[1],J=Object(h.e)({name:"rows",keyName:"rowid",control:L}),U=J.fields,Y=J.append,A=J.remove,M=function(){var e=Object(c.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,t(Object(p.b)(n));case 3:i("/digital-signature/list");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){Y({clientId:"",name:"",email:"",contact:"",issuedDate:"",expiryDate:"",password:""}),L._formValues.rows.forEach((function(e,t){L._formValues.rows[t].clientId=I})),console.log(L._formValues.rows)},$=function(){var e=Object(c.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(n),A(),e.next=4,t(Object(p.a)(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n.DSCLists.forEach((function(e){var t={};t.name=e.name,t.createdBy=B,t.email=e.email,t.organizationId=_,t.clientId=I,t.contact=e.contact,t.issuedDate=null|e.issuedDate,t.expiryDate=null|e.expiryDate,t.password=""|e.password,Y(t)}))}),[n.DSCLists]),Object(r.useEffect)((function(){j.a.post("/clients/dropdown").then((function(e){var t=e.data;V(t.clients)})),R()}),[]),Object(D.jsxs)("form",{onSubmit:P(M),children:[Object(D.jsxs)(N.l,{className:"invoice-preview-card",children:[Object(D.jsx)(N.m,{className:"pb-0",children:Object(D.jsx)(N.jb,{children:Object(D.jsx)(N.B,{md:"6",className:"mb-1",children:Object(D.jsxs)(N.jb,{className:"mb-1",children:[Object(D.jsx)(N.O,{sm:"3",size:"lg",className:"form-label",for:"clientId",children:"Client"}),Object(D.jsxs)(N.B,{sm:"9",children:[Object(D.jsx)(h.a,{control:L,name:"clientId",id:"clientId",render:function(e){var t=e.field,n=e.ref;return Object(D.jsx)(f.a,Object(s.a)(Object(s.a)({},t),{},{inputRef:n,className:m()("react-select",{"is-invalid":S.clientId}),classNamePrefix:"select",options:q,value:q.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),$(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),S.clientId&&Object(D.jsx)(N.I,{className:"text-danger",children:null===(e=S.clientId)||void 0===e?void 0:e.message})]})]})})})}),Object(D.jsxs)(N.m,{className:"invoice-padding invoice-product-details",children:[U.map((function(e,t){var n,c,a,i,l,r,o,d,u,m,j,b,x,f,p,w,g,y,I,_,B,C,E,k;return Object(D.jsx)("div",{className:"repeater-wrapper",children:Object(D.jsx)(N.jb,{children:Object(D.jsxs)(N.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(D.jsxs)(N.jb,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(D.jsxs)(N.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-2 col-sm-12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Name"}),Object(D.jsx)(h.a,{control:L,id:"dsc_list_name",name:"rows[".concat(t,"].name"),render:function(e){var n,c,a=e.field;return Object(D.jsx)(N.L,Object(s.a)({type:"text",invalid:(null===(n=S.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.name)&&!0},a))}}),(null===(n=S.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.name)&&Object(D.jsx)(N.I,{children:null===(a=S.rows)||void 0===a||null===(i=a[t])||void 0===i?void 0:i.name.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 my-2 col-lg-2 col-sm-12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Email"}),Object(D.jsx)(h.a,{control:L,id:"dsc_list_email",name:"rows[".concat(t,"].email"),render:function(e){var n,c,a=e.field;return Object(D.jsx)(N.L,Object(s.a)({type:"email",invalid:(null===(n=S.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.email)&&!0},a))}}),(null===(l=S.rows)||void 0===l||null===(r=l[t])||void 0===r?void 0:r.email)&&Object(D.jsx)(N.I,{children:null===(o=S.rows)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Mobile"}),Object(D.jsx)(h.a,{control:L,id:"dsc_list_contactNumber",name:"rows[".concat(t,"].contact"),render:function(e){var n,c,a=e.field;return Object(D.jsx)(N.L,Object(s.a)({type:"number",invalid:(null===(n=S.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.contact)&&!0},a))}}),(null===(u=S.rows)||void 0===u||null===(m=u[t])||void 0===m?void 0:m.contact)&&Object(D.jsx)(N.I,{children:null===(j=S.rows)||void 0===j||null===(b=j[t])||void 0===b?void 0:b.contact.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Issued Date"}),Object(D.jsx)(h.a,{control:L,id:"dsc_list_issuedDate",name:"rows[".concat(t,"].issuedDate"),render:function(e){var t=e.field;return Object(D.jsx)(v.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}}),(null===(x=S.rows)||void 0===x||null===(f=x[t])||void 0===f?void 0:f.issuedDate)&&Object(D.jsx)(N.I,{children:null===(p=S.rows)||void 0===p||null===(w=p[t])||void 0===w?void 0:w.issuedDate.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Expiry Date"}),Object(D.jsx)(h.a,{control:L,id:"dsc_list_expiryDate",name:"rows[".concat(t,"].expiryDate"),render:function(e){var t=e.field;return Object(D.jsx)(v.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}}),(null===(g=S.rows)||void 0===g||null===(y=g[t])||void 0===y?void 0:y.expiryDate)&&Object(D.jsx)(N.I,{children:null===(I=S.rows)||void 0===I||null===(_=I[t])||void 0===_?void 0:_.expiryDate.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Password"}),Object(D.jsx)(h.a,{control:L,id:"dsc_list_password",name:"rows[".concat(t,"].password"),render:function(e){var n,c,a=e.field;return Object(D.jsx)(N.L,Object(s.a)({type:"text",invalid:(null===(n=S.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.password)&&!0},a))}}),(null===(B=S.rows)||void 0===B||null===(C=B[t])||void 0===C?void 0:C.password)&&Object(D.jsx)(N.I,{children:null===(E=S.rows)||void 0===E||null===(k=E[t])||void 0===k?void 0:k.password.message})]})]}),Object(D.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(D.jsx)(O.a,{size:18,className:"cursor-pointer",onClick:function(){A(t)}})})]})})},e.rowid)})),Object(D.jsx)(N.jb,{className:"mt-1",children:Object(D.jsx)(N.B,{sm:"12",className:"px-0",children:Object(D.jsxs)(N.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return R()},children:[Object(D.jsx)(x.a,{size:14,className:"me-25"})," ",Object(D.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]})]}),Object(D.jsx)(N.l,{children:Object(D.jsx)(N.m,{children:Object(D.jsxs)("div",{className:"modal-footer border-0",children:[Object(D.jsx)(N.i,{color:"warning",outline:!0,tag:d.b,to:"/digital-signature/list",children:"Cancel"}),Object(D.jsx)(N.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(D.jsx)("div",{className:"invoice-add-wrapper",children:Object(D.jsx)(N.jb,{className:"invoice-add",children:Object(D.jsx)(N.B,{xl:12,md:12,sm:12,children:Object(D.jsx)(C,{})})})})}},508:function(e,t,n){},512:function(e,t,n){},523:function(e,t,n){}}]);
//# sourceMappingURL=84.5fd2e9d8.chunk.js.map