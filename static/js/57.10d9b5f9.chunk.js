(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[57],{1463:function(e,c,t){"use strict";t.r(c);var a=t(14),n=t(1),s=t(4),i=t(22),r=t(535),l=t(13),o=t(139),d=t(140),j=t(532),b=t(538),u=t(539),O=t(154),f=t(5),m=t(7),x=t.n(m),p=t(96),h=(t(536),t(534),t(529),t(533),t(2)),v=t(10),g=t(525),N=t(526),y=t(16),I=Object(v.b)(),w=Object(v.d)(),k=function(){var e=Object(l.g)().id,c=Object(h.useState)(!1),t=Object(i.a)(c,2),m=t[0],v=t[1],k=function(){return Object(y.jsx)(h.Fragment,{children:Object(y.jsx)(N.a,{})})},S=Object(l.f)({}),B=Object(d.b)(),C=Object(h.useState)([]),z=Object(i.a)(C,2),A=z[0],P=z[1],R=Object(h.useState)([]),E=Object(i.a)(R,2),T=E[0],G=E[1],q=Object(h.useState)([]),F=Object(i.a)(q,2),V=F[0],J=F[1],K=Object(h.useState)([]),D=Object(i.a)(K,2),L=D[0],$=D[1],H=Object(h.useState)(!0),M=Object(i.a)(H,2),Q=M[0],U=M[1],W=b.d().shape({updatedBy:b.f().default(w),id:b.f().default(e),categoryId:b.f().nullable(),categoryType:b.c().default(1),name:b.f().required("Please Enter Service Name"),organizationId:b.f().default(I),taxGroupId:b.f().nullable(),sellingPrice:b.f().nullable(),isTaxApplicable:b.b().default(!1),exemptionReasonId:b.f().nullable(),sacCode:b.f().nullable(),description:b.f().nullable()}),X=Object(j.f)({resolver:Object(u.a)(W),defaultValues:W.cast()}),Y=X.handleSubmit,Z=X.control,_=X.reset,ee=X.formState.errors,ce=X.setValue,te=function(){var c=Object(s.a)(Object(n.a)().mark((function c(){var t;return Object(n.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B(Object(O.h)(e));case 2:t=c.sent,J(t.payload);case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),ae=function(e){e.nontaxableflag?(U(!1),ce("isTaxApplicable",!1)):(U(!0),ce("isTaxApplicable",!0),ce("exemptionReasonId",null))};Object(h.useEffect)((function(){Object.keys(V).length>0&&(_({categoryId:V.categoryid,name:V.name,organizationId:V.organizationid,sellingPrice:V.sellingprice,sacCode:V.saccode,taxGroupId:V.taxgroupid,description:V.description,isTaxApplicable:V.istaxapplicable||!1,exemptionReasonId:V.exemptionreasonid}),U(V.istaxapplicable))}),[V]),Object(h.useEffect)((function(){f.a.post("/taxgroups/dropdown").then((function(e){var c=e.data;G(c.taxgroups)})),f.a.post("/categories/dropdown").then((function(e){var c=e.data;P(c.categories)})),f.a.post("/exemptionreasons/dropdown").then((function(e){var c=e.data;$(c.exemptionreasons)})),void 0!==e&&te()}),[]);var ne=function(){var e=Object(s.a)(Object(n.a)().mark((function e(c){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),!V.isdefault||null!==V.organizationid){e.next=5;break}f.a.post("/services/clone",c).then((function(e){t=e.data.service.id})).catch((function(e){console.log(e)})),e.next=7;break;case 5:return e.next=7,B(Object(O.k)(c));case 7:S("/services/view/".concat(t));case 8:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}(),se=function(e,c){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(y.jsxs)(p.ib,{className:"mb-1",children:[Object(y.jsx)(p.N,{sm:"3",size:"lg",className:x()("form-label ".concat(t?"required":"")),for:c,children:e}),Object(y.jsxs)(p.B,{sm:"9",children:[Object(y.jsx)(j.a,{id:c,name:c,control:Z,render:function(e){var t=e.field;return Object(y.jsx)(p.K,Object(a.a)({invalid:ee[c]&&!0},t))}}),ee[c]&&Object(y.jsx)(p.I,{children:ee[c].message})]})]})},ie=function(e,c,t){var n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(y.jsxs)(p.ib,{className:"mb-1",children:[Object(y.jsx)(p.N,{sm:"3",size:"lg",className:x()("form-label ".concat(s?"required":"")),for:c,children:e}),Object(y.jsxs)(p.B,{sm:"9",children:[Object(y.jsx)(j.a,{control:Z,name:c,id:c,render:function(e){var n=e.field,s=e.ref;return Object(y.jsx)(r.a,Object(a.a)(Object(a.a)({inputRef:s,className:x()("react-select",{"is-invalid":ee[c]})},n),{},{classNamePrefix:"select",options:t,value:t.find((function(e){return e.id===n.value})),onChange:function(e){n.onChange(e.id),"taxGroupId"===c&&ae(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),ee[c]&&Object(y.jsx)(p.I,{className:"text-danger",children:null===(n=ee[c])||void 0===n?void 0:n.message})]})]})};return Object(y.jsx)(g.a,{blocking:m,loader:Object(y.jsx)(k,{}),children:Object(y.jsxs)("form",{onSubmit:Y(ne),children:[Object(y.jsxs)(p.l,{className:"invoice-preview-card",children:[Object(y.jsxs)(p.p,{children:[Object(y.jsx)(p.v,{children:"Edit Service"}),function(){var e=Object.keys(ee),c=[];return Array.isArray(e)&&e.forEach((function(e){var t;c.push(Object(y.jsxs)(p.I,{children:["$",null===(t=ee[e])||void 0===t?void 0:t.message]},e))})),c}()]}),Object(y.jsxs)(p.m,{className:"pb-0",children:[Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:se("Service Name","name",!0)})}),Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:ie("Category","categoryId",A,!1)})}),Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:se("SAC Code","sacCode",!1)})}),Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:se("Professional Fee","sellingPrice",!1)})}),Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:ie("Tax Rate","taxGroupId",T,!1)})}),!Q&&Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:ie("Exemption Reason","exemptionReasonId",L,!1)})}),Object(y.jsx)(p.ib,{children:Object(y.jsx)(p.B,{md:"6",className:"mb-1",children:Object(y.jsxs)(p.ib,{className:"mb-1",children:[Object(y.jsx)(p.N,{sm:"3",size:"lg",className:"form-label",for:"description",children:"Description"}),Object(y.jsxs)(p.B,{sm:"9",children:[Object(y.jsx)(j.a,{id:"description",name:"description",control:Z,render:function(e){var c=e.field;return Object(y.jsx)(p.K,Object(a.a)({type:"textarea",invalid:ee.description&&!0},c))}}),ee.description&&Object(y.jsx)(p.I,{children:ee.description.message})]})]})})})]})]}),Object(y.jsx)(p.l,{children:Object(y.jsx)(p.m,{children:Object(y.jsxs)("div",{className:"modal-footer border-0",children:[Object(y.jsx)(p.i,{color:"warning",outline:!0,tag:o.b,to:"/services/view/".concat(e),children:"Cancel"}),Object(y.jsx)(p.i,{color:"primary",type:"submit",children:"Save"})]})})})]})})};c.default=function(){return Object(y.jsx)("div",{className:"invoice-add-wrapper",children:Object(y.jsx)(p.ib,{className:"invoice-add",children:Object(y.jsx)(p.B,{xl:12,md:12,sm:12,children:Object(y.jsx)(k,{})})})})}},525:function(e,c,t){"use strict";var a=t(14),n=t(34),s=t(2),i=t(7),r=t.n(i),l=t(96),o=(t(528),t(16)),d=function(e){var c,t=e.children,i=e.blocking,l=e.loader,d=e.className,j=e.tag,b=e.overlayColor,u=j;return Object(o.jsxs)(u,{className:r()("ui-loader",(c={},Object(n.a)(c,d,d),Object(n.a)(c,"show",i),c)),children:[t,i?Object(o.jsxs)(s.Fragment,{children:[Object(o.jsx)("div",Object(a.a)({className:"overlay"},i&&b?{style:{backgroundColor:b}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};c.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},526:function(e,c,t){"use strict";var a=t(16);c.a=function(){return Object(a.jsx)("div",{className:"fallback-spinner",children:Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("div",{className:"effect-1 effects"}),Object(a.jsx)("div",{className:"effect-2 effects"}),Object(a.jsx)("div",{className:"effect-3 effects"})]})})}},528:function(e,c,t){},529:function(e,c,t){},533:function(e,c,t){},536:function(e,c,t){}}]);
//# sourceMappingURL=57.10d9b5f9.chunk.js.map