(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[44],{1460:function(e,t,n){"use strict";n.r(t);var c=n(14),a=n(142),i=n(1),s=n(4),l=n(22),r=n(2),o=n(13),d=n(139),b=n(7),j=n.n(b),m=n(140),u=n(157),f=n(5),O=n(719),x=n(831),h=n(536),v=n(533),g=n(539),p=n(540),N=n(10),y=n(96),_=n(526),B=n(527),C=(n(537),n(535),n(530),n(534),n(16)),S=Object(N.a)(),E=Object(N.d)(),k=function(){var e,t=Object(r.useState)(!1),n=Object(l.a)(t,2),b=n[0],N=n[1],k=function(){return Object(C.jsx)(r.Fragment,{children:Object(C.jsx)(B.a,{})})},w=/^[0-9\- ]{10,10}$/,A=Object(o.f)({}),P=Object(m.b)(),I=Object(r.useState)([]),q=Object(l.a)(I,2),z=q[0],L=q[1],K=Object(r.useState)([]),T=Object(l.a)(K,2),Z=T[0],D=T[1],F=Object(r.useState)([]),R=Object(l.a)(F,2),V=R[0],G=R[1],J=Object(r.useState)([]),M=Object(l.a)(J,2),$=M[0],H=M[1],Q=Object(r.useState)([]),U=Object(l.a)(Q,2),W=U[0],X=U[1],Y=Object(r.useState)([]),ee=Object(l.a)(Y,2),te=ee[0],ne=ee[1],ce=Object(r.useState)(null),ae=Object(l.a)(ce,2),ie=ae[0],se=ae[1],le=Object(m.c)((function(e){return e.client})),re=g.d().shape({createdBy:g.f().default(E),organization:g.f().default(S.id),contactPersonName:g.f().required("Please Enter a Contact Person Name"),name:g.f().required("Please Enter Business Name.").default(""),contactNumber:g.f().required("Please Enter Contact Number").matches(w,{message:"Phone number is not valid",excludeEmptyString:!0}),email:g.f().email("Please Enter valid Email").required("Please Enter valid Email"),businessEntity:g.f().required("Please Select Business Enity."),gstRegistrationType:g.f().nullable(),gstin:g.f().nullable(),placeOfSupply:g.f().default(S.stateid),currency:g.f().default(S.currencyid),billingAddressLine1:g.f().nullable(),billingAddressLine2:g.f().nullable(),billingAddressCity:g.f().nullable(),billingAddressState:g.f().default(S.stateid),billingAddressCountry:g.f().default(S.countryid),billingAddressZip:g.f().matches(/^[0-9\- ]{6,6}$/,{message:"Zip Code is not valid",excludeEmptyString:!0}).nullable(""),contact_info:g.a().of(g.d().shape({createdBy:g.f().default(E),name:g.f().nullable(),email:g.f().email().nullable(),designation:g.f().nullable(),contactNumber:g.f().nullable().matches(w,{message:"Phone number is not valid",excludeEmptyString:!0})}))}),oe=Object(v.f)({resolver:Object(p.a)(re),defaultValues:re.cast()}),de=oe.handleSubmit,be=oe.control,je=oe.formState.errors,me=oe.setError,ue=Object(v.e)({name:"contact_info",control:be}),fe=ue.fields,Oe=ue.append,xe=ue.remove,he=function(){var e=Object(s.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(te.length>0)){e.next=7;break}return e.next=3,te.forEach((function(e,n){te[n].contactId=t,""===e.name&&""===e.email&&te.splice(n,1)}));case 3:if(!((n=te).length>0)){e.next=7;break}return e.next=7,P(Object(u.b)({rows:n}));case 7:A("/clients/view/".concat(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){null!==le.clientErrors&&(N(!1),Object.keys(le.clientErrors).map((function(e){me(e,{type:"custom",message:le.clientErrors[e][0]})})))}),[le.clientErrors]);var ve=function(){var e=Object(s.a)(Object(i.a)().mark((function e(t){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),n=t.contact_info||[],ne((function(e){return[].concat(Object(a.a)(e),Object(a.a)(n))})),delete t.contact_info,e.next=6,P(Object(u.a)(t));case 6:if(void 0!==(c=e.sent).payload.client){e.next=11;break}return e.abrupt("return",!1);case 11:se(c.payload.client.id);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=!0;be._formValues.contact_info.length>0&&(e=!1),Oe({createdBy:E,organizationId:S.id,contactId:0,name:"",email:"",contactNumber:"",designation:"",primaryStatus:e})},pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(C.jsxs)(y.ib,{className:"mb-1",children:[Object(C.jsx)(y.N,{sm:"4",size:"lg",className:j()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(C.jsxs)(y.B,{sm:"8",children:[Object(C.jsx)(v.a,{id:t,name:t,control:be,render:function(e){var n=e.field;return Object(C.jsx)(y.K,Object(c.a)({invalid:je[t]&&!0},n))}}),je[t]&&Object(C.jsx)(y.I,{children:je[t].message})]})]})},Ne=function(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(C.jsxs)(y.ib,{className:"mb-1",children:[Object(C.jsx)(y.N,{sm:"4",size:"lg",className:j()("form-label ".concat(i?"required":"")),for:t,children:e}),Object(C.jsxs)(y.B,{sm:"8",children:[Object(C.jsx)(v.a,{control:be,name:t,id:t,render:function(e){var a=e.field,i=e.ref;return Object(C.jsx)(h.a,Object(c.a)(Object(c.a)({inputRef:i,className:j()("react-select",{"is-invalid":je[t]})},a),{},{isDisabled:"currency"===t,classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===a.value})),onChange:function(e){return a.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),je[t]&&Object(C.jsx)(y.I,{className:"text-danger",children:null===(a=je[t])||void 0===a?void 0:a.message})]})]})};return Object(r.useEffect)((function(){null===ie&&(f.a.post("/businessentities/list").then((function(e){var t=e.data;L(t.businessentities)})),f.a.post("/countries/list").then((function(e){var t=e.data;G(t.countries)})),f.a.post("/currencies/list").then((function(e){var t=e.data;H(t.currencies)})),f.a.post("/gstregistrationtypes/list").then((function(e){var t=e.data;X(t.gstregistrationtypes)})),f.a.post("/states/list").then((function(e){var t=e.data;D(t.states)})),ge()),null!==ie&&he(ie)}),[te,ie]),Object(C.jsx)(_.a,{blocking:b,loader:Object(C.jsx)(k,{}),children:Object(C.jsxs)("form",{onSubmit:de(ve),children:[Object(C.jsxs)(y.l,{className:"invoice-preview-card",children:[Object(C.jsx)(y.p,{children:Object(C.jsx)(y.v,{children:" Add Client"})}),Object(C.jsxs)(y.m,{className:"pb-0",children:[Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Business Name","name",!0)}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Contact Person Name","contactPersonName",!0)})]}),Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Mobile Number","contactNumber",!0)}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Email ID","email",!0)})]}),Object(C.jsx)(y.ib,{children:Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Business Entity","businessEntity",z,!0)})})]}),Object(C.jsx)("hr",{className:"invoice-spacing"}),je.contact_info&&Object(C.jsx)("p",{className:"text-danger ms-2",children:null===(e=je.contact_info)||void 0===e?void 0:e.message}),Object(C.jsxs)(y.m,{className:"invoice-padding invoice-product-details",children:[fe.map((function(e,t){var n,a,i,s,l,r,o,d,b,j,m,u,f,x,h,g;return Object(C.jsx)("div",{className:"repeater-wrapper",children:Object(C.jsx)(y.ib,{children:Object(C.jsxs)(y.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(C.jsxs)(y.ib,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(C.jsxs)(y.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(C.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"First Name"}),Object(C.jsx)(v.a,{control:be,id:"contact_info_firstName",name:"contact_info[".concat(t,"].name"),render:function(e){var n,a,i=e.field;return Object(C.jsx)(y.K,Object(c.a)({type:"text",onChange:function(e){i.onChange(e)},invalid:(null===(n=je.contact_info)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.name)&&!0},i))}}),(null===(n=je.contact_info)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.name)&&Object(C.jsx)(y.I,{children:null===(i=je.contact_info)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.name.message})]}),Object(C.jsxs)(y.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(C.jsx)(y.u,{className:"col-title mb-md-2 mb-0 ",children:"Email"}),Object(C.jsx)(v.a,{control:be,id:"contact_info_email",name:"contact_info[".concat(t,"].email"),render:function(e){var n,a,i=e.field;return Object(C.jsx)(y.K,Object(c.a)({type:"email",onChange:function(e){i.onChange(e)},invalid:(null===(n=je.contact_info)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.email)&&!0},i))}}),(null===(l=je.contact_info)||void 0===l||null===(r=l[t])||void 0===r?void 0:r.email)&&Object(C.jsx)(y.I,{children:null===(o=je.contact_info)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(C.jsxs)(y.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(C.jsx)(y.u,{className:"col-title mb-md-2 mb-0",children:"Mobile"}),Object(C.jsx)(v.a,{control:be,id:"contact_info_contactNumber",name:"contact_info[".concat(t,"].contactNumber"),render:function(e){var n,a,i=e.field;return Object(C.jsx)(y.K,Object(c.a)({type:"number",onChange:function(e){i.onChange(e)},invalid:(null===(n=je.contact_info)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.contactNumber)&&!0},i))}}),(null===(b=je.contact_info)||void 0===b||null===(j=b[t])||void 0===j?void 0:j.contactNumber)&&Object(C.jsx)(y.I,{children:null===(m=je.contact_info)||void 0===m||null===(u=m[t])||void 0===u?void 0:u.contactNumber.message})]}),Object(C.jsxs)(y.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(C.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"Designation"}),Object(C.jsx)(v.a,{control:be,id:"contact_info_designation",name:"contact_info[".concat(t,"].designation"),render:function(e){var n,a,i=e.field;return Object(C.jsx)(y.K,Object(c.a)({type:"text",onChange:function(e){i.onChange(e)},invalid:(null===(n=je.contact_info)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.designation)&&!0},i))}}),(null===(f=je.contact_info)||void 0===f||null===(x=f[t])||void 0===x?void 0:x.designation)&&Object(C.jsx)(y.I,{children:null===(h=je.contact_info)||void 0===h||null===(g=h[t])||void 0===g?void 0:g.designation.message})]}),Object(C.jsxs)(y.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(C.jsx)(y.u,{className:"col-title mb-md-50 mb-0",children:"Primary"}),Object(C.jsx)("div",{className:"form-switch form-check-primary",children:Object(C.jsx)(v.a,{control:be,id:"contact_info_primaryStatus",name:"contact_info[".concat(t,"].primaryStatus"),render:function(e){var t=e.field;return Object(C.jsx)(y.K,Object(c.a)(Object(c.a)({type:"switch",onChange:function(e){t.onChange(e)}},t),{},{defaultChecked:t.value}))}})})]})]}),Object(C.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(C.jsx)(O.a,{size:18,className:"cursor-pointer",onClick:function(){xe(t)}})})]})})},e.id)})),Object(C.jsx)(y.ib,{className:"mt-1",children:Object(C.jsx)(y.B,{sm:"12",className:"px-0",children:Object(C.jsxs)(y.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return ge()},children:[Object(C.jsx)(x.a,{size:14,className:"me-25"})," ",Object(C.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(C.jsx)("hr",{className:"invoice-spacing"}),Object(C.jsxs)(y.m,{children:[Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("GST Type","gstRegistrationType",W)}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Place of Supply","placeOfSupply",Z)})]}),Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("GSTIN","gstin")}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Currency","currency",$,!1)})]})]}),Object(C.jsxs)(y.m,{className:"",children:[Object(C.jsx)("h4",{className:"text-primary",children:"Billing Address"}),Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Address Line1","billingAddressLine1")}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Address Line2","billingAddressLine2")})]}),Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("City","billingAddressCity")}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("State","billingAddressState",Z)})]}),Object(C.jsxs)(y.ib,{children:[Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:Ne("Country","billingAddressCountry",V)}),Object(C.jsx)(y.B,{md:"6",className:"mb-1",children:pe("Zip Code","billingAddressZip")})]})]})]}),Object(C.jsx)(y.l,{children:Object(C.jsx)(y.m,{children:Object(C.jsxs)("div",{className:"modal-footer border-0",children:[Object(C.jsx)(y.i,{color:"warning",outline:!0,tag:d.b,to:"/clients/list",children:"Cancel"}),Object(C.jsx)(y.i,{color:"primary",type:"submit",children:"Save"})]})})})]})})};t.default=function(){return Object(C.jsx)("div",{className:"invoice-add-wrapper",children:Object(C.jsx)(y.ib,{className:"invoice-add",children:Object(C.jsx)(y.B,{xl:12,md:12,sm:12,children:Object(C.jsx)(k,{})})})})}},526:function(e,t,n){"use strict";var c=n(14),a=n(34),i=n(2),s=n(7),l=n.n(s),r=n(96),o=(n(529),n(16)),d=function(e){var t,n=e.children,s=e.blocking,r=e.loader,d=e.className,b=e.tag,j=e.overlayColor,m=b;return Object(o.jsxs)(m,{className:l()("ui-loader",(t={},Object(a.a)(t,d,d),Object(a.a)(t,"show",s),t)),children:[n,s?Object(o.jsxs)(i.Fragment,{children:[Object(o.jsx)("div",Object(c.a)({className:"overlay"},s&&j?{style:{backgroundColor:j}}:{})),Object(o.jsx)("div",{className:"loader",children:r})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(r.jb,{color:"primary"})}},527:function(e,t,n){"use strict";var c=n(16);t.a=function(){return Object(c.jsx)("div",{className:"fallback-spinner",children:Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("div",{className:"effect-1 effects"}),Object(c.jsx)("div",{className:"effect-2 effects"}),Object(c.jsx)("div",{className:"effect-3 effects"})]})})}},529:function(e,t,n){},530:function(e,t,n){},534:function(e,t,n){},537:function(e,t,n){}}]);
//# sourceMappingURL=44.fb22750b.chunk.js.map