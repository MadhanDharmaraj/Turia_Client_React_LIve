{"version":3,"sources":["views/apps/proposal/preview/PreviewCard.js","views/apps/proposal/preview/PreviewActions.js","views/apps/proposal/preview/index.js","@core/components/ui-loader/index.js","@core/components/spinner/Loading-spinner.js","@core/components/sidebar/index.js","views/apps/proposal/helper/hepler.js","../node_modules/react-select/dist/useCreatable-00a6568c.esm.js","../node_modules/react-select/creatable/dist/react-select.esm.js","views/apps/proposal/shared-sidebar/SidebarSendInvoice.js"],"names":["activeOrg","activeOrganization","PreviewCard","amount","data","id","useParams","dispatch","useDispatch","useState","invoiceItems","setInvoiceItems","invoiceTaxes","setInvoiceTaxes","dateFormat","value","length","moment","format","unix","a","b","inWords","num","undefined","toString","n","substr","match","str","Number","isNaN","replace","txt","charAt","toUpperCase","toLowerCase","useEffect","parser","calculatetaxes","getInvoiceItems","res","payload","className","color","imageid","name","Math","floor","random","content","renderOrg","height","width","src","alt","addressline1","addressline2","city","pinzipcode","statename","gstin","uniqueno","invoicedate","paymentdue","md","contactname","billingaddressline1","billingaddressline2","billingaddresscity","billingaddresszipcode","billingaddressstate","dueamount","bankaccountbankname","bankaccountholdername","bankaccountbranchname","bankaccountifsccode","xl","placeofsupplyname","billingcurrencyshortname","isrcmapplicable","responsive","map","item","ind","servicesName","description","sacCode","price","taxes","obj","k","taxName","tax_name","taxAmount","tax_amount_calculated","isTaxApplicable","taxGroupName","exemptionReasonName","subTotalAmount","order","lg","totalamount","split","subtotalamount","key","tax_percentage","tax_amount","sm","note","PreviewActions","setSendSidebarOpen","setMarkAsInvoice","invoice","participants","setParticipants","axios","post","invoiceId","then","taskinvoiceparticipants","catch","err","console","log","Can","I","block","onClick","outline","downloadLink","document","createElement","fileName","href","pdf","download","click","removeChild","window","print","tag","Link","to","user","taskid","uniqueidentity","MySwal","withReactContent","Swal","InvoicePreview","navigate","useNavigate","sendSidebarOpen","active","setActive","store","useSelector","state","proposal","getInvoiceLoc","getInvoice","selectedInvoice","pills","tab","activeTab","tabId","fire","title","text","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","result","markAsInvoice","toggleSidebar","open","UILoader","props","children","blocking","loader","overlayColor","Tag","classnames","style","backgroundColor","defaultProps","ComponentSpinner","Sidebar","size","closeBtn","bodyClassName","contentClassName","wrapperClassName","headerClassName","rest","renderCloseBtn","isOpen","toggle","modalClassName","String","close","options","wheelPropagation","calculateTax","taxRateInPercentage","TaxType","calculatedTax","parseFloat","JSON","parse","_excluded","compareOption","option","arguments","accessors","candidate","optionValue","getOptionValue","optionLabel","getOptionLabel","builtins","formatCreateLabel","inputValue","concat","isValidNewOption","selectValue","selectOptions","some","getNewOptionData","label","__isNew__","CreatableSelect","React","forwardRef","ref","selectProps","_ref","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","propsOptions","propsOnChange","onChange","restSelectProps","_objectWithoutProperties","_restSelectProps$getO","getOptionValue$1","_restSelectProps$getO2","getOptionLabel$1","isLoading","isMulti","newOption","useMemo","cleanValue","_toConsumableArray","useCallback","newValue","actionMeta","action","valueArray","Array","isArray","newOptionData","newActionMeta","valueTernary","_objectSpread2","useCreatable","useStateManager","Select","_extends","userData","loggedInUser","SidebarSendInvoice","colourStyles","multiValue","styles","setBlock","Loader","thankyouNote","setThankyouNote","userOptions","setUserOptions","clientOptions","setClientOptions","toEmail","setToEmail","ccEmail","setCCEmail","getCoatctInfo","contactid","contactinformations","getThankyouNotes","slug","test","emailtemplates","taskinvoiceitemsservicename","contactperson","replaceAll","clientid","Object","keys","organizationusers","for","classNamePrefix","e","i","email","contentEditable","dangerouslySetInnerHTML","__html","subject","taskinvoiceId","toast","success","position","sendMail"],"mappings":"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","file":"static/js/61.0cd40767.chunk.js","sourcesContent":["// ** Reactstrap Imports\nimport moment from 'moment'\nimport { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { Card, CardBody, CardText, Row, Col, Table, Badge } from 'reactstrap'\nimport { getInvoiceItems } from '../store'\nimport { activeOrganization } from '@src/helper/sassHelper'\nconst activeOrg = activeOrganization()\nimport { parser } from '../helper/hepler'\n\n// ** Custom Components\nimport Avatar from '@components/avatar'\n\nconst PreviewCard = ({ data }) => {\n\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const [invoiceItems, setInvoiceItems] = useState([])\n  const [invoiceTaxes, setInvoiceTaxes] = useState([])\n\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n  }\n  const a = ['', 'one ', 'two ', 'three ', 'four ', 'five ', 'six ', 'seven ', 'eight ', 'nine ', 'ten ', 'eleven ', 'twelve ', 'thirteen ', 'fourteen ', 'fifteen ', 'sixteen ', 'seventeen ', 'eighteen ', 'nineteen ']\n  const b = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n\n  const inWords = (num) => {\n    if (num === undefined) {\n      return 'zero'\n    }\n\n    if ((num === num.toString()).length > 9) {\n      return 'overflow'\n    }\n    const n = (`000000000${num}`).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/)\n    if (!n) {\n      return\n    }\n    let str = ''\n    n[1] = Number(n[1])\n    str += (Number(n[1]) !== 0) ? (`${a[Number(n[1])] || b[n[1][0]]} ${isNaN(Number(n[1][1])) ? '' : a[n[1][1]]} crore `) : ''\n    n[2] = Number(n[2])\n    str += (Number(n[2]) !== 0) ? (`${a[Number(n[2])] || b[n[2][0]]} ${isNaN(Number(n[2][1])) ? '' : a[n[2][1]]}lakh `) : ''\n    n[3] = Number(n[3])\n    str += (Number(n[3]) !== 0) ? (`${a[Number(n[3])] || b[n[3][0]]} ${isNaN(Number(n[3][1])) ? '' : a[n[3][1]]}thousand `) : ''\n    n[4] = Number(n[4])\n    str += (Number(n[4]) !== 0) ? (`${a[Number(n[4])] || b[n[4][0]]} hundred `) : ''\n    n[5] = Number(n[5])\n    str += (Number(n[5]) !== 0) ? (`${str !== '' ? 'and ' : ''}${a[Number(n[5])] || b[n[5][0]]}`) : 'Zero'\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n    })\n\n  }\n  const amountInwords = (amount) => {\n    const str = `${inWords(amount.split(\".\")[0])} and Paise ${inWords(amount.split(\".\")[1])} Only`\n    return str\n  }\n\n  const renderOrg = name => {\n    const stateNum = Math.floor(Math.random() * 6),\n      states = ['light-success', 'light-danger', 'light-warning', 'light-info', 'light-primary', 'light-secondary'],\n      color = states[stateNum]\n    return <Avatar color={color} className='me-50' content={name !== null ? name.charAt(0) : ''} />\n\n  }\n\n  useEffect(async () => {\n\n    setInvoiceTaxes(parser(data.calculatetaxes))\n\n    const res = await dispatch(getInvoiceItems(id))\n    setInvoiceItems(res.payload)\n  }, [data])\n\n  return data !== null ? (\n    <Card className='invoice-preview-card'>\n      <Col><Badge color='light-primary'> <span className='text-md'>Draft</span></Badge></Col>\n      <div className='invoice-container'>\n        <CardBody className='invoice-padding pb-0'>\n          {/* Header */}\n          <div className='d-flex align-items-center justify-content-between'>\n            {activeOrg.imageid === null ? renderOrg(activeOrg.name) : <img className='rounded me-50' height={75} width={75} src={`https://drive.google.com/uc?id=${activeOrg.imageid}`} alt=\"Organisation Logo\" />}\n            <h3 className='text-primary'>Proposal</h3>\n            <h5>Original for recepient</h5>\n          </div>\n          <div className='d-flex align-items-center justify-content-between'>\n            <div>\n              <div className='logo-wrapper'>\n                <h4 className='text-primary ms-0 mt-2'>{activeOrg.name}</h4>\n              </div>\n              <CardText className='mb-25'>{activeOrg.addressline1}</CardText>\n              <CardText className='mb-25'>{activeOrg.addressline2}</CardText>\n              <CardText className='mb-0'>{activeOrg.city} - {activeOrg.pinzipcode}</CardText>\n              <CardText className='mb-0'>{activeOrg.statename}</CardText>\n              <CardText className='mb-0'>GSTIN - {activeOrg.gstin} &nbsp;&nbsp; State Code : {activeOrg.gstin.substr(0, 2)}</CardText>\n            </div>\n\n            <div className='mt-3'>\n              <div className='invoice-date-wrapper'>\n                <h4 className=''>\n                  Proposal <span className='invoice-number'>{data.uniqueno}</span>\n                </h4>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Date Issued:</p>\n                <p className='invoice-date'>{dateFormat(data.invoicedate)}</p>\n              </div>\n              <div className='invoice-date-wrapper'>\n                <p className='invoice-date-title'>Due Date:</p>\n                <p className='invoice-date'>{dateFormat(data.paymentdue)}</p>\n              </div>\n            </div>\n          </div>\n          {/* /Header */}\n        </CardBody>\n\n        {/* Address and Contact */}\n        <CardBody className='invoice-padding pt-0'>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' md='8'>\n              <h6 className='mb-2'>Invoice To:</h6>\n              <h6 className='mb-25'>{data.contactname}</h6>\n              <CardText className='mb-25'>{data.billingaddressline1}</CardText>\n              <CardText className='mb-25'>{data.billingaddressline2}</CardText>\n              <CardText className='mb-25'>{data.billingaddresscity} - {data.billingaddresszipcode}</CardText>\n              <CardText className='mb-25'>{data.billingaddressstate}</CardText>\n              <CardText className='mb-25'>GSTIN - {data.gstin}</CardText>\n            </Col>\n            <Col className='p-0' md='4'>\n              <h6 className='mb-2'>Payment Details:</h6>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Total Due:</td>\n                    <td>\n                      <span className='fw-bold'>{data.dueamount}</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Bank name:</td>\n                    <td>{data.bankaccountbankname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Account Name:</td>\n                    <td>{data.bankaccountholdername}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>Branch Name:</td>\n                    <td>{data.bankaccountbranchname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>IFSC code:</td>\n                    <td>{data.bankaccountifsccode}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n          <div className='d-flex align-items-center justify-content-between mt-1'>\n            <Col className='p-0' xl='8'>\n              <CardText className='mb-25'>Place Of Supply: {data.placeofsupplyname}</CardText>\n              <CardText className='mb-25'>State: {data.placeofsupplyname} &nbsp;&nbsp;State Code:  </CardText>\n            </Col>\n            <Col className='p-0 mt-xl-0 mt-2' xl='4'>\n              <table>\n                <tbody>\n                  <tr>\n                    <td className='pe-1'>Currency code: </td>\n                    <td>{data.billingcurrencyshortname}</td>\n                  </tr>\n                  <tr>\n                    <td className='pe-1'>RCM Applicable:</td>\n                    <td>{data.isrcmapplicable ? 'Yes' : 'No'}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </Col>\n          </div>\n        </CardBody>\n        {/* /Address and Contact */}\n\n        {/* Invoice Description */}\n        <Table responsive>\n          <thead>\n            <tr>\n              <th className='py-1'>Item</th>\n              <th className='py-1'>SAC Code</th>\n              <th className='py-1'>Price</th>\n              <th className='py-1'>Tax</th>\n              <th className='py-1'>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {invoiceItems.map((item, ind) => {\n              return (\n                <tr key={ind}>\n                  <td className='py-1'>\n                    <p className='card-text fw-bold mb-25'>{item.servicesName}</p>\n                    <p className='card-text text-nowrap'>\n                      {item.description}\n                    </p>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.sacCode}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.price}</span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>\n                      {\n                        typeof item.taxes === 'string' &&\n                        parser(item.taxes).map((obj, k) => {\n                          return (<Row key={k}><span>{obj.taxName || obj.tax_name} - {obj.taxAmount || obj.tax_amount_calculated}</span></Row>)\n                        })\n                      }\n                      {\n                        item.isTaxApplicable === false && (<Row>\n                          <span>{item.taxGroupName}</span>\n                          <span>{item.exemptionReasonName}</span></Row>)\n                      }\n                    </span>\n                  </td>\n                  <td className='py-1'>\n                    <span className='fw-bold'>{item.subTotalAmount}</span>\n                  </td>\n                </tr>\n              )\n            })\n            }\n          </tbody>\n        </Table>\n        {/* /Invoice Description */}\n\n        {/* Total & Sales Person */}\n        <CardBody className='invoice-padding pb-0'>\n          <Row className='invoice-sales-total-wrapper'>\n            <Col className='mt-md-0 mt-3' md='6' order={{ md: 1, lg: 2 }}>\n              {amountInwords(data.totalamount)}\n            </Col>\n            <Col className='d-flex justify-content-end' md='6' order={{ md: 2, lg: 1 }}>\n              <div className='invoice-total-wrapper'>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Total Payable:</p>\n                  <p className='invoice-total-amount'>{data.totalamount}</p>\n                </div>\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Pre Tax Amount:</p>\n                  <p className='invoice-total-amount'>{data.subtotalamount}</p>\n                </div>\n                {!data.isrcmapplicable && (\n                  <div>\n                    {\n                      invoiceTaxes.length > 0 &&\n                      invoiceTaxes.map((obj, key) => {\n                        return (\n                          <div className='invoice-total-item' key={key}>\n                            <p className='invoice-total-title'>{obj.taxName || `${obj.tax_name}${obj.tax_percentage}%`}</p>\n                            <p className='invoice-total-amount'>{obj.taxAmount || obj.tax_amount}</p>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>)\n                }\n\n                <hr className='my-50' />\n                <div className='invoice-total-item'>\n                  <p className='invoice-total-title'>Balance Due:</p>\n                  <p className='invoice-total-amount'>{data.dueamount}</p>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </CardBody>\n        {/* /Total & Sales Person */}\n\n        <hr className='invoice-spacing' />\n\n        {/* Invoice Note */}\n        <CardBody className='invoice-padding pt-0'>\n          <Row>\n            <Col sm='12'>\n              <span className='fw-bold'>Note: </span>\n              <span>\n                {data.note}\n              </span>\n            </Col>\n          </Row>\n        </CardBody>\n      </div>\n      {/* /Invoice Note */}\n    </Card>\n  ) : null\n}\n\nexport default PreviewCard\n","// ** React Imports\nimport { Link } from 'react-router-dom'\nimport axios from '@src/configs/axios/axiosConfig'\n// ** Reactstrap Imports\nimport { Card, CardBody, Button, Col, Row, Badge } from 'reactstrap'\nimport { Can } from '@src/utility/context/Can.js'\nimport { useEffect, useState } from 'react'\nconst PreviewActions = ({ id, setSendSidebarOpen, setMarkAsInvoice, invoice }) => {\n\n  const [participants, setParticipants] = useState([])\n\n  const downloadPdf = () => {\n    axios.post('/pdfmaker/pdf', { id: invoice.id })\n      .then((res) => {\n        const downloadLink = document.createElement(\"a\")\n        const fileName = `${invoice.uniqueno}.pdf`\n        downloadLink.href = res.data.pdf\n        downloadLink.download = fileName\n        downloadLink.click()\n        document.removeChild(downloadLink)\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  const getParticipants = () => {\n\n    axios.post('/taskinvoices/getparticipants', { invoiceId: invoice.id })\n      .then((res) => { setParticipants(res.data.taskinvoiceparticipants) })\n      .catch((err) => { console.log(err) })\n\n  }\n\n  useEffect(() => {\n    getParticipants()\n  }, [])\n\n  return (\n    <Card className='invoice-action-wrapper'>\n      <CardBody>\n        <Can I={'read'} a={'invoice'}>\n          <Button color='primary' block className='mb-75' onClick={() => setSendSidebarOpen(true)}>\n            Send Proposal\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button color='primary' outline block className='mb-75' onClick={() => setMarkAsInvoice(true)}>\n            Mark as Invoice\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { downloadPdf() }}>\n            Download\n          </Button>\n        </Can>\n        <Can I={'export'} a={'invoice'}>\n          <Button color='secondary' block outline className='mb-75' onClick={() => { window.print() }}>\n            Print\n          </Button>\n        </Can>\n        <Can I={'write'} a={'invoice'}>\n          <Button tag={Link} to={`/proposal/edit/${id}`} color='secondary' block outline className='mb-75'>\n            Edit\n          </Button>\n        </Can>\n\n        {participants.length > 0 &&\n          <Col className='mt-2'>\n            <h4>Tagged Employees</h4>\n            <Row className='mt-1'>\n              {\n                participants.map((user) => {\n                  return <Badge className='mt-md-75 py-md-75' color='primary'>{user.name}</Badge>\n                })\n              }\n            </Row>\n          </Col>\n        }\n\n        <Col className='mt-2'>\n\n          <Row className='mt-1'>\n            <h5>Task ID</h5>\n            <Col md={12} tag={Link} to={`/task/view/${invoice.taskid}`}>{invoice.uniqueidentity}</Col>\n          </Row>\n\n          <Row className='mt-1'>\n            <h5>Task Description</h5>\n            <Col md={12}>{invoice.description}</Col>\n          </Row>\n        </Col>\n\n      </CardBody>\n    </Card>\n  )\n}\n\n\nexport default PreviewActions\n","// ** React Imports\nimport { useEffect, useState } from 'react'\nimport { useParams, Link, useNavigate } from 'react-router-dom'\n\n// ** Reactstrap Imports\nimport { Row, Col, Alert, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'\n\n// ** Invoice Preview Components\nimport PreviewCard from './PreviewCard'\nimport PreviewActions from './PreviewActions'\nimport SendInvoiceSidebar from '../shared-sidebar/SidebarSendInvoice'\n\n// ** Styles\nimport '@styles/base/pages/app-invoice.scss'\nimport { User, Lock } from 'react-feather'\nimport { markAsInvoice, getInvoice } from '../store/index'\n\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst MySwal = withReactContent(Swal)\n\nconst InvoicePreview = () => {\n  // ** HooksVars\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  // ** States\n  const [sendSidebarOpen, setSendSidebarOpen] = useState(false)\n  const [active, setActive] = useState('1')\n  // ** Functions to toggle add & send sidebar\n  const toggleSendSidebar = () => setSendSidebarOpen(!sendSidebarOpen)\n  const store = useSelector(state => state.proposal)\n  const getInvoiceLoc = async () => {\n\n    await dispatch(getInvoice(id))\n\n  } \n\n  useEffect(() => {\n    getInvoiceLoc()\n  }, [])\n\n  const setMarkAsInvoice = () => {\n\n    return MySwal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, Mark As Invoice!',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-danger ms-1'\n      },\n      buttonsStyling: false\n    }).then(async (result) => {\n      if (result.value) {\n        await dispatch(markAsInvoice(id))\n\n        MySwal.fire({\n          icon: 'success',\n          title: 'Mar as Invoice.',\n          text: 'Proposal Marked As Invoice.',\n          customClass: {\n            confirmButton: 'btn btn-success'\n          }\n        })\n        navigate(`/invoice/view/${id}`)\n      }\n    })\n  }\n\n  const toggleTab = tab => {\n    if (active !== tab) {\n      setActive(tab)\n    }\n  }\n\n  // ** Get invoice on mount based on id\n\n  return store.selectedInvoice !== null && store.selectedInvoice !== undefined ? (\n    <div className='invoice-preview-wrapper'>\n      <Row className='invoice-preview'>\n        <Col xl={10} md={8} sm={12}>\n\n          <Nav pills className='mb-2'>\n            <NavItem>\n              <NavLink active={active === '1'} onClick={() => toggleTab('1')}>\n                <User className='font-medium-3 me-50' />\n                <span className='fw-bold'>Proposal</span>\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <TabContent activeTab={active}>\n            <TabPane tabId='1'>\n              <PreviewCard data={store.selectedInvoice} tabId={active} />\n            </TabPane>\n          </TabContent>\n\n        </Col>\n        <Col xl={2} md={4} sm={12}>\n          <PreviewActions id={id} setSendSidebarOpen={setSendSidebarOpen} setMarkAsInvoice={setMarkAsInvoice} invoice={store.selectedInvoice} />\n        </Col>\n      </Row>\n      <SendInvoiceSidebar toggleSidebar={toggleSendSidebar} open={sendSidebarOpen} invoice={store.selectedInvoice} />\n    </div>\n  ) : (\n    <Alert color='danger'>\n      <h4 className='alert-heading'>Proposal not found</h4>\n      <div className='alert-body'>\n        Proposal with id: {id} doesn't exist. Check list of all Proposal:{' '}\n        <Link to='/Proposal/list'>Proposal List</Link>\n      </div>\n    </Alert>\n  )\n}\n\nexport default InvoicePreview\n","// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\n\n// ** Reactstrap Imports\nimport { Spinner } from 'reactstrap'\n\n// ** Styles\nimport './ui-loader.scss'\n\nconst UILoader = props => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag className={classnames('ui-loader', { [className]: className, show: blocking })}>\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className='overlay' /*eslint-disable */\n            {...(blocking && overlayColor ? { style: { backgroundColor: overlayColor } } : {})}\n            /*eslint-enable */\n          ></div>\n          <div className='loader'>{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: 'div',\n  blocking: false,\n  loader: <Spinner color='primary' />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","const ComponentSpinner = () => {\n  return (\n    <div className='fallback-spinner'>\n      <div className='loading'>\n        <div className='effect-1 effects'></div>\n        <div className='effect-2 effects'></div>\n        <div className='effect-3 effects'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ComponentSpinner\n","// ** Third Party Components\nimport { X } from 'react-feather'\nimport Proptypes from 'prop-types'\nimport classnames from 'classnames'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\n\nconst Sidebar = props => {\n  // ** Props\n  const {\n    open,\n    size,\n    title,\n    width,\n    children,\n    closeBtn,\n    className,\n    toggleSidebar,\n    bodyClassName,\n    contentClassName,\n    wrapperClassName,\n    headerClassName,\n    ...rest\n  } = props\n\n  // ** If user passes custom close btn render that else default close btn\n  const renderCloseBtn = closeBtn ? closeBtn : <X className='cursor-pointer' size={15} onClick={toggleSidebar} />\n\n  return (\n    <Modal\n      isOpen={open}\n      toggle={toggleSidebar}\n      contentClassName={classnames('overflow-hidden', {\n        [contentClassName]: contentClassName\n      })}\n      modalClassName={classnames('modal-slide-in', {\n        [wrapperClassName]: wrapperClassName\n      })}\n      className={classnames({\n        [className]: className,\n        'sidebar-lg': size === 'lg',\n        'sidebar-sm': size === 'sm'\n      })}\n      /*eslint-disable */\n      {...(width !== undefined\n        ? {\n            style: { width: String(width) + 'px' }\n          }\n        : {})}\n      /*eslint-enable */\n      {...rest}\n    >\n      <ModalHeader\n        className={classnames({\n          [headerClassName]: headerClassName\n        })}\n        toggle={toggleSidebar}\n        close={renderCloseBtn}\n        tag='div'\n      >\n        <h5 className='modal-title'>\n          <span className='align-middle'>{title}</span>\n        </h5>\n      </ModalHeader>\n      <PerfectScrollbar options={{ wheelPropagation: false }}>\n        <ModalBody\n          className={classnames('flex-grow-1', {\n            [bodyClassName]: bodyClassName\n          })}\n        >\n          {children}\n        </ModalBody>\n      </PerfectScrollbar>\n    </Modal>\n  )\n}\n\nexport default Sidebar\n\n// ** PropTypes\nSidebar.propTypes = {\n  className: Proptypes.string,\n  bodyClassName: Proptypes.string,\n  open: Proptypes.bool.isRequired,\n  title: Proptypes.string.isRequired,\n  contentClassName: Proptypes.string,\n  wrapperClassName: Proptypes.string,\n  children: Proptypes.any.isRequired,\n  size: Proptypes.oneOf(['sm', 'lg']),\n  toggleSidebar: Proptypes.func.isRequired,\n  width: Proptypes.oneOfType([Proptypes.number, Proptypes.string])\n}\n","export const calculateTax = (amount, taxRateInPercentage, TaxType) => {\n    let calculatedTax = 0\n    if (TaxType === 1) { //Inclusive\n        calculatedTax = parseFloat(amount) - (parseFloat(amount) * (100 / (100 + parseFloat(taxRateInPercentage))))\n        // calculatedTax = parseFloat(amount) - parseFloat(calculatedTax);\n\n    } else if (TaxType === 2) { //Exclusive\n        calculatedTax = (parseFloat(amount) * parseFloat(taxRateInPercentage)) / 100\n    }\n    return parseFloat(calculatedTax)\n}\n\nexport const parser = (str) => {\n    \n    return JSON.parse(str.replace(/\\\\/g, ''))\n\n}","import { I as cleanValue, D as valueTernary, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { g as getOptionValue, a as getOptionLabel } from './Select-09b3775e.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\n\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\n\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n      allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n      _ref$createOptionPosi = _ref.createOptionPosition,\n      createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n      _ref$formatCreateLabe = _ref.formatCreateLabel,\n      formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n      _ref$isValidNewOption = _ref.isValidNewOption,\n      isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n      _ref$getNewOptionData = _ref.getNewOptionData,\n      getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n      onCreateOption = _ref.onCreateOption,\n      _ref$options = _ref.options,\n      propsOptions = _ref$options === void 0 ? [] : _ref$options,\n      propsOnChange = _ref.onChange,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n      getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n      _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n      getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n      inputValue = restSelectProps.inputValue,\n      isLoading = restSelectProps.isLoading,\n      isMulti = restSelectProps.isMulti,\n      value = restSelectProps.value,\n      name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport React from 'react';\nimport { S as Select } from '../../dist/Select-09b3775e.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-783b07d5.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-00a6568c.esm.js';\nimport '../../dist/index-c7a4d7ce.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\nimport '@babel/runtime/helpers/slicedToArray';\n\nvar CreatableSelect = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var creatableProps = useStateManager(props);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\n\nexport default CreatableSelect;\n","// ** Custom Components\nimport Sidebar from '@components/sidebar'\nimport Select from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n// ** Icons Imports\nimport { Link } from 'react-feather'\nimport classnames from 'classnames'\n// ** Reactstrap Imports\nimport { Form, Label, Badge, Button } from 'reactstrap'\nimport axios from '@src/configs/axios/axiosConfig'\nimport { Fragment, useEffect, useState } from 'react'\nimport { loggedInUser, activeOrganization } from '@src/helper/sassHelper'\nimport moment from 'moment'\nconst userData = loggedInUser()\nconst activeOrg = activeOrganization()\nimport UILoader from '@components/ui-loader'\nimport Spinner from '@components/spinner/Loading-spinner'\nimport toast from 'react-hot-toast'\n\nconst SidebarSendInvoice = (props) => {\n\n  const colourStyles = {\n    multiValue: (styles, { }) => {\n\n      return {\n        ...styles,\n        backgroundColor: '#7367f0'\n      }\n    }\n  }\n\n  const [block, setBlock] = useState(false)\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n      </Fragment>\n    )\n  }\n\n  const { open, toggleSidebar, invoice } = props\n  const [thankyouNote, setThankyouNote] = useState('')\n  const [userOptions, setUserOptions] = useState([])\n  const [clientOptions, setClientOptions] = useState([])\n  const [toEmail, setToEmail] = useState([])\n  const [ccEmail, setCCEmail] = useState([])\n\n  const getOrganizationUsers = () => {\n    axios.post('/organizationusers/dropdown').then((res) => {\n      setUserOptions(res.data.organizationusers)\n    }).catch(() => { })\n  }\n\n  const getCoatctInfo = (id) => {\n    axios.post('contactinformations/list', { contactid: id }).then((res) => {\n      setClientOptions(res.data.contactinformations)\n    }).catch(() => { })\n  }\n\n  const dateFormat = (value) => {\n    if (value.length === 13) {\n      return moment(value, 'x').format(\"MMM DD, YYYY\")\n    } else {\n      return moment.unix(value).format(\"MMM DD, YYYY\")\n    }\n\n  }\n\n  const getThankyouNotes = () => {\n    axios.post('/emailtemplates/get', { slug: 'invoice-send-mail' }).then((res) => {\n      const mailSub = res.data.emailtemplates.description\n      const test = mailSub.replace('{invoice_date}', dateFormat(invoice.paymentdue)).replace('{service}', invoice.taskinvoiceitemsservicename).replace('recipient_name', invoice.contactperson).replace('{recipient_name}', invoice.contactperson).replace('{invoice_no}', invoice.uniqueno).replace('{amount}', invoice.totalamount).replace('{invoice_amount}', invoice.totalamount).replace('{your_name}', userData.name).replaceAll('{firm_name}', activeOrg.name).replace('{', '').replace('}', '')\n      setThankyouNote(test)\n    }).catch(() => { })\n  }\n\n  useEffect(() => {\n    if (invoice.clientid !== undefined) {\n      getCoatctInfo(invoice.clientid)\n    }\n    if (invoice.contactid !== undefined) {\n      getCoatctInfo(invoice.contactid)\n    }\n    if (Object.keys(invoice).length > 0) {\n      getOrganizationUsers()\n      getThankyouNotes()\n    }\n  }, [invoice])\n\n  const sendMail = () => {\n    setBlock(true)\n    const subject = `${invoice.uniqueno} Invoices Acknowledgement Mail`\n    axios.post('/google/sendGmail', { content: thankyouNote, subject, toEmail, ccEmail, taskinvoiceId: invoice.id })\n      .then(() => {\n        toggleSidebar(false)\n        setBlock(false)\n        toast.success('Email send Successfully', {position:'bottom-right'})\n      })\n    console.log(() => { })\n  }\n\n  return (\n    <Sidebar\n      size='lg'\n      open={open}\n      title='Send Invoice'\n      headerClassName='mb-1'\n      contentClassName='p-0'\n      bodyClassName='pb-sm-0 pb-3'\n      toggleSidebar={toggleSidebar}\n    >\n      <UILoader blocking={block} loader={<Loader />}>\n        <Form>\n          <div className='mb-1'>\n            <Label for='invoice-from' className='form-label'>\n              To\n            </Label>\n\n            <CreatableSelect\n              className={classnames('react-select')}\n              classNamePrefix='select'\n              isMulti\n              options={clientOptions}\n              onChange={(e) => { setToEmail(e.map(i => i.email)) }}\n              getOptionLabel={(option) => `${option.name} - ${option.email}`}\n              getOptionValue={(option) => option.email}\n              styles={colourStyles}\n            />\n\n          </div>\n          <div className='mb-1'>\n            <Label for='invoice-to' className='form-label'>\n              CC\n            </Label>\n            <Select\n              className={classnames('react-select')}\n              classNamePrefix='select'\n              isMulti\n              onChange={(e) => { setCCEmail(e.map(i => i.email)) }}\n              options={userOptions}\n              getOptionLabel={(option) => `${option.name} - ${option.email}`}\n              getOptionValue={(option) => option.email}\n              styles={colourStyles}\n            />\n          </div>\n          <div className='mb-1'>\n            <Label for='invoice-message' className='form-label'>\n              Message\n            </Label>\n            <div contentEditable={true} dangerouslySetInnerHTML={{ __html: thankyouNote }} className='border border-1 rounded-2 maxheight-400'>\n            </div>\n          </div>\n          <div className='mb-1'>\n            <Badge color='light-primary'>\n              <Link className='me-50' size={14} />\n              <span className='align-middle'>Invoice Attached</span>\n            </Badge>\n          </div>\n          <div className='d-flex flex-wrap mt-2'>\n            <Button className='me-1' color='primary' onClick={() => { sendMail() }} >\n              Send\n            </Button>\n            <Button color='secondary' outline onClick={toggleSidebar}>\n              Cancel\n            </Button>\n          </div>\n        </Form>\n      </UILoader>\n    </Sidebar>\n  )\n}\n\nexport default SidebarSendInvoice\n"],"sourceRoot":""}