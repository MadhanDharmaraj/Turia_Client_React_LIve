(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[14],{1312:function(e,a,s){"use strict";s.r(a);var t=s(14),c=s(1),n=s(4),r=s(22),i=s(2),l=s(13),o=s(140),j=s(27),d=s(557),b=s(172),m=s(142),u=s(141),O=s(532),x=s(769),f=s(718),h=s(525),p=s(526),v=s(155),g=s(527),N=s(553),w=s(540),y=s(97),k=(s(548),s(5)),z=s(16),S=function(e){var a=e.t,s=e.name;return Object(z.jsxs)("div",{className:"d-flex",children:[Object(z.jsx)("div",{className:"me-1",children:Object(z.jsx)(g.a,{size:"sm",color:"success",icon:Object(z.jsx)(x.a,{size:12})})}),Object(z.jsxs)("div",{className:"d-flex flex-column",children:[Object(z.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(z.jsx)("h6",{children:s}),Object(z.jsx)(f.a,{size:12,className:"cursor-pointer",onClick:function(){return m.b.dismiss(a.id)}})]}),Object(z.jsx)("span",{children:"You have successfully logged in as an user to Turia. Now you can start to explore. Enjoy!"})]})]})},C={password:"",email:""};a.default=function(){var e,a,x,f=Object(d.a)().skin,g=Object(u.b)(),I=Object(l.f)(),F=Object(i.useState)(!1),P=Object(r.a)(F,2),E=P[0],L=P[1],T=function(){return Object(z.jsx)(i.Fragment,{children:Object(z.jsx)(p.a,{})})},B=Object(O.f)({defaultValues:C}),J=B.control,K=B.setError,M=B.handleSubmit,R=B.formState.errors,D="dark"===f?"login-v2-dark.svg":"login-v2.svg",H=s(567)("./".concat(D)).default,V=function(){var e=Object(n.a)(Object(c.a)().mark((function e(a){var s,t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={userId:a.users.id},e.next=3,k.a.post("organizationusers/usersorganization",s);case 3:0===(t=e.sent).data.organizations.length?I("/organization/create"):t.data.organizations.length>0&&(n=t.data.organizations.find((function(e){return!0===e.isdefault})),localStorage.setItem("activeOrganization",JSON.stringify(n||t.data.organizations[0])),I(Object(w.c)("admin")));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(z.jsx)("div",{className:"auth-wrapper auth-cover",children:Object(z.jsx)(h.a,{blocking:E,loader:Object(z.jsx)(T,{}),children:Object(z.jsxs)(y.ib,{className:"auth-inner m-0",children:[Object(z.jsxs)(o.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:[Object(z.jsx)("img",{src:j.a.app.appLogoImage,alt:"Turia Logo",width:45,height:35}),Object(z.jsx)("h1",{className:"brand-text text-primary",children:"Turia"})]}),Object(z.jsx)(y.B,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(z.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(z.jsx)("img",{className:"img-fluid",src:H,alt:"Login Cover"})})}),Object(z.jsx)(y.B,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(z.jsxs)(y.B,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[Object(z.jsx)(y.v,{tag:"h2",className:"fw-bold mb-1",children:"Welcome to Turia! \ud83d\udc4b"}),Object(z.jsx)(y.u,{className:"mb-2",children:"Please sign-in to your account and start the adventure"}),Object(z.jsxs)(y.H,{className:"auth-login-form mt-2",onSubmit:M((function(e){if(Object.values(e).every((function(e){return e.length>0})))L(!0),b.a.login({email:e.email,password:e.password}).then(function(){var e=Object(n.a)(Object(c.a)().mark((function e(a){var s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!1),s=a.data,e.next=4,g(Object(v.b)(s));case 4:return e.next=6,V(s);case 6:Object(m.b)((function(e){return Object(z.jsx)(S,{t:e,name:s.users.name})}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){L(!1),Object.keys(e.response.data.errors).forEach((function(a){K(a,{type:"custom",message:e.response.data.errors[a][0]})}))}));else for(var a in e)0===e[a].length&&K(a,{type:"manual",message:"Please Enter a ".concat(a)})})),children:[R.action&&Object(z.jsx)("p",{className:"text-danger",children:null===(e=R.action)||void 0===e?void 0:e.message}),Object(z.jsxs)("div",{className:"mb-1",children:[Object(z.jsx)(y.N,{className:"form-label",for:"email",children:"Email"}),Object(z.jsx)(O.a,{id:"email",name:"email",control:J,render:function(e){var a=e.field;return Object(z.jsx)(y.K,Object(t.a)({autoFocus:!0,type:"email",placeholder:"john@example.com",invalid:R.email&&!0},a))}}),R.email&&Object(z.jsx)(y.I,{children:null===(a=R.email)||void 0===a?void 0:a.message})]}),Object(z.jsxs)("div",{className:"mb-1",children:[Object(z.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(z.jsx)(y.N,{className:"form-label",for:"login-password",children:"Password"}),Object(z.jsx)(o.b,{to:"/forgot-password",children:Object(z.jsx)("small",{children:"Forgot Password?"})})]}),Object(z.jsx)(O.a,{id:"password",name:"password",control:J,render:function(e){var a=e.field;return Object(z.jsx)(N.a,Object(t.a)({className:"input-group-merge",invalid:R.password&&!0},a))}}),R.password&&Object(z.jsx)(y.I,{children:null===(x=R.password)||void 0===x?void 0:x.message})]}),Object(z.jsxs)("div",{className:"form-check mb-1",children:[Object(z.jsx)(y.K,{type:"checkbox",id:"remember-me"}),Object(z.jsx)(y.N,{className:"form-check-label",for:"remember-me",children:"Remember Me"})]}),Object(z.jsx)(y.i,{type:"submit",color:"primary",block:!0,children:"Sign in"})]}),Object(z.jsxs)("p",{className:"text-center mt-2",children:[Object(z.jsx)("span",{className:"me-25",children:"New on our platform?"}),Object(z.jsx)(o.b,{to:"/register",children:Object(z.jsx)("span",{children:"Create an account"})})]})]})})]})})})}},525:function(e,a,s){"use strict";var t=s(14),c=s(34),n=s(2),r=s(7),i=s.n(r),l=s(97),o=(s(528),s(16)),j=function(e){var a,s=e.children,r=e.blocking,l=e.loader,j=e.className,d=e.tag,b=e.overlayColor,m=d;return Object(o.jsxs)(m,{className:i()("ui-loader",(a={},Object(c.a)(a,j,j),Object(c.a)(a,"show",r),a)),children:[s,r?Object(o.jsxs)(n.Fragment,{children:[Object(o.jsx)("div",Object(t.a)({className:"overlay"},r&&b?{style:{backgroundColor:b}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};a.a=j,j.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.jb,{color:"primary"})}},526:function(e,a,s){"use strict";var t=s(16);a.a=function(){return Object(t.jsx)("div",{className:"fallback-spinner",children:Object(t.jsxs)("div",{className:"loading",children:[Object(t.jsx)("div",{className:"effect-1 effects"}),Object(t.jsx)("div",{className:"effect-2 effects"}),Object(t.jsx)("div",{className:"effect-3 effects"})]})})}},528:function(e,a,s){},548:function(e,a,s){},553:function(e,a,s){"use strict";var t=s(14),c=s(34),n=s(22),r=s(144),i=s(2),l=s(7),o=s.n(l),j=s(786),d=s(785),b=s(97),m=s(16),u=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName","invalid"],O=Object(i.forwardRef)((function(e,a){var s,l=e.label,O=e.hideIcon,x=e.showIcon,f=e.visible,h=e.className,p=e.htmlFor,v=e.placeholder,g=e.iconSize,N=e.inputClassName,w=e.invalid,y=Object(r.a)(e,u),k=Object(i.useState)(f),z=Object(n.a)(k,2),S=z[0],C=z[1];return Object(m.jsxs)(i.Fragment,{children:[l?Object(m.jsx)(b.N,{className:"form-label",for:p,children:l}):null,Object(m.jsxs)(b.L,{className:o()((s={},Object(c.a)(s,h,h),Object(c.a)(s,"is-invalid",w),s)),children:[Object(m.jsx)(b.K,Object(t.a)(Object(t.a)({ref:a,invalid:w,type:!1===S?"password":"text",placeholder:v||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:o()(Object(c.a)({},N,N))},l&&p?{id:p}:{}),y)),Object(m.jsx)(b.M,{className:"cursor-pointer",onClick:function(){return C(!S)},children:function(){var e=g||14;return!1===S?O||Object(m.jsx)(j.a,{size:e}):x||Object(m.jsx)(d.a,{size:e})}()})]})]})}));a.a=O,O.defaultProps={visible:!1}}}]);
//# sourceMappingURL=14.17810636.chunk.js.map